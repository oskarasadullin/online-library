
==== FILE: .\.dockerignore ====
node_modules
__pycache__
*.pyc
*.pyo
*.pyd
.Python
env
venv
.venv
pip-log.txt
pip-delete-this-directory.txt
.tox
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
*.log
.git
.gitignore
.mypy_cache
.pytest_cache
.hypothesis



==== FILE: .\.env ====
# ===========================================
# БАЗА ДАННЫХ (PostgreSQL)
# ===========================================
POSTGRES_DB=library_db
POSTGRES_USER=library_user
POSTGRES_PASSWORD=LibrarySecurePassword2025!

# ===========================================
# BACKEND (FastAPI)
# ===========================================
DATABASE_URL=postgresql://library_user:LibrarySecurePassword2025!@db:5432/library_db

# Сгенерируй НОВЫЙ ключ!
SECRET_KEY=твой-новый-секретный-ключ-32-символа

ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
BOOKS_DIRECTORY=/app/books

# ===========================================
# ОБЩИЕ НАСТРОЙКИ
# ===========================================
ENVIRONMENT=production  # ← ИЗМЕНЕНО
LOG_LEVEL=INFO



==== FILE: .\.gitignore ====
# ==================== DEPENDENCIES ====================
# Node.js
node_modules/
frontend/node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
package-lock.json
yarn.lock

# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
backend/__pycache__/
backend/**/__pycache__/
*.pyc
*.pyo
*.pyd
.pytest_cache/
.mypy_cache/
.hypothesis/
.coverage
.coverage.*
htmlcov/
*.cover
.tox/
*.egg
*.egg-info/
dist/
build/
pip-log.txt
pip-delete-this-directory.txt

# ==================== ENVIRONMENT VARIABLES ====================
.env
.env.local
.env.development.local
.env.test.local
.env.production.local
backend/.env
frontend/.env
**/.env

# ==================== DATABASE ====================
# Локальные базы данных (не для продакшн)
*.db
*.sqlite
*.sqlite3
db.sqlite3
postgres-data/
db_volume/
*.sql.backup

# ==================== DOCKER ====================
# Docker override файлы (локальные настройки)
docker-compose.override.yml
.dockerignore

# ==================== BUILD FILES ====================
# React build
frontend/build/
frontend/dist/
frontend/.cache/
frontend/out/

# Backend build
backend/dist/
backend/build/

# ==================== IDE & EDITORS ====================
# VSCode
.vscode/
.vscode/*
!.vscode/extensions.json
!.vscode/settings.json

# JetBrains (PyCharm, WebStorm, IntelliJ)
.idea/
*.iml
*.iws
*.ipr
.idea_modules/

# Sublime Text
*.sublime-project
*.sublime-workspace

# Vim
*.swp
*.swo
*~

# ==================== OS FILES ====================
# macOS
.DS_Store
.AppleDouble
.LSOverride
Icon
._*
.Spotlight-V100
.Trashes

# Windows
Thumbs.db
ehthumbs.db
Desktop.ini
$RECYCLE.BIN/
*.lnk

# Linux
.directory
*~

# ==================== LOGS ====================
*.log
logs/
*.log.*
npm-debug.log*
yarn-debug.log*
yarn-error.log*
backend/logs/
frontend/logs/

# ==================== BOOKS (PDF FILES) ====================
# НЕ загружаем книги в Git (они большие)
books/*.pdf
backend/books/*.pdf
backend/app/books/*.pdf
*.pdf

# ==================== TESTING ====================
coverage/
.nyc_output/
test-results/
*.lcov

# ==================== TEMPORARY FILES ====================
tmp/
temp/
*.tmp
*.bak
*.swp
*.old
.cache/

# ==================== SECURITY ====================
# Секретные ключи и сертификаты
*.pem
*.key
*.cert
*.csr
*.crt
secrets/

# ==================== MISC ====================
.sass-cache/
.eslintcache
.stylelintcache
.parcel-cache/
.next/
.nuxt/
.vercel
.turbo

# Jupyter Notebook
.ipynb_checkpoints

# pyenv
.python-version

# Celery
celerybeat-schedule
celerybeat.pid

# ==================== KEEP THESE (ВАЖНЫЕ ФАЙЛЫ) ====================
# Эти файлы НУЖНО загружать в Git:
!.gitignore
!.dockerignore
!.gitkeep
!README.md
!LICENSE
!docker-compose.yml
!Dockerfile
!requirements.txt
!package.json



==== FILE: .\collect.py ====
import os
from pathlib import Path

# Что игнорировать
IGNORE_DIRS = {'node_modules', 'dist', 'build', '.git', 'postgres_data', '__pycache__', '.vscode'}
IGNORE_FILES = {'package-lock.json', 'package.json'}
IGNORE_EXTENSIONS = {'.log', '.jpg', '.jpeg', '.png', '.svg', '.ico', '.map'}

OUTPUT_FILE = 'project_code.txt'

def should_ignore(path):
    """Проверяем, нужно ли игнорировать файл/папку"""
    parts = Path(path).parts
    
    # Игнорируем папки
    if any(ignored in parts for ignored in IGNORE_DIRS):
        return True
    
    # Игнорируем файлы по имени
    if Path(path).name in IGNORE_FILES:
        return True
    
    # Игнорируем по расширению
    if Path(path).suffix in IGNORE_EXTENSIONS:
        return True
    
    return False

def collect_files(root_dir='.'):
    """Собираем все файлы проекта"""
    with open(OUTPUT_FILE, 'w', encoding='utf-8') as output:
        for root, dirs, files in os.walk(root_dir):
            # Удаляем игнорируемые директории из обхода
            dirs[:] = [d for d in dirs if d not in IGNORE_DIRS]
            
            for file in files:
                file_path = os.path.join(root, file)
                
                if should_ignore(file_path):
                    continue
                
                try:
                    print(f"Обрабатываю: {file_path}")
                    output.write(f"\n==== FILE: {file_path} ====\n")
                    
                    with open(file_path, 'r', encoding='utf-8') as f:
                        content = f.read()
                        output.write(content)
                        output.write("\n\n")
                
                except Exception as e:
                    print(f"Ошибка при чтении {file_path}: {e}")
                    output.write(f"[ОШИБКА ЧТЕНИЯ: {e}]\n\n")

if __name__ == '__main__':
    print(f"Собираю код в {OUTPUT_FILE}...")
    collect_files()
    print(f"Готово! Файл сохранён в {OUTPUT_FILE}")



==== FILE: .\docker-compose.yml ====
version: '3.8'

services:
  db:
    image: postgres:16-alpine
    container_name: library_db
    environment:
      POSTGRES_DB: ${POSTGRES_DB:-library_db}
      POSTGRES_USER: ${POSTGRES_USER:-library_user}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:-library_password}
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./database/init.sql:/docker-entrypoint-initdb.d/init.sql
    ports:
      - "5430:5432"
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U library_user -d library_db"]
      interval: 10s
      timeout: 5s
      retries: 5
    networks:
      - library_network

  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    container_name: library_backend
    environment:
      DATABASE_URL: ${DATABASE_URL:-postgresql://library_user:library_password@db:5432/library_db}
      SECRET_KEY: ${SECRET_KEY:-dev-secret-key-change-in-production-32-chars}
      ACCESS_TOKEN_EXPIRE_MINUTES: ${ACCESS_TOKEN_EXPIRE_MINUTES:-30}
      BOOKS_DIRECTORY: /app/books
    volumes:
      # - ./backend/app:/app/app  ← УБЕРИ ЭТУ СТРОКУ (для dev)
      - ./books:/app/books  # Только книги оставляем
    ports:
      - "8000:8000"
    depends_on:
      db:
        condition: service_healthy
    networks:
      - library_network
    restart: unless-stopped

  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    container_name: library_frontend
    ports:
      - "8080:80"
    depends_on:
      - backend
    networks:
      - library_network
    restart: unless-stopped

volumes:
  postgres_data:

networks:
  library_network:
    driver: bridge



==== FILE: .\project_code.txt ====

==== FILE: .\.dockerignore ====
node_modules
__pycache__
*.pyc
*.pyo
*.pyd
.Python
env
venv
.venv
pip-log.txt
pip-delete-this-directory.txt
.tox
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
*.log
.git
.gitignore
.mypy_cache
.pytest_cache
.hypothesis



==== FILE: .\.env ====
# ===========================================
# БАЗА ДАННЫХ (PostgreSQL)
# ===========================================
POSTGRES_DB=library_db
POSTGRES_USER=library_user
POSTGRES_PASSWORD=LibrarySecurePassword2025!

# ===========================================
# BACKEND (FastAPI)
# ===========================================
DATABASE_URL=postgresql://library_user:LibrarySecurePassword2025!@db:5432/library_db

# Сгенерируй НОВЫЙ ключ!
SECRET_KEY=твой-новый-секретный-ключ-32-символа

ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
BOOKS_DIRECTORY=/app/books

# ===========================================
# ОБЩИЕ НАСТРОЙКИ
# ===========================================
ENVIRONMENT=production  # ← ИЗМЕНЕНО
LOG_LEVEL=INFO



==== FILE: .\.gitignore ====
# ==================== DEPENDENCIES ====================
# Node.js
node_modules/
frontend/node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
package-lock.json
yarn.lock

# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
backend/__pycache__/
backend/**/__pycache__/
*.pyc
*.pyo
*.pyd
.pytest_cache/
.mypy_cache/
.hypothesis/
.coverage
.coverage.*
htmlcov/
*.cover
.tox/
*.egg
*.egg-info/
dist/
build/
pip-log.txt
pip-delete-this-directory.txt

# ==================== ENVIRONMENT VARIABLES ====================
.env
.env.local
.env.development.local
.env.test.local
.env.production.local
backend/.env
frontend/.env
**/.env

# ==================== DATABASE ====================
# Локальные базы данных (не для продакшн)
*.db
*.sqlite
*.sqlite3
db.sqlite3
postgres-data/
db_volume/
*.sql.backup

# ==================== DOCKER ====================
# Docker override файлы (локальные настройки)
docker-compose.override.yml
.dockerignore

# ==================== BUILD FILES ====================
# React build
frontend/build/
frontend/dist/
frontend/.cache/
frontend/out/

# Backend build
backend/dist/
backend/build/

# ==================== IDE & EDITORS ====================
# VSCode
.vscode/
.vscode/*
!.vscode/extensions.json
!.vscode/settings.json

# JetBrains (PyCharm, WebStorm, IntelliJ)
.idea/
*.iml
*.iws
*.ipr
.idea_modules/

# Sublime Text
*.sublime-project
*.sublime-workspace

# Vim
*.swp
*.swo
*~

# ==================== OS FILES ====================
# macOS
.DS_Store
.AppleDouble
.LSOverride
Icon
._*
.Spotlight-V100
.Trashes

# Windows
Thumbs.db
ehthumbs.db
Desktop.ini
$RECYCLE.BIN/
*.lnk

# Linux
.directory
*~

# ==================== LOGS ====================
*.log
logs/
*.log.*
npm-debug.log*
yarn-debug.log*
yarn-error.log*
backend/logs/
frontend/logs/

# ==================== BOOKS (PDF FILES) ====================
# НЕ загружаем книги в Git (они большие)
books/*.pdf
backend/books/*.pdf
backend/app/books/*.pdf
*.pdf

# ==================== TESTING ====================
coverage/
.nyc_output/
test-results/
*.lcov

# ==================== TEMPORARY FILES ====================
tmp/
temp/
*.tmp
*.bak
*.swp
*.old
.cache/

# ==================== SECURITY ====================
# Секретные ключи и сертификаты
*.pem
*.key
*.cert
*.csr
*.crt
secrets/

# ==================== MISC ====================
.sass-cache/
.eslintcache
.stylelintcache
.parcel-cache/
.next/
.nuxt/
.vercel
.turbo

# Jupyter Notebook
.ipynb_checkpoints

# pyenv
.python-version

# Celery
celerybeat-schedule
celerybeat.pid

# ==================== KEEP THESE (ВАЖНЫЕ ФАЙЛЫ) ====================
# Эти файлы НУЖНО загружать в Git:
!.gitignore
!.dockerignore
!.gitkeep
!README.md
!LICENSE
!docker-compose.yml
!Dockerfile
!requirements.txt
!package.json



==== FILE: .\collect.py ====
import os
from pathlib import Path

# Что игнорировать
IGNORE_DIRS = {'node_modules', 'dist', 'build', '.git', 'postgres_data', '__pycache__', '.vscode'}
IGNORE_FILES = {'package-lock.json', 'package.json'}
IGNORE_EXTENSIONS = {'.log', '.jpg', '.jpeg', '.png', '.svg', '.ico', '.map'}

OUTPUT_FILE = 'project_code.txt'

def should_ignore(path):
    """Проверяем, нужно ли игнорировать файл/папку"""
    parts = Path(path).parts
    
    # Игнорируем папки
    if any(ignored in parts for ignored in IGNORE_DIRS):
        return True
    
    # Игнорируем файлы по имени
    if Path(path).name in IGNORE_FILES:
        return True
    
    # Игнорируем по расширению
    if Path(path).suffix in IGNORE_EXTENSIONS:
        return True
    
    return False

def collect_files(root_dir='.'):
    """Собираем все файлы проекта"""
    with open(OUTPUT_FILE, 'w', encoding='utf-8') as output:
        for root, dirs, files in os.walk(root_dir):
            # Удаляем игнорируемые директории из обхода
            dirs[:] = [d for d in dirs if d not in IGNORE_DIRS]
            
            for file in files:
                file_path = os.path.join(root, file)
                
                if should_ignore(file_path):
                    continue
                
                try:
                    print(f"Обрабатываю: {file_path}")
                    output.write(f"\n==== FILE: {file_path} ====\n")
                    
                    with open(file_path, 'r', encoding='utf-8') as f:
                        content = f.read()
                        output.write(content)
                        output.write("\n\n")
                
                except Exception as e:
                    print(f"Ошибка при чтении {file_path}: {e}")
                    output.write(f"[ОШИБКА ЧТЕНИЯ: {e}]\n\n")

if __name__ == '__main__':
    print(f"Собираю код в {OUTPUT_FILE}...")
    collect_files()
    print(f"Готово! Файл сохранён в {OUTPUT_FILE}")



==== FILE: .\docker-compose.yml ====
version: '3.8'

services:
  db:
    image: postgres:16-alpine
    container_name: library_db
    environment:
      POSTGRES_DB: ${POSTGRES_DB:-library_db}
      POSTGRES_USER: ${POSTGRES_USER:-library_user}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:-library_password}
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./database/init.sql:/docker-entrypoint-initdb.d/init.sql
    ports:
      - "5430:5432"
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U library_user -d library_db"]
      interval: 10s
      timeout: 5s
      retries: 5
    networks:
      - library_network

  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    container_name: library_backend
    environment:
      DATABASE_URL: ${DATABASE_URL:-postgresql://library_user:library_password@db:5432/library_db}
      SECRET_KEY: ${SECRET_KEY:-dev-secret-key-change-in-production-32-chars}
      ACCESS_TOKEN_EXPIRE_MINUTES: ${ACCESS_TOKEN_EXPIRE_MINUTES:-30}
      BOOKS_DIRECTORY: /app/books
    volumes:
      # - ./backend/app:/app/app  ← УБЕРИ ЭТУ СТРОКУ (для dev)
      - ./books:/app/books  # Только книги оставляем
    ports:
      - "8000:8000"
    depends_on:
      db:
        condition: service_healthy
    networks:
      - library_network
    restart: unless-stopped

  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    container_name: library_frontend
    ports:
      - "8080:80"
    depends_on:
      - backend
    networks:
      - library_network
    restart: unless-stopped

volumes:
  postgres_data:

networks:
  library_network:
    driver: bridge



==== FILE: .\README.md ====
# Онлайн-библиотека

Современная онлайн-библиотека с возможностью просмотра, скачивания и оценки книг.

## Технологии

- **Backend**: FastAPI, PostgreSQL, SQLAlchemy
- **Frontend**: React, React Router
- **Containerization**: Docker, Docker Compose

## Быстрый старт

### Предварительные требования

- Docker
- Docker Compose

### Установка и запуск

1. Клонируйте репозиторий
2. Создайте директорию для книг:
mkdir books

3. Поместите PDF файлы в формате `#ТЭГ_#ЖАНР_Название_книги_Автор.pdf` в директорию `books/`

4. Запустите проект:
docker-compose up --build

5. Откройте браузер:
   - Frontend: http://localhost
   - Backend API: http://localhost:8000
   - API Docs: http://localhost:8000/docs

### Создание первого админа

1. Зарегистрируйтесь через веб-интерфейс
2. Подключитесь к базе данных:
docker exec -it library_db psql -U library_user -d library_db

3. Сделайте пользователя администратором:
UPDATE users SET is_admin = true WHERE email = 'ваш@email.com';

## Функционал

- Просмотр каталога книг
- Поиск и фильтрация
- Онлайн-чтение PDF
- Скачивание книг
- Система рейтингов и отзывов
- Избранное
- Отметка прочитанных книг
- Админ-панель для управления книгами
- Светлая/темная тема

## Структура проекта

online-library/
├── backend/ # FastAPI приложение
├── frontend/ # React приложение
├── database/ # SQL скрипты
├── books/ # Директория с PDF книгами
└── docker-compose.yml

## Лицензия

MIT


==== FILE: .\backend\Dockerfile ====
FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY ./app ./app

RUN mkdir -p /app/books

# С workers для лучшей производительности
CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000", "--workers", "2"]



==== FILE: .\backend\requirements.txt ====
﻿fastapi==0.109.0
uvicorn[standard]==0.27.0
sqlalchemy==2.0.25
psycopg2-binary==2.9.9
python-multipart==0.0.6
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
pydantic==2.5.3
pydantic-settings==2.1.0
python-dotenv==1.0.0
PyPDF2==3.0.1
aiofiles==23.2.1
email-validator==2.1.0
bcrypt==4.0.1



==== FILE: .\backend\app\auth.py ====
from datetime import datetime, timedelta
from typing import Optional
from jose import JWTError, jwt
from passlib.context import CryptContext
from fastapi import Depends, HTTPException, status
from fastapi.security import HTTPBearer, HTTPAuthorizationCredentials
from sqlalchemy.orm import Session
from .config import settings
from .database import get_db
from . import models, schemas

pwd_context = CryptContext(schemes=["bcrypt"], deprecated="auto", bcrypt__rounds=12)

# ИСПРАВЛЕНО: auto_error=False позволяет работать без токена
security = HTTPBearer(auto_error=False)

def verify_password(plain_password: str, hashed_password: str) -> bool:
    return pwd_context.verify(plain_password, hashed_password)

def get_password_hash(password: str) -> str:
    if len(password.encode('utf-8')) > 72:
        password = password[:72]
    return pwd_context.hash(password)

def create_access_token(data: dict, expires_delta: Optional[timedelta] = None):
    to_encode = data.copy()
    if expires_delta:
        expire = datetime.utcnow() + expires_delta
    else:
        expire = datetime.utcnow() + timedelta(minutes=15)
    to_encode.update({"exp": expire})
    encoded_jwt = jwt.encode(to_encode, settings.SECRET_KEY, algorithm=settings.ALGORITHM)
    return encoded_jwt

def get_current_user(
    credentials: HTTPAuthorizationCredentials = Depends(security),
    db: Session = Depends(get_db)
) -> models.User:
    credentials_exception = HTTPException(
        status_code=status.HTTP_401_UNAUTHORIZED,
        detail="Не удалось проверить учетные данные"
    )
    
    if not credentials:
        raise credentials_exception
    
    try:
        token = credentials.credentials
        payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
        email: str = payload.get("sub")
        if email is None:
            raise credentials_exception
        token_data = schemas.TokenData(email=email)
    except JWTError:
        raise credentials_exception
    
    user = db.query(models.User).filter(models.User.email == token_data.email).first()
    if user is None:
        raise credentials_exception
    return user

def get_optional_current_user(
    credentials: Optional[HTTPAuthorizationCredentials] = Depends(security),
    db: Session = Depends(get_db)
) -> Optional[models.User]:
    """
    Возвращает пользователя если есть токен, иначе None.
    Не выбрасывает исключение при отсутствии токена.
    """
    if not credentials:
        return None
    try:
        return get_current_user(credentials, db)
    except HTTPException:
        return None

def get_current_admin_user(
    current_user: models.User = Depends(get_current_user)
) -> models.User:
    if not current_user.is_admin:
        raise HTTPException(
            status_code=status.HTTP_403_FORBIDDEN,
            detail="У вас нет прав доступа"
        )
    return current_user



==== FILE: .\backend\app\config.py ====
from pydantic_settings import BaseSettings
from typing import Optional

class Settings(BaseSettings):
    DATABASE_URL: str = "postgresql://library_user:library_password@db:5432/library_db"
    SECRET_KEY: str = "your-secret-key-change-in-production-min-32-characters-long"
    ALGORITHM: str = "HS256"
    ACCESS_TOKEN_EXPIRE_MINUTES: int = 30
    BOOKS_DIRECTORY: str = "/app/books"
    
    class Config:
        env_file = ".env"

settings = Settings()



==== FILE: .\backend\app\crud.py ====
from sqlalchemy.orm import Session
from sqlalchemy import or_, func, and_
from typing import List, Optional
from . import models, schemas
from .auth import get_password_hash

# ============ USER CRUD OPERATIONS ============

def get_user_by_email(db: Session, email: str) -> Optional[models.User]:
    """Получить пользователя по email"""
    return db.query(models.User).filter(models.User.email == email).first()

def get_user_by_id(db: Session, user_id: int) -> Optional[models.User]:
    """Получить пользователя по ID"""
    return db.query(models.User).filter(models.User.id == user_id).first()

def get_users(db: Session, skip: int = 0, limit: int = 100) -> List[models.User]:
    """Получить список всех пользователей"""
    return db.query(models.User).offset(skip).limit(limit).all()

def create_user(db: Session, user: schemas.UserCreate) -> models.User:
    """Создать нового пользователя"""
    hashed_password = get_password_hash(user.password)
    db_user = models.User(
        email=user.email,
        full_name=user.full_name,
        hashed_password=hashed_password,
        is_admin=False  # По умолчанию не админ
    )
    db.add(db_user)
    db.commit()
    db.refresh(db_user)
    return db_user

def update_user(db: Session, user_id: int, updates: dict) -> Optional[models.User]:
    """Обновить данные пользователя"""
    user = get_user_by_id(db, user_id)
    if user:
        for key, value in updates.items():
            if hasattr(user, key):
                setattr(user, key, value)
        db.commit()
        db.refresh(user)
    return user

def make_admin(db: Session, user_id: int) -> Optional[models.User]:
    """Сделать пользователя администратором"""
    return update_user(db, user_id, {"is_admin": True})

def delete_user(db: Session, user_id: int) -> bool:
    """Удалить пользователя"""
    user = get_user_by_id(db, user_id)
    if user:
        db.delete(user)
        db.commit()
        return True
    return False

# ============ BOOK CRUD OPERATIONS ============

def get_books(
    db: Session,
    skip: int = 0,
    limit: int = 100,
    tag: Optional[str] = None,
    genre: Optional[str] = None,
    author: Optional[str] = None,
    search: Optional[str] = None,
    title: Optional[str] = None
) -> List[models.Book]:
    """
    Получить список книг с фильтрацией
    
    Args:
        db: Сессия базы данных
        skip: Количество пропускаемых записей
        limit: Максимальное количество записей
        tag: Фильтр по тегу
        genre: Фильтр по жанру
        author: Фильтр по автору
        search: Поиск по всем полям
        title: Фильтр по названию
    """
    query = db.query(models.Book)
    
    if tag:
        query = query.filter(models.Book.tag.ilike(f"%{tag}%"))
    if genre:
        query = query.filter(models.Book.genre.ilike(f"%{genre}%"))
    if author:
        query = query.filter(models.Book.author.ilike(f"%{author}%"))
    if title:
        query = query.filter(models.Book.title.ilike(f"%{title}%"))
    if search:
        search_filter = or_(
            models.Book.title.ilike(f"%{search}%"),
            models.Book.description.ilike(f"%{search}%"),
            models.Book.author.ilike(f"%{search}%"),
            models.Book.tag.ilike(f"%{search}%"),
            models.Book.genre.ilike(f"%{search}%")
        )
        query = query.filter(search_filter)
    
    return query.order_by(models.Book.created_at.desc()).offset(skip).limit(limit).all()

def get_books_count(
    db: Session,
    tag: Optional[str] = None,
    genre: Optional[str] = None,
    author: Optional[str] = None,
    search: Optional[str] = None
) -> int:
    """Получить количество книг с учетом фильтров"""
    query = db.query(func.count(models.Book.id))
    
    if tag:
        query = query.filter(models.Book.tag.ilike(f"%{tag}%"))
    if genre:
        query = query.filter(models.Book.genre.ilike(f"%{genre}%"))
    if author:
        query = query.filter(models.Book.author.ilike(f"%{author}%"))
    if search:
        search_filter = or_(
            models.Book.title.ilike(f"%{search}%"),
            models.Book.description.ilike(f"%{search}%"),
            models.Book.author.ilike(f"%{search}%"),
            models.Book.tag.ilike(f"%{search}%"),
            models.Book.genre.ilike(f"%{search}%")
        )
        query = query.filter(search_filter)
    
    return query.scalar()

def get_book(db: Session, book_id: int) -> Optional[models.Book]:
    """Получить книгу по ID"""
    return db.query(models.Book).filter(models.Book.id == book_id).first()

def get_book_by_filename(db: Session, filename: str) -> Optional[models.Book]:
    """Получить книгу по имени файла"""
    return db.query(models.Book).filter(models.Book.filename == filename).first()

def create_book(db: Session, book: schemas.BookCreate) -> models.Book:
    """Создать новую книгу"""
    db_book = models.Book(**book.dict())
    db.add(db_book)
    db.commit()
    db.refresh(db_book)
    return db_book

def update_book(db: Session, book_id: int, book_update: schemas.BookUpdate) -> Optional[models.Book]:
    """Обновить информацию о книге"""
    db_book = get_book(db, book_id)
    if db_book:
        update_data = book_update.dict(exclude_unset=True)
        for field, value in update_data.items():
            setattr(db_book, field, value)
        db.commit()
        db.refresh(db_book)
    return db_book

def delete_book(db: Session, book_id: int) -> bool:
    """Удалить книгу"""
    db_book = get_book(db, book_id)
    if db_book:
        db.delete(db_book)
        db.commit()
        return True
    return False

# ============ RATING OPERATIONS ============

def get_book_average_rating(db: Session, book_id: int) -> Optional[float]:
    """Получить средний рейтинг книги"""
    result = db.query(func.avg(models.Rating.value)).filter(
        models.Rating.book_id == book_id
    ).scalar()
    return round(result, 2) if result else None

def get_book_ratings_count(db: Session, book_id: int) -> int:
    """Получить количество оценок книги"""
    return db.query(func.count(models.Rating.id)).filter(
        models.Rating.book_id == book_id
    ).scalar()

def get_user_rating_for_book(db: Session, user_id: int, book_id: int) -> Optional[float]:
    """Получить оценку пользователя для книги"""
    rating = db.query(models.Rating).filter(
        and_(
            models.Rating.user_id == user_id,
            models.Rating.book_id == book_id
        )
    ).first()
    return rating.value if rating else None

def create_or_update_rating(db: Session, user_id: int, rating_data: schemas.RatingCreate) -> models.Rating:
    """Создать или обновить оценку книги"""
    existing_rating = db.query(models.Rating).filter(
        and_(
            models.Rating.user_id == user_id,
            models.Rating.book_id == rating_data.book_id
        )
    ).first()
    
    if existing_rating:
        existing_rating.value = rating_data.value
        db.commit()
        db.refresh(existing_rating)
        return existing_rating
    else:
        db_rating = models.Rating(user_id=user_id, **rating_data.dict())
        db.add(db_rating)
        db.commit()
        db.refresh(db_rating)
        return db_rating

def delete_rating(db: Session, user_id: int, book_id: int) -> bool:
    """Удалить оценку пользователя"""
    rating = db.query(models.Rating).filter(
        and_(
            models.Rating.user_id == user_id,
            models.Rating.book_id == book_id
        )
    ).first()
    
    if rating:
        db.delete(rating)
        db.commit()
        return True
    return False

# ============ FAVORITE OPERATIONS ============

def add_to_favorites(db: Session, user_id: int, book_id: int) -> bool:
    """Добавить книгу в избранное"""
    user = db.query(models.User).filter(models.User.id == user_id).first()
    book = db.query(models.Book).filter(models.Book.id == book_id).first()
    
    if user and book:
        if book not in user.favorites:
            user.favorites.append(book)
            db.commit()
            return True
    return False

def remove_from_favorites(db: Session, user_id: int, book_id: int) -> bool:
    """Удалить книгу из избранного"""
    user = db.query(models.User).filter(models.User.id == user_id).first()
    book = db.query(models.Book).filter(models.Book.id == book_id).first()
    
    if user and book:
        if book in user.favorites:
            user.favorites.remove(book)
            db.commit()
            return True
    return False

def get_user_favorites(
    db: Session,
    user_id: int,
    skip: int = 0,
    limit: int = 100,
    tag: Optional[str] = None,
    genre: Optional[str] = None,
    author: Optional[str] = None,
    search: Optional[str] = None
) -> List[models.Book]:
    """Получить избранные книги пользователя с фильтрацией"""
    user = db.query(models.User).filter(models.User.id == user_id).first()
    
    if not user:
        return []
    
    query = db.query(models.Book).join(
        models.favorites,
        models.Book.id == models.favorites.c.book_id
    ).filter(
        models.favorites.c.user_id == user_id
    )
    
    if tag:
        query = query.filter(models.Book.tag.ilike(f"%{tag}%"))
    if genre:
        query = query.filter(models.Book.genre.ilike(f"%{genre}%"))
    if author:
        query = query.filter(models.Book.author.ilike(f"%{author}%"))
    if search:
        search_filter = or_(
            models.Book.title.ilike(f"%{search}%"),
            models.Book.description.ilike(f"%{search}%"),
            models.Book.author.ilike(f"%{search}%"),
            models.Book.tag.ilike(f"%{search}%"),
            models.Book.genre.ilike(f"%{search}%")
        )
        query = query.filter(search_filter)
    
    return query.offset(skip).limit(limit).all()

def is_favorite(db: Session, user_id: int, book_id: int) -> bool:
    """Проверить, находится ли книга в избранном"""
    count = db.query(func.count(models.favorites.c.user_id)).filter(
        and_(
            models.favorites.c.user_id == user_id,
            models.favorites.c.book_id == book_id
        )
    ).scalar()
    return count > 0

# ============ READ STATUS OPERATIONS ============

def mark_as_read(db: Session, user_id: int, book_id: int) -> bool:
    """Отметить книгу как прочитанную"""
    user = db.query(models.User).filter(models.User.id == user_id).first()
    book = db.query(models.Book).filter(models.Book.id == book_id).first()
    
    if user and book:
        if book not in user.read:
            user.read.append(book)
            db.commit()
            return True
    return False

def mark_as_unread(db: Session, user_id: int, book_id: int) -> bool:
    """Отметить книгу как непрочитанную"""
    user = db.query(models.User).filter(models.User.id == user_id).first()
    book = db.query(models.Book).filter(models.Book.id == book_id).first()
    
    if user and book:
        if book in user.read:
            user.read.remove(book)
            db.commit()
            return True
    return False

def get_user_read_books(db: Session, user_id: int) -> List[models.Book]:
    """Получить прочитанные книги пользователя"""
    user = db.query(models.User).filter(models.User.id == user_id).first()
    return user.read if user else []

def is_read(db: Session, user_id: int, book_id: int) -> bool:
    """Проверить, прочитана ли книга"""
    count = db.query(func.count(models.read_books.c.user_id)).filter(
        and_(
            models.read_books.c.user_id == user_id,
            models.read_books.c.book_id == book_id
        )
    ).scalar()
    return count > 0

# ============ REVIEW OPERATIONS ============

def create_review(db: Session, user_id: int, review: schemas.ReviewCreate) -> models.Review:
    """Создать отзыв на книгу"""
    db_review = models.Review(user_id=user_id, **review.dict())
    db.add(db_review)
    db.commit()
    db.refresh(db_review)
    return db_review

def get_book_reviews(db: Session, book_id: int, skip: int = 0, limit: int = 100) -> List[models.Review]:
    """Получить отзывы на книгу"""
    return db.query(models.Review).filter(
        models.Review.book_id == book_id
    ).order_by(
        models.Review.created_at.desc()
    ).offset(skip).limit(limit).all()

def get_user_reviews(db: Session, user_id: int, skip: int = 0, limit: int = 100) -> List[models.Review]:
    """Получить отзывы пользователя"""
    return db.query(models.Review).filter(
        models.Review.user_id == user_id
    ).order_by(
        models.Review.created_at.desc()
    ).offset(skip).limit(limit).all()

def get_review(db: Session, review_id: int) -> Optional[models.Review]:
    """Получить отзыв по ID"""
    return db.query(models.Review).filter(models.Review.id == review_id).first()

def update_review(db: Session, review_id: int, text: str) -> Optional[models.Review]:
    """Обновить текст отзыва"""
    review = get_review(db, review_id)
    if review:
        review.text = text
        db.commit()
        db.refresh(review)
    return review

def delete_review(db: Session, review_id: int) -> bool:
    """Удалить отзыв"""
    review = get_review(db, review_id)
    if review:
        db.delete(review)
        db.commit()
        return True
    return False

# ============ FILTER OPTIONS ============

def get_all_tags(db: Session) -> List[str]:
    """Получить все уникальные теги"""
    tags = db.query(models.Book.tag).distinct().order_by(models.Book.tag).all()
    return [tag[0] for tag in tags if tag[0]]

def get_all_genres(db: Session) -> List[str]:
    """Получить все уникальные жанры"""
    genres = db.query(models.Book.genre).distinct().order_by(models.Book.genre).all()
    return [genre[0] for genre in genres if genre[0]]

def get_all_authors(db: Session) -> List[str]:
    """Получить всех уникальных авторов"""
    authors = db.query(models.Book.author).distinct().order_by(models.Book.author).all()
    return [author[0] for author in authors if author[0]]

# ============ STATISTICS ============

def get_total_books_count(db: Session) -> int:
    """Получить общее количество книг"""
    return db.query(func.count(models.Book.id)).scalar()

def get_total_users_count(db: Session) -> int:
    """Получить общее количество пользователей"""
    return db.query(func.count(models.User.id)).scalar()

def get_total_reviews_count(db: Session) -> int:
    """Получить общее количество отзывов"""
    return db.query(func.count(models.Review.id)).scalar()

def get_user_statistics(db: Session, user_id: int) -> dict:
    """Получить статистику пользователя"""
    favorites_count = db.query(func.count(models.favorites.c.book_id)).filter(
        models.favorites.c.user_id == user_id
    ).scalar()
    
    read_count = db.query(func.count(models.read_books.c.book_id)).filter(
        models.read_books.c.user_id == user_id
    ).scalar()
    
    reviews_count = db.query(func.count(models.Review.id)).filter(
        models.Review.user_id == user_id
    ).scalar()
    
    ratings_count = db.query(func.count(models.Rating.id)).filter(
        models.Rating.user_id == user_id
    ).scalar()
    
    return {
        "favorites_count": favorites_count or 0,
        "read_count": read_count or 0,
        "reviews_count": reviews_count or 0,
        "ratings_count": ratings_count or 0
    }



==== FILE: .\backend\app\database.py ====
from sqlalchemy import create_engine
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker
from .config import settings

engine = create_engine(settings.DATABASE_URL)
SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)

Base = declarative_base()

def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()



==== FILE: .\backend\app\main.py ====
from fastapi import FastAPI, Depends, HTTPException, status, File, UploadFile, Query, Request, Form
from fastapi.responses import FileResponse, JSONResponse
from fastapi.middleware.cors import CORSMiddleware
from fastapi.exceptions import RequestValidationError
from sqlalchemy.orm import Session
from typing import List, Optional
import os
import shutil
from collections import defaultdict
import time
from datetime import timedelta

from . import models, schemas, crud, auth
from .database import engine, get_db
from .config import settings
from .utils import parse_book_filename, get_books_from_directory

# Создание таблиц
models.Base.metadata.create_all(bind=engine)

app = FastAPI(title="Online Library API", version="1.0.0")

# Rate limiter для авторизации
login_attempts = defaultdict(list)
RATE_LIMIT_WINDOW = 60  # секунды
RATE_LIMIT_MAX_ATTEMPTS = 5

def check_rate_limit(ip: str) -> bool:
    """Проверка лимита запросов. Возвращает True если лимит превышен."""
    now = time.time()
    login_attempts[ip] = [t for t in login_attempts[ip] if now - t < RATE_LIMIT_WINDOW]
    
    if len(login_attempts[ip]) >= RATE_LIMIT_MAX_ATTEMPTS:
        return True
    
    login_attempts[ip].append(now)
    return False

# Rate limiters для различных действий
review_attempts = defaultdict(list)
rating_attempts = defaultdict(list)
download_attempts = defaultdict(list)
view_attempts = defaultdict(list)

def check_action_rate_limit(user_id: int, action_dict: dict, window: int, max_attempts: int) -> bool:
    """Универсальная функция для проверки rate limit по действиям пользователя."""
    now = time.time()
    key = str(user_id)
    
    # Очищаем старые попытки
    action_dict[key] = [t for t in action_dict[key] if now - t < window]
    
    # Проверяем лимит
    if len(action_dict[key]) >= max_attempts:
        return True
    
    # Добавляем текущую попытку
    action_dict[key].append(now)
    return False


# ============ ОБРАБОТЧИКИ ОШИБОК ============

@app.exception_handler(RequestValidationError)
async def validation_exception_handler(request: Request, exc: RequestValidationError):
    errors = []
    for error in exc.errors():
        field = error.get("loc")[-1] if error.get("loc") else "unknown"
        msg = error.get("msg", "")
        
        # Обрабатываем разные типы ошибок
        if "valid email" in msg.lower():
            errors.append("Неверный формат email")
        elif "field required" in msg.lower():
            errors.append("Поле обязательно для заполнения")
        elif "none is not an allowed value" in msg.lower():
            errors.append("Поле не может быть пустым")
        elif "Value error" in msg:
            # Извлекаем текст после "Value error, "
            clean_msg = msg.replace("Value error, ", "")
            errors.append(clean_msg)
        else:
            # Для всех остальных случаев - только сообщение без имени поля
            errors.append(msg)
    
    return JSONResponse(
        status_code=status.HTTP_422_UNPROCESSABLE_ENTITY,
        content={"detail": "\n".join(errors) if errors else "Ошибка валидации"}
    )


# ============ CORS НАСТРОЙКИ ============

app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "http://localhost:3000",
        "http://localhost:8080",
        "http://localhost",
        "http://192.168.88.228:8080"
    ],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# Создание директории для книг
os.makedirs(settings.BOOKS_DIRECTORY, exist_ok=True)

# ============ AUTH ENDPOINTS ============

@app.post("/api/auth/register", response_model=schemas.User, status_code=status.HTTP_201_CREATED)
def register(user: schemas.UserCreate, request: Request, db: Session = Depends(get_db)):
    # Rate limiting
    if check_rate_limit(request.client.host):
        raise HTTPException(status_code=429, detail="Превышен лимит попыток регистрации. Попробуйте через минуту")
    
    db_user = crud.get_user_by_email(db, email=user.email)
    if db_user:
        raise HTTPException(status_code=400, detail="Пользователь с таким email уже существует")
    try:
        return crud.create_user(db=db, user=user)
    except Exception as e:
        raise HTTPException(status_code=500, detail=f"Ошибка создания пользователя: {str(e)}")


@app.post("/api/auth/login", response_model=schemas.Token)
def login(user_login: schemas.UserLogin, request: Request, db: Session = Depends(get_db)):
    # Rate limiting
    if check_rate_limit(request.client.host):
        raise HTTPException(status_code=429, detail="Превышен лимит попыток входа. Попробуйте через минуту")
    
    user = crud.get_user_by_email(db, email=user_login.email)
    if not user:
        raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail="Неверный email или пароль")
    if not auth.verify_password(user_login.password, user.hashed_password):
        raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail="Неверный email или пароль")
    
    access_token_expires = timedelta(minutes=settings.ACCESS_TOKEN_EXPIRE_MINUTES)
    access_token = auth.create_access_token(data={"sub": user.email}, expires_delta=access_token_expires)
    return {"access_token": access_token, "token_type": "bearer"}


@app.get("/api/auth/me", response_model=schemas.User)
def get_current_user_info(current_user: models.User = Depends(auth.get_current_user)):
    """Получить информацию о текущем пользователе"""
    return current_user

# ============ BOOK ENDPOINTS ============

@app.get("/api/books", response_model=List[schemas.BookResponse])
def get_books(
    skip: int = 0,
    limit: int = 100,
    tag: Optional[str] = None,
    genre: Optional[str] = None,
    author: Optional[str] = None,
    search: Optional[str] = None,
    db: Session = Depends(get_db),
    current_user: Optional[models.User] = Depends(auth.get_optional_current_user)
):
    """Получить список книг с фильтрацией"""
    books = crud.get_books(db, skip=skip, limit=limit, tag=tag, genre=genre, author=author, search=search)
    
    result = []
    for book in books:
        book_data = schemas.BookResponse(
            id=book.id,
            filename=book.filename,
            title=book.title,
            author=book.author,
            tag=book.tag,
            genre=book.genre,
            description=book.description,
            created_at=book.created_at,
            average_rating=crud.get_book_average_rating(db, book.id),
            is_favorite=crud.is_favorite(db, current_user.id, book.id) if current_user else False,
            is_read=crud.is_read(db, current_user.id, book.id) if current_user else False,
            user_rating=crud.get_user_rating_for_book(db, current_user.id, book.id) if current_user else None
        )
        result.append(book_data)
    
    return result

@app.get("/api/books/{book_id}", response_model=schemas.BookResponse)
def get_book(
    book_id: int,
    db: Session = Depends(get_db),
    current_user: Optional[models.User] = Depends(auth.get_optional_current_user)
):
    """Получить информацию о книге"""
    book = crud.get_book(db, book_id)
    if not book:
        raise HTTPException(status_code=404, detail="Книга не найдена")
    
    return schemas.BookResponse(
        id=book.id,
        filename=book.filename,
        title=book.title,
        author=book.author,
        tag=book.tag,
        genre=book.genre,
        description=book.description,
        created_at=book.created_at,
        average_rating=crud.get_book_average_rating(db, book.id),
        is_favorite=crud.is_favorite(db, current_user.id, book.id) if current_user else False,
        is_read=crud.is_read(db, current_user.id, book.id) if current_user else False,
        user_rating=crud.get_user_rating_for_book(db, current_user.id, book.id) if current_user else None
    )

@app.get("/api/books/{book_id}/download")
def download_book(
    book_id: int,
    db: Session = Depends(get_db),
    current_user: Optional[models.User] = Depends(auth.get_optional_current_user)  # Опциональная!
):
    # Rate limiting ТОЛЬКО для авторизованных
    if current_user and check_action_rate_limit(current_user.id, download_attempts, 30, 1):
        raise HTTPException(
            status_code=429,
            detail="Вы можете скачивать файлы не чаще 1 раза в 30 секунд. Подождите."
        )
    
    book = crud.get_book(db, book_id)
    if not book:
        raise HTTPException(status_code=404, detail="Книга не найдена")
    
    file_path = os.path.join(settings.BOOKS_DIRECTORY, book.filename)
    if not os.path.exists(file_path):
        raise HTTPException(status_code=404, detail="Файл не найден")
    
    return FileResponse(file_path, media_type="application/pdf", filename=book.filename)



@app.get("/api/books/{book_id}/view")
def view_book(
    book_id: int,
    db: Session = Depends(get_db),
    current_user: Optional[models.User] = Depends(auth.get_optional_current_user)  # Опциональная!
):
    # Rate limiting ТОЛЬКО для авторизованных
    if current_user and check_action_rate_limit(current_user.id, view_attempts, 30, 1):
        raise HTTPException(
            status_code=429,
            detail="Вы можете открывать книги для чтения не чаще 1 раза в 30 секунд. Подождите."
        )
    
    book = crud.get_book(db, book_id)
    if not book:
        raise HTTPException(status_code=404, detail="Книга не найдена")
    
    file_path = os.path.join(settings.BOOKS_DIRECTORY, book.filename)
    if not os.path.exists(file_path):
        raise HTTPException(status_code=404, detail="Файл не найден")
    
    return FileResponse(file_path, media_type="application/pdf")


@app.post("/api/books/sync")
def sync_books(
    db: Session = Depends(get_db),
    current_user: models.User = Depends(auth.get_current_admin_user)
):
    """Синхронизация книг из директории с базой данных (только для админов)"""
    try:
        books_from_dir = get_books_from_directory()
        synced_count = 0
        
        for book_data in books_from_dir:
            existing_book = crud.get_book_by_filename(db, book_data['filename'])
            if not existing_book:
                book_create = schemas.BookCreate(**book_data, description="")
                crud.create_book(db, book_create)
                synced_count += 1
        
        return {"message": f"Синхронизировано {synced_count} новых книг"}
    except Exception as e:
        raise HTTPException(
            status_code=500,
            detail=f"Ошибка при синхронизации: {str(e)}"
        )

@app.post("/api/books", response_model=schemas.BookResponse, status_code=status.HTTP_201_CREATED)
async def createbook(
    file: UploadFile = File(...),
    tag: str = Form(...),           # ✅ ИСПРАВЛЕНО
    genre: str = Form(...),         # ✅ ИСПРАВЛЕНО
    title: str = Form(...),         # ✅ ИСПРАВЛЕНО
    author: str = Form(...),        # ✅ ИСПРАВЛЕНО
    description: str = Form(...),   # ✅ ИСПРАВЛЕНО
    db: Session = Depends(get_db),
    current_user: models.User = Depends(auth.get_current_admin_user)
):
    """Загрузка новой книги (только для админов)"""
    if not file.filename.endswith('.pdf'):
        raise HTTPException(
            status_code=400,
            detail="Можно загружать только PDF файлы"
        )
    
    # Формируем имя файла
    filename = f"#{tag}_#{genre}_{title.replace(' ', '_')}_{author.replace(' ', '_')}.pdf"
    
    # Проверяем, существует ли уже такая книга
    existing_book = crud.get_book_by_filename(db, filename)
    if existing_book:
        raise HTTPException(
            status_code=400,
            detail="Книга с таким именем уже существует"
        )
    
    try:
        # Сохраняем файл
        file_path = os.path.join(settings.BOOKS_DIRECTORY, filename)
        with open(file_path, "wb") as buffer:
            shutil.copyfileobj(file.file, buffer)
        
        # Создаем запись в БД
        book_create = schemas.BookCreate(
            filename=filename,
            tag=tag,
            genre=genre,
            title=title,
            author=author,
            description=description
        )
        book = crud.create_book(db, book_create)
        
        return schemas.BookResponse(
            id=book.id,
            filename=book.filename,
            title=book.title,
            author=book.author,
            tag=book.tag,
            genre=book.genre,
            description=book.description,
            created_at=book.created_at,
            average_rating=None,
            is_favorite=False,
            is_read=False,
            user_rating=None
        )
    except Exception as e:
        # Удаляем файл если произошла ошибка
        if os.path.exists(file_path):
            os.remove(file_path)
        raise HTTPException(
            status_code=500,
            detail=f"Ошибка при загрузке книги: {str(e)}"
        )

@app.put("/api/books/{book_id}", response_model=schemas.BookResponse)
def update_book(
    book_id: int,
    book_update: schemas.BookUpdate,
    db: Session = Depends(get_db),
    current_user: models.User = Depends(auth.get_current_admin_user)
):
    """Обновление информации о книге (только для админов)"""
    book = crud.update_book(db, book_id, book_update)
    if not book:
        raise HTTPException(status_code=404, detail="Книга не найдена")
    
    return schemas.BookResponse(
        id=book.id,
        filename=book.filename,
        title=book.title,
        author=book.author,
        tag=book.tag,
        genre=book.genre,
        description=book.description,
        created_at=book.created_at,
        average_rating=crud.get_book_average_rating(db, book.id),
        is_favorite=False,
        is_read=False,
        user_rating=None
    )

@app.delete("/api/books/{book_id}")
def delete_book(
    book_id: int,
    db: Session = Depends(get_db),
    current_user: models.User = Depends(auth.get_current_admin_user)
):
    """Удаление книги (только для админов)"""
    book = crud.get_book(db, book_id)
    if not book:
        raise HTTPException(status_code=404, detail="Книга не найдена")
    
    # Удаляем файл
    file_path = os.path.join(settings.BOOKS_DIRECTORY, book.filename)
    if os.path.exists(file_path):
        os.remove(file_path)
    
    # Удаляем запись из БД
    crud.delete_book(db, book_id)
    
    return {"message": "Книга успешно удалена"}

# ============ FAVORITES ENDPOINTS ============

@app.post("/api/favorites/{book_id}")
def add_to_favorites(
    book_id: int,
    db: Session = Depends(get_db),
    current_user: models.User = Depends(auth.get_current_user)
):
    """Добавить книгу в избранное"""
    if not crud.add_to_favorites(db, current_user.id, book_id):
        raise HTTPException(status_code=400, detail="Не удалось добавить в избранное")
    return {"message": "Книга добавлена в избранное"}

@app.delete("/api/favorites/{book_id}")
def remove_from_favorites(
    book_id: int,
    db: Session = Depends(get_db),
    current_user: models.User = Depends(auth.get_current_user)
):
    """Удалить книгу из избранного"""
    if not crud.remove_from_favorites(db, current_user.id, book_id):
        raise HTTPException(status_code=400, detail="Не удалось удалить из избранного")
    return {"message": "Книга удалена из избранного"}

@app.get("/api/favorites", response_model=List[schemas.BookResponse])
def get_favorites(
    db: Session = Depends(get_db),
    current_user: models.User = Depends(auth.get_current_user)
):
    """Получить список избранных книг"""
    books = crud.get_user_favorites(db, current_user.id)
    
    result = []
    for book in books:
        book_data = schemas.BookResponse(
            id=book.id,
            filename=book.filename,
            title=book.title,
            author=book.author,
            tag=book.tag,
            genre=book.genre,
            description=book.description,
            created_at=book.created_at,
            average_rating=crud.get_book_average_rating(db, book.id),
            is_favorite=True,
            is_read=crud.is_read(db, current_user.id, book.id),
            user_rating=crud.get_user_rating_for_book(db, current_user.id, book.id)
        )
        result.append(book_data)
    
    return result

# ============ READ STATUS ENDPOINTS ============

@app.post("/api/read/{book_id}")
def mark_as_read(
    book_id: int,
    db: Session = Depends(get_db),
    current_user: models.User = Depends(auth.get_current_user)
):
    """Отметить книгу как прочитанную"""
    if not crud.mark_as_read(db, current_user.id, book_id):
        raise HTTPException(status_code=400, detail="Не удалось отметить как прочитанное")
    return {"message": "Книга отмечена как прочитанная"}

@app.delete("/api/read/{book_id}")
def mark_as_unread(
    book_id: int,
    db: Session = Depends(get_db),
    current_user: models.User = Depends(auth.get_current_user)
):
    """Отметить книгу как непрочитанную"""
    if not crud.mark_as_unread(db, current_user.id, book_id):
        raise HTTPException(status_code=400, detail="Не удалось отметить как непрочитанное")
    return {"message": "Книга отмечена как непрочитанная"}

# ============ REVIEWS ENDPOINTS ============

# REVIEWS ENDPOINTS
@app.post("/api/reviews", response_model=schemas.ReviewResponse, status_code=status.HTTP_201_CREATED)
def create_review(
    review: schemas.ReviewCreate,
    db: Session = Depends(get_db),
    current_user: models.User = Depends(auth.get_current_user)
):
    # Rate limiting - 1 отзыв в минуту
    if check_action_rate_limit(current_user.id, review_attempts, 60, 1):
        raise HTTPException(
            status_code=429,
            detail="Вы можете оставлять не более 1 отзыва в минуту. Подождите немного."
        )
    
    db_review = crud.create_review(db, current_user.id, review)
    return schemas.ReviewResponse(
        id=db_review.id,
        user_id=db_review.user_id,
        book_id=db_review.book_id,
        text=db_review.text,
        created_at=db_review.created_at,
        user_name=current_user.full_name  # ✅ full_name (с подчеркиванием!)
    )

@app.get("/api/reviews/{book_id}", response_model=List[schemas.ReviewResponse])
def get_book_reviews(book_id: int, db: Session = Depends(get_db)):
    reviews = crud.get_book_reviews(db, book_id)
    return [
        schemas.ReviewResponse(
            id=review.id,
            user_id=review.user_id,
            book_id=review.book_id,
            text=review.text,
            created_at=review.created_at,
            user_name=review.user.full_name  # ✅ full_name (с подчеркиванием!)
        ) for review in reviews
    ]


# ============ RATINGS ENDPOINTS ============

@app.post("/api/ratings", response_model=schemas.RatingResponse)
def create_or_update_rating(
    rating: schemas.RatingCreate,
    db: Session = Depends(get_db),
    current_user: models.User = Depends(auth.get_current_user)
):
    # Rate limiting - 1 оценка в минуту
    if check_action_rate_limit(current_user.id, rating_attempts, 60, 1):
        raise HTTPException(
            status_code=429,
            detail="Вы можете ставить оценки не чаще 1 раза в минуту. Подождите немного."
        )
    
    db_rating = crud.create_or_update_rating(db, current_user.id, rating)
    return schemas.RatingResponse(
        id=db_rating.id,
        user_id=db_rating.user_id,
        book_id=db_rating.book_id,
        value=db_rating.value,
        created_at=db_rating.created_at
    )


# ============ FILTERS ENDPOINTS ============

@app.get("/api/filters/tags")
def get_tags(db: Session = Depends(get_db)):
    """Получить список всех тегов"""
    return {"tags": crud.get_all_tags(db)}

@app.get("/api/filters/genres")
def get_genres(db: Session = Depends(get_db)):
    """Получить список всех жанров"""
    return {"genres": crud.get_all_genres(db)}

@app.get("/api/filters/authors")
def get_authors(db: Session = Depends(get_db)):
    """Получить список всех авторов"""
    return {"authors": crud.get_all_authors(db)}

@app.get("/api/health")
def health_check():
    """Проверка здоровья API"""
    return {"status": "ok", "message": "API работает"}



==== FILE: .\backend\app\models.py ====
from sqlalchemy import Column, Integer, String, Boolean, Float, ForeignKey, DateTime, Text, Table
from sqlalchemy.orm import relationship
from datetime import datetime
from .database import Base

# Таблица для связи многие-ко-многим (избранное)
favorites = Table(
    'favorites',
    Base.metadata,
    Column('user_id', Integer, ForeignKey('users.id'), primary_key=True),
    Column('book_id', Integer, ForeignKey('books.id'), primary_key=True)
)

# Таблица для связи многие-ко-многим (прочитанные книги)
read_books = Table(
    'read_books',
    Base.metadata,
    Column('user_id', Integer, ForeignKey('users.id'), primary_key=True),
    Column('book_id', Integer, ForeignKey('books.id'), primary_key=True)
)

class User(Base):
    __tablename__ = "users"
    
    id = Column(Integer, primary_key=True, index=True)
    email = Column(String, unique=True, index=True, nullable=False)
    full_name = Column(String, nullable=False)
    hashed_password = Column(String, nullable=False)
    is_admin = Column(Boolean, default=False)
    created_at = Column(DateTime, default=datetime.utcnow)
    
    favorites = relationship("Book", secondary=favorites, back_populates="favorited_by")
    read = relationship("Book", secondary=read_books, back_populates="read_by")
    reviews = relationship("Review", back_populates="user", cascade="all, delete-orphan")
    ratings = relationship("Rating", back_populates="user", cascade="all, delete-orphan")

class Book(Base):
    __tablename__ = "books"
    
    id = Column(Integer, primary_key=True, index=True)
    filename = Column(String, unique=True, nullable=False)
    title = Column(String, nullable=False)
    author = Column(String, nullable=False)
    tag = Column(String, nullable=False)
    genre = Column(String, nullable=False)
    description = Column(Text)
    created_at = Column(DateTime, default=datetime.utcnow)
    
    favorited_by = relationship("User", secondary=favorites, back_populates="favorites")
    read_by = relationship("User", secondary=read_books, back_populates="read")
    reviews = relationship("Review", back_populates="book", cascade="all, delete-orphan")
    ratings = relationship("Rating", back_populates="book", cascade="all, delete-orphan")

class Review(Base):
    __tablename__ = "reviews"
    
    id = Column(Integer, primary_key=True, index=True)
    user_id = Column(Integer, ForeignKey("users.id"), nullable=False)
    book_id = Column(Integer, ForeignKey("books.id"), nullable=False)
    text = Column(Text, nullable=False)
    created_at = Column(DateTime, default=datetime.utcnow)
    
    user = relationship("User", back_populates="reviews")
    book = relationship("Book", back_populates="reviews")

class Rating(Base):
    __tablename__ = "ratings"
    
    id = Column(Integer, primary_key=True, index=True)
    user_id = Column(Integer, ForeignKey("users.id"), nullable=False)
    book_id = Column(Integer, ForeignKey("books.id"), nullable=False)
    value = Column(Float, nullable=False)
    created_at = Column(DateTime, default=datetime.utcnow)
    
    user = relationship("User", back_populates="ratings")
    book = relationship("Book", back_populates="ratings")



==== FILE: .\backend\app\schemas.py ====
from pydantic import BaseModel, EmailStr, validator, Field
from typing import Optional, List
from datetime import datetime
import re

class UserBase(BaseModel):
    email: EmailStr
    full_name: str


class UserCreate(UserBase):
    password: str
    
    @validator('email')
    def validate_email(cls, v):
        if not v or not v.strip():
            raise ValueError('Email не может быть пустым')
        if len(v) > 50:
            raise ValueError('Email не может превышать 50 символов')
        if not re.match(r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$', v):
            raise ValueError('Email должен содержать только латиницу')
        return v.lower()
    
    @validator('full_name')
    def validate_full_name(cls, v):
        if not v or not v.strip():
            raise ValueError('ФИО не может быть пустым')
        
        if len(v) > 50:
            raise ValueError('ФИО не может превышать 50 символов')
        
        if not re.match(r'^[А-ЯЁа-яё\s-]+$', v):
            raise ValueError('ФИО должно содержать только кириллицу')
        
        words = v.strip().split()
        
        if len(words) < 2:
            raise ValueError('Введите минимум Фамилию и Имя (например: Иванов Иван)')
        
        for word in words:
            if len(word) < 2:
                raise ValueError('Каждое слово в ФИО должно содержать минимум 2 буквы')
        
        return ' '.join(word.capitalize() for word in words)

    
    @validator('password')
    def validate_password(cls, v):
        if not v:
            raise ValueError('Пароль не может быть пустым')
        
        errors = []
        
        if len(v) < 8:
            errors.append('минимум 8 символов')
        if len(v) > 20:
            errors.append('максимум 20 символов')
        if not re.search(r'[A-Z]', v):
            errors.append('минимум одна заглавная буква (A-Z)')
        if not re.search(r'[a-z]', v):
            errors.append('минимум одна строчная буква (a-z)')
        if not re.search(r'\d', v):
            errors.append('минимум одна цифра (0-9)')
        if not re.search(r'[!@#$%_*&?]', v):
            errors.append('минимум один спецсимвол (!@#$%_*&?)')
        
        if errors:
            raise ValueError('Пароль должен содержать: ' + ', '.join(errors))
        
        return v

class User(UserBase):
    id: int
    is_admin: bool
    created_at: datetime
    
    class Config:
        from_attributes = True

class UserLogin(BaseModel):
    email: EmailStr
    password: str

class Token(BaseModel):
    access_token: str
    token_type: str

class TokenData(BaseModel):
    email: Optional[str] = None

class BookBase(BaseModel):
    title: str
    author: str
    tag: str
    genre: str
    description: Optional[str] = None

class BookCreate(BookBase):
    filename: str

class BookUpdate(BaseModel):
    title: Optional[str] = None
    author: Optional[str] = None
    tag: Optional[str] = None
    genre: Optional[str] = None
    description: Optional[str] = None

class BookResponse(BookBase):
    id: int
    filename: str
    created_at: datetime
    average_rating: Optional[float] = None
    is_favorite: bool = False
    is_read: bool = False
    user_rating: Optional[float] = None
    
    class Config:
        from_attributes = True

class ReviewBase(BaseModel):
    text: str

class ReviewCreate(ReviewBase):
    book_id: int

class ReviewResponse(ReviewBase):
    id: int
    user_id: int
    book_id: int
    created_at: datetime
    user_name: str
    
    class Config:
        from_attributes = True

class RatingBase(BaseModel):
    value: float = Field(..., ge=1, le=5)

class RatingCreate(RatingBase):
    book_id: int

class RatingResponse(RatingBase):
    id: int
    user_id: int
    book_id: int
    created_at: datetime
    
    class Config:
        from_attributes = True



==== FILE: .\backend\app\utils.py ====
import os
import re
from typing import Tuple, List
from .config import settings

def parse_book_filename(filename: str) -> Tuple[str, str, str, str]:
    """
    Парсит имя файла в формате #ТЭГ_#ЖАНР_Название_книги,_Имя_Автора.pdf
    """
    # Убираем .pdf
    name_without_ext = filename.rsplit('.', 1)[0]
    
    # Разбиваем по #
    parts = name_without_ext.split('#')
    
    if len(parts) < 3:
        return ("Unknown", "Unknown", filename, "Unknown")
    
    # Тег
    tag = parts[1].rstrip('_').strip()
    
    # Остальное
    remaining = parts[2]
    
    # Разделяем по запятой (название, автор)
    if ',' in remaining:
        before_comma, after_comma = remaining.split(',', 1)
        
        # Жанр и название до запятой
        remaining_parts = before_comma.split('_')
        genre = remaining_parts[0].strip()
        title = ' '.join(remaining_parts[1:]).strip() if len(remaining_parts) > 1 else "Unknown"
        
        # Автор после запятой
        author = after_comma.lstrip('_').replace('_', ' ').strip()
    else:
        # Старый формат без запятой
        remaining_parts = remaining.split('_')
        genre = remaining_parts[0].strip() if len(remaining_parts) > 0 else "Unknown"
        author = remaining_parts[-1].strip() if len(remaining_parts) > 1 else "Unknown"
        title_parts = remaining_parts[1:-1]
        title = ' '.join(title_parts).strip() if title_parts else "Unknown"
    
    return (tag, genre, title, author)


def get_books_from_directory() -> List[dict]:
    """
    Сканирует директорию books и возвращает список книг с их метаданными
    """
    books = []
    books_dir = settings.BOOKS_DIRECTORY
    
    if not os.path.exists(books_dir):
        os.makedirs(books_dir)
        return books
    
    for filename in os.listdir(books_dir):
        if filename.endswith('.pdf'):
            tag, genre, title, author = parse_book_filename(filename)
            books.append({
                'filename': filename,
                'tag': tag,
                'genre': genre,
                'title': title,
                'author': author
            })
    
    return books



==== FILE: .\backend\app\__init__.py ====
"""
Online Library API Application
Backend для онлайн-библиотеки с FastAPI
"""

__version__ = "1.0.0"
__author__ = "Online Library Team"

from .main import app
from .database import Base, engine, get_db
from . import models, schemas, crud, auth

__all__ = [
    "app",
    "Base",
    "engine",
    "get_db",
    "models",
    "schemas",
    "crud",
    "auth",
]



==== FILE: .\books\#1_#1_1_1.pdf ====
[ОШИБКА ЧТЕНИЯ: 'utf-8' codec can't decode byte 0xff in position 339: invalid start byte]


==== FILE: .\books\#q_#q_q_q.pdf ====
[ОШИБКА ЧТЕНИЯ: 'utf-8' codec can't decode byte 0xb7 in position 10: invalid start byte]


==== FILE: .\books\#Образование_#Учебник_Введение_в_программирование,_Иван_Иванов.pdf ====
[ОШИБКА ЧТЕНИЯ: 'utf-8' codec can't decode byte 0xff in position 1126: invalid start byte]


==== FILE: .\books\#Фантастика_#Роман_Госмическая_одиссея,_Петр_Петров.pdf (1).pdf ====
[ОШИБКА ЧТЕНИЯ: 'utf-8' codec can't decode byte 0xff in position 339: invalid start byte]


==== FILE: .\books\#Фантастика_#Роман_Гросмическая_одиссея,_Петр_Петров.pdf (1).pdf ====
[ОШИБКА ЧТЕНИЯ: 'utf-8' codec can't decode byte 0xff in position 339: invalid start byte]


==== FILE: .\books\#Фантастика_#Роман_Космическая_одиссея,_Петр_Петров.pdf ====
[ОШИБКА ЧТЕНИЯ: 'utf-8' codec can't decode byte 0xff in position 339: invalid start byte]


==== FILE: .\database\init.sql ====
-- Инициализация базы данных для Online Library

-- Создание пользователя и базы данных
CREATE DATABASE library_db;
CREATE USER library_user WITH PASSWORD 'library_password';
GRANT ALL PRIVILEGES ON DATABASE library_db TO library_user;

-- Подключение к базе данных library_db
\c library_db;

-- Предоставление прав пользователю
GRANT ALL PRIVILEGES ON SCHEMA public TO library_user;
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO library_user;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public TO library_user;

-- Установка прав по умолчанию для будущих таблиц
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL PRIVILEGES ON TABLES TO library_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL PRIVILEGES ON SEQUENCES TO library_user;

-- Создание расширений
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "pg_trgm"; -- Для полнотекстового поиска

-- Создание индексов для оптимизации поиска (будут созданы после создания таблиц через SQLAlchemy)
-- Эти команды выполнятся автоматически при первом запуске приложения

-- Функция для обновления timestamp
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- Комментарий: Таблицы будут созданы автоматически через SQLAlchemy при первом запуске приложения
-- models.Base.metadata.create_all(bind=engine) в main.py

-- После создания таблиц SQLAlchemy, можно добавить дополнительные индексы для оптимизации:
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_books_title_trgm ON books USING gin(title gin_trgm_ops);
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_books_author_trgm ON books USING gin(author gin_trgm_ops);
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_books_tag ON books(tag);
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_books_genre ON books(genre);
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_books_created_at ON books(created_at DESC);
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_reviews_book_id ON reviews(book_id);
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_reviews_user_id ON reviews(user_id);
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_ratings_book_id ON ratings(book_id);
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_ratings_user_id ON ratings(user_id);
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_favorites_user_book ON favorites(user_id, book_id);
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_read_books_user_book ON read_books(user_id, book_id);

-- Создание первого админ-пользователя (опционально)
-- Пароль будет хешироваться через API при регистрации
-- Для создания первого админа используйте API endpoint /api/auth/register
-- Затем вручную через psql установите is_admin = true:
-- UPDATE users SET is_admin = true WHERE email = 'admin@library.com';

COMMENT ON DATABASE library_db IS 'База данных онлайн-библиотеки';



==== FILE: .\frontend\Dockerfile ====
FROM node:18-alpine as build

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .
RUN npm run build

FROM nginx:alpine

COPY --from=build /app/build /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]



==== FILE: .\frontend\nginx.conf ====
server {
    listen 80;
    server_name localhost;
    client_max_body_size 100M;

    location / {
        root /usr/share/nginx/html;
        index index.html index.htm;
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://backend:8000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        client_max_body_size 100M;
    }
}



==== FILE: .\frontend\public\index.html ====
<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#00e965" />
    <meta name="description" content="Онлайн-библиотека - читайте книги онлайн или скачивайте бесплатно" />
    <title>Библиотека Пионеров</title>
    <link rel="icon" type="image/png" href="/favicon.png">
</head>

<body>
    <noscript>Вам необходимо включить JavaScript для работы этого приложения.</noscript>
    <div id="root"></div>
</body>

</html>


==== FILE: .\frontend\src\App.js ====
import React from 'react';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import { AuthProvider } from './contexts/AuthContext';
import { ThemeProvider } from './contexts/ThemeContext';
import StaggeredMenu from './components/StaggeredMenu';
import Footer from './components/Footer';
import LandingPage from './pages/LandingPage';
import BooksPage from './pages/BooksPage';
import BookDetailPage from './pages/BookDetailPage';
import FavoritesPage from './pages/FavoritesPage';
import AuthPage from './pages/AuthPage';
import AdminPage from './pages/AdminPage';
import PrivacyPage from './pages/PrivacyPage';
// Разделы напрямую
import MethodClubPage from './pages/sections/MethodClubPage';
import PioneersWorkPage from './pages/sections/PioneersWorkPage';
import SchoolLeadersPage from './pages/sections/SchoolLeadersPage';
import VolunteersPage from './pages/sections/VolunteersPage';
import SchoolMediaPage from './pages/sections/SchoolMediaPage';
import GamesPage from './pages/sections/GamesPage';
import ScenariosPage from './pages/sections/ScenariosPage';
import PioneerBookPage from './pages/sections/PioneerBookPage';
import ExchangePage from './pages/sections/ExchangePage';
import ContactsPage from './pages/sections/ContactsPage';
import CalendarPage from './pages/sections/CalendarPage';
import DocumentsPage from './pages/sections/DocumentsPage';

function App() {
    return (
        <ThemeProvider>
            <AuthProvider>
                <Router>
                    <div className="app">
                        {/* Анимированное меню с подкатегориями */}
                        <StaggeredMenu
                            position="right"
                            colors={['#667eea', '#764ba2']}
                            logoText="📚 Библиотека Пионеров"
                            accentColor="#667eea"  // ← Было #00e965, теперь фиолетовый
                            menuButtonColor="#1d1d1f"
                            openMenuButtonColor="#1d1d1f"
                            changeMenuColorOnOpen={false}
                            closeOnClickAway={true}
                        />


                        <main className="main-content">
                            <Routes>
                                {/* Основные страницы */}
                                <Route path="/" element={<LandingPage />} />
                                <Route path="/books" element={<BooksPage />} />
                                <Route path="/books/:id" element={<BookDetailPage />} />
                                <Route path="/favorites" element={<FavoritesPage />} />
                                <Route path="/auth" element={<AuthPage />} />
                                <Route path="/admin" element={<AdminPage />} />
                                <Route path="/privacy" element={<PrivacyPage />} />

                                {/* Разделы - прямые роуты без обертки */}
                                <Route path="/sections/methodclub" element={<MethodClubPage />} />
                                <Route path="/sections/pioneers" element={<PioneersWorkPage />} />
                                <Route path="/sections/leaders" element={<SchoolLeadersPage />} />
                                <Route path="/sections/volunteers" element={<VolunteersPage />} />
                                <Route path="/sections/media" element={<SchoolMediaPage />} />
                                <Route path="/sections/games" element={<GamesPage />} />
                                <Route path="/sections/scenarios" element={<ScenariosPage />} />
                                <Route path="/sections/book" element={<PioneerBookPage />} />
                                <Route path="/sections/exchange" element={<ExchangePage />} />
                                <Route path="/sections/contacts" element={<ContactsPage />} />
                                <Route path="/sections/calendar" element={<CalendarPage />} />
                                <Route path="/sections/documents" element={<DocumentsPage />} />
                            </Routes>
                        </main>
                        <Footer />
                    </div>
                </Router>
            </AuthProvider>
        </ThemeProvider>
    );
}

export default App;



==== FILE: .\frontend\src\index.css ====
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-green: #00e965;
    --primary-blue: #006edc;
    --white: #ffffff;
    --light-green: #66ffaa;
    --dark-gray: #333333;
    --light-blue: #66b3ff;
    --transition-speed: 0.2s;
}

[data-theme="light"] {
    --bg-primary: #ffffff;
    --bg-secondary: #f8f9fa;
    --text-primary: #333333;
    --text-secondary: #666666;
    --border-color: #e0e0e0;
    --card-bg: #ffffff;
    --hover-bg: #f5f5f5;
}

[data-theme="dark"] {
    --bg-primary: #1a1a1a;
    --bg-secondary: #2a2a2a;
    --text-primary: #ffffff;
    --text-secondary: #cccccc;
    --border-color: #404040;
    --card-bg: #2a2a2a;
    --hover-bg: #3a3a3a;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
    line-height: 1.6;
}

code {
    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
}

a {
    text-decoration: none;
    color: inherit;
}

button {
    font-family: inherit;
    cursor: pointer;
    border: none;
    outline: none;
}

input,
textarea,
select {
    font-family: inherit;
    outline: none;
}

.loading {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 400px;
    font-size: 1.2rem;
    color: var(--text-secondary);
}

.error {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 400px;
    font-size: 1.2rem;
    color: #ff4444;
}

.empty-state {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 400px;
    font-size: 1.2rem;
    color: var(--text-secondary);
}


==== FILE: .\frontend\src\index.js ====
import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
    <React.StrictMode>
        <App />
    </React.StrictMode>
);



==== FILE: .\frontend\src\components\Ballpit.js ====
import { useRef, useEffect } from 'react';
import {
    Clock as e,
    PerspectiveCamera as t,
    Scene as i,
    WebGLRenderer as s,
    SRGBColorSpace as n,
    MathUtils as o,
    Vector2 as r,
    Vector3 as a,
    MeshPhysicalMaterial as c,
    ShaderChunk as h,
    Color as l,
    Object3D as m,
    InstancedMesh as d,
    PMREMGenerator as p,
    SphereGeometry as g,
    AmbientLight as f,
    PointLight as u,
    ACESFilmicToneMapping as v,
    Raycaster as y,
    Plane as w
} from 'three';
import { RoomEnvironment as z } from 'three/examples/jsm/environments/RoomEnvironment.js';

class x {
    #e;
    canvas;
    camera;
    cameraMinAspect;
    cameraMaxAspect;
    cameraFov;
    maxPixelRatio;
    minPixelRatio;
    scene;
    renderer;
    #t;
    size = { width: 0, height: 0, wWidth: 0, wHeight: 0, ratio: 0, pixelRatio: 0 };
    render = this.#i;
    onBeforeRender = () => { };
    onAfterRender = () => { };
    onAfterResize = () => { };
    #s = false;
    #n = false;
    isDisposed = false;
    #o;
    #r;
    #a;
    #c = new e();
    #h = { elapsed: 0, delta: 0 };
    #l;
    constructor(e) {
        this.#e = { ...e };
        this.#m();
        this.#d();
        this.#p();
        this.resize();
        this.#g();
    }
    #m() {
        this.camera = new t();
        this.cameraFov = this.camera.fov;
    }
    #d() {
        this.scene = new i();
    }
    #p() {
        if (this.#e.canvas) {
            this.canvas = this.#e.canvas;
        } else if (this.#e.id) {
            this.canvas = document.getElementById(this.#e.id);
        } else {
            console.error('Three: Missing canvas or id parameter');
        }
        this.canvas.style.display = 'block';
        const e = {
            canvas: this.canvas,
            powerPreference: 'high-performance',
            ...(this.#e.rendererOptions ?? {})
        };
        this.renderer = new s(e);
        this.renderer.outputColorSpace = n;
    }
    #g() {
        if (!(this.#e.size instanceof Object)) {
            window.addEventListener('resize', this.#f.bind(this));
            if (this.#e.size === 'parent' && this.canvas.parentNode) {
                this.#r = new ResizeObserver(this.#f.bind(this));
                this.#r.observe(this.canvas.parentNode);
            }
        }
        this.#o = new IntersectionObserver(this.#u.bind(this), {
            root: null,
            rootMargin: '0px',
            threshold: 0
        });
        this.#o.observe(this.canvas);
        document.addEventListener('visibilitychange', this.#v.bind(this));
    }
    #y() {
        window.removeEventListener('resize', this.#f.bind(this));
        this.#r?.disconnect();
        this.#o?.disconnect();
        document.removeEventListener('visibilitychange', this.#v.bind(this));
    }
    #u(e) {
        this.#s = e[0].isIntersecting;
        this.#s ? this.#w() : this.#z();
    }
    #v() {
        if (this.#s) {
            document.hidden ? this.#z() : this.#w();
        }
    }
    #f() {
        if (this.#a) clearTimeout(this.#a);
        this.#a = setTimeout(this.resize.bind(this), 100);
    }
    resize() {
        let e, t;
        if (this.#e.size instanceof Object) {
            e = this.#e.size.width;
            t = this.#e.size.height;
        } else if (this.#e.size === 'parent' && this.canvas.parentNode) {
            e = this.canvas.parentNode.offsetWidth;
            t = this.canvas.parentNode.offsetHeight;
        } else {
            e = window.innerWidth;
            t = window.innerHeight;
        }
        this.size.width = e;
        this.size.height = t;
        this.size.ratio = e / t;
        this.#x();
        this.#b();
        this.onAfterResize(this.size);
    }
    #x() {
        this.camera.aspect = this.size.width / this.size.height;
        if (this.camera.isPerspectiveCamera && this.cameraFov) {
            if (this.cameraMinAspect && this.camera.aspect < this.cameraMinAspect) {
                this.#A(this.cameraMinAspect);
            } else if (this.cameraMaxAspect && this.camera.aspect > this.cameraMaxAspect) {
                this.#A(this.cameraMaxAspect);
            } else {
                this.camera.fov = this.cameraFov;
            }
        }
        this.camera.updateProjectionMatrix();
        this.updateWorldSize();
    }
    #A(e) {
        const t = Math.tan(o.degToRad(this.cameraFov / 2)) / (this.camera.aspect / e);
        this.camera.fov = 2 * o.radToDeg(Math.atan(t));
    }
    updateWorldSize() {
        if (this.camera.isPerspectiveCamera) {
            const e = (this.camera.fov * Math.PI) / 180;
            this.size.wHeight = 2 * Math.tan(e / 2) * this.camera.position.length();
            this.size.wWidth = this.size.wHeight * this.camera.aspect;
        } else if (this.camera.isOrthographicCamera) {
            this.size.wHeight = this.camera.top - this.camera.bottom;
            this.size.wWidth = this.camera.right - this.camera.left;
        }
    }
    #b() {
        this.renderer.setSize(this.size.width, this.size.height);
        this.#t?.setSize(this.size.width, this.size.height);
        let e = window.devicePixelRatio;
        if (this.maxPixelRatio && e > this.maxPixelRatio) {
            e = this.maxPixelRatio;
        } else if (this.minPixelRatio && e < this.minPixelRatio) {
            e = this.minPixelRatio;
        }
        this.renderer.setPixelRatio(e);
        this.size.pixelRatio = e;
    }
    get postprocessing() {
        return this.#t;
    }
    set postprocessing(e) {
        this.#t = e;
        this.render = e.render.bind(e);
    }
    #w() {
        if (this.#n) return;
        const animate = () => {
            this.#l = requestAnimationFrame(animate);
            this.#h.delta = this.#c.getDelta();
            this.#h.elapsed += this.#h.delta;
            this.onBeforeRender(this.#h);
            this.render();
            this.onAfterRender(this.#h);
        };
        this.#n = true;
        this.#c.start();
        animate();
    }
    #z() {
        if (this.#n) {
            cancelAnimationFrame(this.#l);
            this.#n = false;
            this.#c.stop();
        }
    }
    #i() {
        this.renderer.render(this.scene, this.camera);
    }
    clear() {
        this.scene.traverse(e => {
            if (e.isMesh && typeof e.material === 'object' && e.material !== null) {
                Object.keys(e.material).forEach(t => {
                    const i = e.material[t];
                    if (i !== null && typeof i === 'object' && typeof i.dispose === 'function') {
                        i.dispose();
                    }
                });
                e.material.dispose();
                e.geometry.dispose();
            }
        });
        this.scene.clear();
    }
    dispose() {
        this.#y();
        this.#z();
        this.clear();
        this.#t?.dispose();
        this.renderer.dispose();
        this.isDisposed = true;
    }
}

const b = new Map(),
    A = new r();
let R = false;
function S(e) {
    const t = {
        position: new r(),
        nPosition: new r(),
        hover: false,
        touching: false,
        onEnter() { },
        onMove() { },
        onClick() { },
        onLeave() { },
        ...e
    };
    (function (e, t) {
        if (!b.has(e)) {
            b.set(e, t);
            if (!R) {
                document.body.addEventListener('pointermove', M);
                document.body.addEventListener('pointerleave', L);
                document.body.addEventListener('click', C);

                document.body.addEventListener('touchstart', TouchStart, { passive: false });
                document.body.addEventListener('touchmove', TouchMove, { passive: false });
                document.body.addEventListener('touchend', TouchEnd, { passive: false });
                document.body.addEventListener('touchcancel', TouchEnd, { passive: false });

                R = true;
            }
        }
    })(e.domElement, t);
    t.dispose = () => {
        const t = e.domElement;
        b.delete(t);
        if (b.size === 0) {
            document.body.removeEventListener('pointermove', M);
            document.body.removeEventListener('pointerleave', L);
            document.body.removeEventListener('click', C);

            document.body.removeEventListener('touchstart', TouchStart);
            document.body.removeEventListener('touchmove', TouchMove);
            document.body.removeEventListener('touchend', TouchEnd);
            document.body.removeEventListener('touchcancel', TouchEnd);

            R = false;
        }
    };
    return t;
}

function M(e) {
    A.x = e.clientX;
    A.y = e.clientY;
    processInteraction();
}

function processInteraction() {
    for (const [elem, t] of b) {
        const i = elem.getBoundingClientRect();
        if (D(i)) {
            P(t, i);
            if (!t.hover) {
                t.hover = true;
                t.onEnter(t);
            }
            t.onMove(t);
        } else if (t.hover && !t.touching) {
            t.hover = false;
            t.onLeave(t);
        }
    }
}

function C(e) {
    A.x = e.clientX;
    A.y = e.clientY;
    for (const [elem, t] of b) {
        const i = elem.getBoundingClientRect();
        P(t, i);
        if (D(i)) t.onClick(t);
    }
}

function L() {
    for (const t of b.values()) {
        if (t.hover) {
            t.hover = false;
            t.onLeave(t);
        }
    }
}

function TouchStart(e) {
    if (e.touches.length > 0) {
        e.preventDefault();
        A.x = e.touches[0].clientX;
        A.y = e.touches[0].clientY;

        for (const [elem, t] of b) {
            const rect = elem.getBoundingClientRect();
            if (D(rect)) {
                t.touching = true;
                P(t, rect);
                if (!t.hover) {
                    t.hover = true;
                    t.onEnter(t);
                }
                t.onMove(t);
            }
        }
    }
}

function TouchMove(e) {
    if (e.touches.length > 0) {
        e.preventDefault();
        A.x = e.touches[0].clientX;
        A.y = e.touches[0].clientY;

        for (const [elem, t] of b) {
            const rect = elem.getBoundingClientRect();
            P(t, rect);

            if (D(rect)) {
                if (!t.hover) {
                    t.hover = true;
                    t.touching = true;
                    t.onEnter(t);
                }
                t.onMove(t);
            } else if (t.hover && t.touching) {
                t.onMove(t);
            }
        }
    }
}

function TouchEnd() {
    for (const [, t] of b) {
        if (t.touching) {
            t.touching = false;
            if (t.hover) {
                t.hover = false;
                t.onLeave(t);
            }
        }
    }
}

function P(e, t) {
    const { position: i, nPosition: s } = e;
    i.x = A.x - t.left;
    i.y = A.y - t.top;
    s.x = (i.x / t.width) * 2 - 1;
    s.y = (-i.y / t.height) * 2 + 1;
}
function D(e) {
    const { x: t, y: i } = A;
    const { left: s, top: n, width: o, height: r } = e;
    return t >= s && t <= s + o && i >= n && i <= n + r;
}

const { randFloat: k, randFloatSpread: E } = o;
const F = new a();
const I = new a();
const O = new a();
const V = new a();
const B = new a();
const N = new a();
const _ = new a();
const j = new a();
const H = new a();
const T = new a();

class W {
    constructor(e) {
        this.config = e;
        this.positionData = new Float32Array(3 * e.count).fill(0);
        this.velocityData = new Float32Array(3 * e.count).fill(0);
        this.sizeData = new Float32Array(e.count).fill(1);
        this.center = new a();
        this.#R();
        this.setSizes();
    }
    #R() {
        const { config: e, positionData: t } = this;
        this.center.toArray(t, 0);
        for (let i = 1; i < e.count; i++) {
            const s = 3 * i;
            t[s] = E(2 * e.maxX);
            t[s + 1] = E(2 * e.maxY);
            t[s + 2] = E(2 * e.maxZ);
        }
    }
    setSizes() {
        const { config: e, sizeData: t } = this;
        t[0] = e.size0;
        for (let i = 1; i < e.count; i++) {
            t[i] = k(e.minSize, e.maxSize);
        }
    }
    update(e) {
        const { config: t, center: i, positionData: s, sizeData: n, velocityData: o } = this;
        let r = 0;
        if (t.controlSphere0) {
            r = 1;
            F.fromArray(s, 0);
            F.lerp(i, 0.1).toArray(s, 0);
            V.set(0, 0, 0).toArray(o, 0);
        }
        for (let idx = r; idx < t.count; idx++) {
            const base = 3 * idx;
            I.fromArray(s, base);
            B.fromArray(o, base);
            B.y -= e.delta * t.gravity * n[idx];
            B.multiplyScalar(t.friction);
            B.clampLength(0, t.maxVelocity);
            I.add(B);
            I.toArray(s, base);
            B.toArray(o, base);
        }
        for (let idx = r; idx < t.count; idx++) {
            const base = 3 * idx;
            I.fromArray(s, base);
            B.fromArray(o, base);
            const radius = n[idx];
            for (let jdx = idx + 1; jdx < t.count; jdx++) {
                const otherBase = 3 * jdx;
                O.fromArray(s, otherBase);
                N.fromArray(o, otherBase);
                const otherRadius = n[jdx];
                _.copy(O).sub(I);
                const dist = _.length();
                const sumRadius = radius + otherRadius;
                if (dist < sumRadius) {
                    const overlap = sumRadius - dist;
                    j.copy(_)
                        .normalize()
                        .multiplyScalar(0.5 * overlap);
                    H.copy(j).multiplyScalar(Math.max(B.length(), 1));
                    T.copy(j).multiplyScalar(Math.max(N.length(), 1));
                    I.sub(j);
                    B.sub(H);
                    I.toArray(s, base);
                    B.toArray(o, base);
                    O.add(j);
                    N.add(T);
                    O.toArray(s, otherBase);
                    N.toArray(o, otherBase);
                }
            }
            if (t.controlSphere0) {
                _.copy(F).sub(I);
                const dist = _.length();
                const sumRadius0 = radius + n[0];
                if (dist < sumRadius0) {
                    const diff = sumRadius0 - dist;
                    j.copy(_.normalize()).multiplyScalar(diff);
                    H.copy(j).multiplyScalar(Math.max(B.length(), 2));
                    I.sub(j);
                    B.sub(H);
                }
            }
            if (Math.abs(I.x) + radius > t.maxX) {
                I.x = Math.sign(I.x) * (t.maxX - radius);
                B.x = -B.x * t.wallBounce;
            }
            if (t.gravity === 0) {
                if (Math.abs(I.y) + radius > t.maxY) {
                    I.y = Math.sign(I.y) * (t.maxY - radius);
                    B.y = -B.y * t.wallBounce;
                }
            } else if (I.y - radius < -t.maxY) {
                I.y = -t.maxY + radius;
                B.y = -B.y * t.wallBounce;
            }
            const maxBoundary = Math.max(t.maxZ, t.maxSize);
            if (Math.abs(I.z) + radius > maxBoundary) {
                I.z = Math.sign(I.z) * (t.maxZ - radius);
                B.z = -B.z * t.wallBounce;
            }
            I.toArray(s, base);
            B.toArray(o, base);
        }
    }
}

class Y extends c {
    constructor(e) {
        super(e);
        this.uniforms = {
            thicknessDistortion: { value: 0.1 },
            thicknessAmbient: { value: 0 },
            thicknessAttenuation: { value: 0.1 },
            thicknessPower: { value: 2 },
            thicknessScale: { value: 10 }
        };
        this.defines.USE_UV = '';
        this.onBeforeCompile = e => {
            Object.assign(e.uniforms, this.uniforms);
            e.fragmentShader =
                '\n        uniform float thicknessPower;\n        uniform float thicknessScale;\n        uniform float thicknessDistortion;\n        uniform float thicknessAmbient;\n        uniform float thicknessAttenuation;\n      ' +
                e.fragmentShader;
            e.fragmentShader = e.fragmentShader.replace(
                'void main() {',
                '\n        void RE_Direct_Scattering(const in IncidentLight directLight, const in vec2 uv, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, inout ReflectedLight reflectedLight) {\n          vec3 scatteringHalf = normalize(directLight.direction + (geometryNormal * thicknessDistortion));\n          float scatteringDot = pow(saturate(dot(geometryViewDir, -scatteringHalf)), thicknessPower) * thicknessScale;\n          #ifdef USE_COLOR\n            vec3 scatteringIllu = (scatteringDot + thicknessAmbient) * vColor;\n          #else\n            vec3 scatteringIllu = (scatteringDot + thicknessAmbient) * diffuse;\n          #endif\n          reflectedLight.directDiffuse += scatteringIllu * thicknessAttenuation * directLight.color;\n        }\n\n        void main() {\n      '
            );
            const t = h.lights_fragment_begin.replaceAll(
                'RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );',
                '\n          RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n          RE_Direct_Scattering(directLight, vUv, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, reflectedLight);\n        '
            );
            e.fragmentShader = e.fragmentShader.replace('#include <lights_fragment_begin>', t);
            if (this.onBeforeCompile2) this.onBeforeCompile2(e);
        };
    }
}

const X = {
    count: 200,
    colors: [0, 0, 0],
    ambientColor: 16777215,
    ambientIntensity: 1,
    lightIntensity: 200,
    materialParams: {
        metalness: 0.5,
        roughness: 0.5,
        clearcoat: 1,
        clearcoatRoughness: 0.15
    },
    minSize: 0.5,
    maxSize: 1,
    size0: 1,
    gravity: 0.5,
    friction: 0.9975,
    wallBounce: 0.95,
    maxVelocity: 0.15,
    maxX: 5,
    maxY: 5,
    maxZ: 2,
    controlSphere0: false,
    followCursor: true
};

const U = new m();

class Z extends d {
    constructor(e, t = {}) {
        const i = { ...X, ...t };
        const s = new z();
        const n = new p(e, 0.04).fromScene(s).texture;
        const o = new g();
        const r = new Y({ envMap: n, ...i.materialParams });
        r.envMapRotation.x = -Math.PI / 2;
        super(o, r, i.count);
        this.config = i;
        this.physics = new W(i);
        this.#S();
        this.setColors(i.colors);
    }
    #S() {
        this.ambientLight = new f(this.config.ambientColor, this.config.ambientIntensity);
        this.add(this.ambientLight);
        this.light = new u(this.config.colors[0], this.config.lightIntensity);
        this.add(this.light);
    }
    setColors(e) {
        if (Array.isArray(e) && e.length > 1) {
            const t = (function (e) {
                let t, i;
                function setColors(e) {
                    t = e;
                    i = [];
                    t.forEach(col => {
                        i.push(new l(col));
                    });
                }
                setColors(e);
                return {
                    setColors,
                    getColorAt: function (ratio, out = new l()) {
                        const scaled = Math.max(0, Math.min(1, ratio)) * (t.length - 1);
                        const idx = Math.floor(scaled);
                        const start = i[idx];
                        if (idx >= t.length - 1) return start.clone();
                        const alpha = scaled - idx;
                        const end = i[idx + 1];
                        out.r = start.r + alpha * (end.r - start.r);
                        out.g = start.g + alpha * (end.g - start.g);
                        out.b = start.b + alpha * (end.b - start.b);
                        return out;
                    }
                };
            })(e);
            for (let idx = 0; idx < this.count; idx++) {
                this.setColorAt(idx, t.getColorAt(idx / this.count));
                if (idx === 0) {
                    this.light.color.copy(t.getColorAt(idx / this.count));
                }
            }
            this.instanceColor.needsUpdate = true;
        }
    }
    update(e) {
        this.physics.update(e);
        for (let idx = 0; idx < this.count; idx++) {
            U.position.fromArray(this.physics.positionData, 3 * idx);
            if (idx === 0 && this.config.followCursor === false) {
                U.scale.setScalar(0);
            } else {
                U.scale.setScalar(this.physics.sizeData[idx]);
            }
            U.updateMatrix();
            this.setMatrixAt(idx, U.matrix);
            if (idx === 0) this.light.position.copy(U.position);
        }
        this.instanceMatrix.needsUpdate = true;
    }
}

function createBallpit(e, t = {}) {
    const i = new x({
        canvas: e,
        size: 'parent',
        rendererOptions: { antialias: true, alpha: true }
    });
    let s;
    i.renderer.toneMapping = v;
    i.camera.position.set(0, 0, 20);
    i.camera.lookAt(0, 0, 0);
    i.cameraMaxAspect = 1.5;
    i.resize();
    initialize(t);
    const n = new y();
    const o = new w(new a(0, 0, 1), 0);
    const r = new a();
    let c = false;

    e.style.touchAction = 'none';
    e.style.userSelect = 'none';
    e.style.webkitUserSelect = 'none';

    const h = S({
        domElement: e,
        onMove() {
            n.setFromCamera(h.nPosition, i.camera);
            i.camera.getWorldDirection(o.normal);
            n.ray.intersectPlane(o, r);
            s.physics.center.copy(r);
            s.config.controlSphere0 = true;
        },
        onLeave() {
            s.config.controlSphere0 = false;
        }
    });
    function initialize(e) {
        if (s) {
            i.clear();
            i.scene.remove(s);
        }
        s = new Z(i.renderer, e);
        i.scene.add(s);
    }
    i.onBeforeRender = e => {
        if (!c) s.update(e);
    };
    i.onAfterResize = e => {
        s.config.maxX = e.wWidth / 2;
        s.config.maxY = e.wHeight / 2;
    };
    return {
        three: i,
        get spheres() {
            return s;
        },
        setCount(e) {
            initialize({ ...s.config, count: e });
        },
        togglePause() {
            c = !c;
        },
        dispose() {
            h.dispose();
            i.dispose();
        }
    };
}

const Ballpit = ({ className = '', followCursor = true, ...props }) => {
    const canvasRef = useRef(null);
    const spheresInstanceRef = useRef(null);

    useEffect(() => {
        const canvas = canvasRef.current;
        if (!canvas) return;

        spheresInstanceRef.current = createBallpit(canvas, { followCursor, ...props });

        return () => {
            if (spheresInstanceRef.current) {
                spheresInstanceRef.current.dispose();
            }
        };
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, []);

    return <canvas className={className} ref={canvasRef} style={{ width: '100%', height: '100%' }} />;
};

export default Ballpit;



==== FILE: .\frontend\src\components\BookCard.js ====
import React from 'react';
import { Link } from 'react-router-dom';
import '../styles/BookCard.css';

const BookCard = ({ book }) => {
    const renderStars = (rating) => {
        return [...Array(5)].map((_, i) => (
            <span key={i}>{i < Math.floor(rating) ? '★' : '☆'}</span>
        ));
    };

    return (
        <Link to={`/books/${book.id}`} className="book-card">
            {/* Cover */}
            <div className="book-cover">
                {book.cover_image ? (
                    <img
                        src={book.cover_image}
                        alt={book.title}
                        className="book-cover-img"
                    />
                ) : (
                    <div className="book-cover-icon">📚</div>
                )}
            </div>

            {/* Body */}
            <div className="book-body">
                {/* Title */}
                <h3 className="book-title">{book.title}</h3>

                {/* Author */}
                {book.author && (
                    <div className="book-author">Автор: {book.author}</div>
                )}

                {/* Tags - жанр и категория */}
                {(book.genre || book.tag) && (
                    <div className="book-tags">
                        {book.genre && (
                            <span className="book-tag genre">{book.genre}</span>
                        )}
                        {book.tag && (
                            <span className="book-tag category">{book.tag}</span>
                        )}
                    </div>
                )}

                {/* Description */}
                {book.description && (
                    <p className="book-description">{book.description}</p>
                )}

                {/* Rating */}
                {book.rating && (
                    <div className="book-rating">
                        <div className="rating-stars">
                            {renderStars(book.rating)}
                        </div>
                        <span className="rating-value">{book.rating.toFixed(1)}</span>
                        {book.rating_count > 0 && (
                            <span className="rating-count">({book.rating_count})</span>
                        )}
                    </div>
                )}

                {/* Footer Info */}
                {(book.year || book.pages) && (
                    <div className="book-footer">
                        <div className="book-info">
                            {book.year && (
                                <span className="book-year">{book.year}</span>
                            )}
                            {book.pages && (
                                <span className="book-pages">{book.pages} стр.</span>
                            )}
                        </div>
                    </div>
                )}
            </div>
        </Link>
    );
};

export default BookCard;



==== FILE: .\frontend\src\components\Footer.js ====
import React from 'react';
import '../styles/Footer.css';

const Footer = () => {
    const scrollToTop = () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    };

    return (
        <footer className="footer">
            <div className="footer-container">
                <div className="footer-left">
                    <span className="footer-copyright">© 2025 РДОО "ПБ"</span>
                </div>

                <div className="footer-center">
                    <a
                        href="/privacy"
                        className="footer-link"
                        target="_blank"
                        rel="noopener noreferrer"
                    >
                        Политика в отношении обработки персональных данных
                    </a>
                </div>

                <div className="footer-right">
                    <button
                        onClick={scrollToTop}
                        className="footer-scroll-top"
                        aria-label="Scroll to top"
                    >
                        Вверх ↑
                    </button>
                </div>
            </div>
        </footer>
    );
};

export default Footer;



==== FILE: .\frontend\src\components\Iridescence.js ====
import { Renderer, Program, Mesh, Color, Triangle } from 'ogl';
import { useEffect, useRef } from 'react';
import '../styles/Iridescence.css';

const vertexShader = `
attribute vec2 uv;
attribute vec2 position;

varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = vec4(position, 0, 1);
}
`;

const fragmentShader = `
precision highp float;

uniform float uTime;
uniform vec3 uColor;
uniform vec3 uResolution;
uniform vec2 uMouse;
uniform float uAmplitude;
uniform float uSpeed;

varying vec2 vUv;

void main() {
  float mr = min(uResolution.x, uResolution.y);
  vec2 uv = (vUv.xy * 2.0 - 1.0) * uResolution.xy / mr;

  uv += (uMouse - vec2(0.5)) * uAmplitude;

  float d = -uTime * 0.5 * uSpeed;
  float a = 0.0;
  for (float i = 0.0; i < 8.0; ++i) {
    a += cos(i - d - a * uv.x);
    d += sin(uv.y * i + a);
  }
  d += uTime * 0.5 * uSpeed;
  vec3 col = vec3(cos(uv * vec2(d, a)) * 0.6 + 0.4, cos(a + d) * 0.5 + 0.5);
  col = cos(col * cos(vec3(d, a, 2.5)) * 0.5 + 0.5) * uColor;
  gl_FragColor = vec4(col, 1.0);
}
`;

export default function Iridescence({ color = [1, 1, 1], speed = 1.0, amplitude = 0.1, mouseReact = true, ...rest }) {
    const ctnDom = useRef(null);
    const mousePos = useRef({ x: 0.5, y: 0.5 });

    useEffect(() => {
        if (!ctnDom.current) return;
        const ctn = ctnDom.current;

        let renderer, gl, animateId;

        try {
            renderer = new Renderer({ alpha: false });
            gl = renderer.gl;
            gl.clearColor(color[0], color[1], color[2], 1);

            let program;

            function resize() {
                const scale = 1;
                renderer.setSize(ctn.offsetWidth * scale, ctn.offsetHeight * scale);
                if (program) {
                    program.uniforms.uResolution.value = new Color(
                        gl.canvas.width,
                        gl.canvas.height,
                        gl.canvas.width / gl.canvas.height
                    );
                }
            }
            window.addEventListener('resize', resize, false);
            resize();

            const geometry = new Triangle(gl);
            program = new Program(gl, {
                vertex: vertexShader,
                fragment: fragmentShader,
                uniforms: {
                    uTime: { value: 0 },
                    uColor: { value: new Color(...color) },
                    uResolution: {
                        value: new Color(gl.canvas.width, gl.canvas.height, gl.canvas.width / gl.canvas.height)
                    },
                    uMouse: { value: new Float32Array([mousePos.current.x, mousePos.current.y]) },
                    uAmplitude: { value: amplitude },
                    uSpeed: { value: speed }
                }
            });

            const mesh = new Mesh(gl, { geometry, program });

            function update(t) {
                animateId = requestAnimationFrame(update);
                program.uniforms.uTime.value = t * 0.001;
                renderer.render({ scene: mesh });
            }

            ctn.appendChild(gl.canvas);
            animateId = requestAnimationFrame(update);

            function handleMouseMove(e) {
                const rect = ctn.getBoundingClientRect();
                const x = (e.clientX - rect.left) / rect.width;
                const y = 1.0 - (e.clientY - rect.top) / rect.height;
                mousePos.current = { x, y };
                program.uniforms.uMouse.value[0] = x;
                program.uniforms.uMouse.value[1] = y;
            }
            if (mouseReact) {
                ctn.addEventListener('mousemove', handleMouseMove);
            }

            return () => {
                cancelAnimationFrame(animateId);
                window.removeEventListener('resize', resize);
                if (mouseReact) {
                    ctn.removeEventListener('mousemove', handleMouseMove);
                }
                if (ctn.contains(gl.canvas)) {
                    ctn.removeChild(gl.canvas);
                }
                gl.getExtension('WEBGL_lose_context')?.loseContext();
            };
        } catch (error) {
            console.error('WebGL initialization failed:', error);
            return () => { };
        }
    }, [color, speed, amplitude, mouseReact]);

    return <div ref={ctnDom} className="iridescence-container" {...rest} />;
}



==== FILE: .\frontend\src\components\SearchFilters.js ====
import React, { useState, useEffect, useRef } from 'react';
import { createPortal } from 'react-dom';
import { filtersAPI } from '../services/api';
import '../styles/SearchFilters.css';

const CustomSelect = ({ value, onChange, options, placeholder }) => {
    const [isOpen, setIsOpen] = useState(false);
    const [selectedLabel, setSelectedLabel] = useState(placeholder);
    const [dropdownStyle, setDropdownStyle] = useState({});
    const buttonRef = useRef(null);
    const dropdownRef = useRef(null);

    useEffect(() => {
        if (value === '') {
            setSelectedLabel(placeholder);
        } else {
            const selected = options.find(opt => opt.value === value);
            if (selected) setSelectedLabel(selected.label);
        }
    }, [value, options, placeholder]);

    // Обновляем позицию dropdown при открытии
    useEffect(() => {
        if (isOpen && buttonRef.current) {
            const rect = buttonRef.current.getBoundingClientRect();
            setDropdownStyle({
                position: 'fixed',
                top: `${rect.bottom + 8}px`,
                left: `${rect.left}px`,
                width: `${rect.width}px`,
                zIndex: 9999
            });
        }
    }, [isOpen]);

    // Закрытие при клике вне
    useEffect(() => {
        const handleClickOutside = (event) => {
            if (
                buttonRef.current && !buttonRef.current.contains(event.target) &&
                dropdownRef.current && !dropdownRef.current.contains(event.target)
            ) {
                setIsOpen(false);
            }
        };

        document.addEventListener('mousedown', handleClickOutside);
        return () => document.removeEventListener('mousedown', handleClickOutside);
    }, []);

    // Обновление позиции при скролле/resize
    useEffect(() => {
        if (!isOpen) return;

        const updatePosition = () => {
            if (buttonRef.current) {
                const rect = buttonRef.current.getBoundingClientRect();
                setDropdownStyle({
                    position: 'fixed',
                    top: `${rect.bottom + 8}px`,
                    left: `${rect.left}px`,
                    width: `${rect.width}px`,
                    zIndex: 9999
                });
            }
        };

        window.addEventListener('scroll', updatePosition, true);
        window.addEventListener('resize', updatePosition);

        return () => {
            window.removeEventListener('scroll', updatePosition, true);
            window.removeEventListener('resize', updatePosition);
        };
    }, [isOpen]);

    const handleSelect = (optionValue) => {
        onChange(optionValue);
        setIsOpen(false);
    };

    const dropdownContent = isOpen ? (
        <div
            ref={dropdownRef}
            className="custom-select-dropdown"
            style={dropdownStyle}
        >
            <div className="custom-select-dropdown-inner">
                {options.map((option, index) => (
                    <div
                        key={index}
                        className={`custom-select-option ${option.value === value ? 'selected' : ''}`}
                        onClick={() => handleSelect(option.value)}
                    >
                        {option.value === value && <span className="check-mark"></span>}
                        <span className="option-text">{option.label}</span>
                    </div>
                ))}
            </div>
        </div>
    ) : null;

    return (
        <>
            <div className="custom-select-wrapper">
                <button
                    ref={buttonRef}
                    className={`custom-select-button ${isOpen ? 'active' : ''}`}
                    onClick={() => setIsOpen(!isOpen)}
                    type="button"
                >
                    <span className="custom-select-value">{selectedLabel}</span>
                    <svg
                        className="custom-select-arrow"
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                    >
                        <path
                            d="M5 8L10 13L15 8"
                            stroke="currentColor"
                            strokeWidth="2"
                            strokeLinecap="round"
                            strokeLinejoin="round"
                        />
                    </svg>
                </button>
            </div>
            {dropdownContent && createPortal(dropdownContent, document.body)}
        </>
    );
};

const SearchFilters = ({ onFilterChange }) => {
    const [search, setSearch] = useState('');
    const [selectedTag, setSelectedTag] = useState('');
    const [selectedGenre, setSelectedGenre] = useState('');
    const [selectedAuthor, setSelectedAuthor] = useState('');

    const [tags, setTags] = useState([]);
    const [genres, setGenres] = useState([]);
    const [authors, setAuthors] = useState([]);

    useEffect(() => {
        loadFilters();
    }, []);

    useEffect(() => {
        const filters = {
            search: search || undefined,
            tag: selectedTag || undefined,
            genre: selectedGenre || undefined,
            author: selectedAuthor || undefined,
        };
        onFilterChange(filters);
    }, [search, selectedTag, selectedGenre, selectedAuthor]);

    const loadFilters = async () => {
        try {
            const [tagsRes, genresRes, authorsRes] = await Promise.all([
                filtersAPI.getTags(),
                filtersAPI.getGenres(),
                filtersAPI.getAuthors(),
            ]);
            setTags(tagsRes.data.tags);
            setGenres(genresRes.data.genres);
            setAuthors(authorsRes.data.authors);
        } catch (error) {
            console.error('Error loading filters:', error);
        }
    };

    const handleReset = () => {
        setSearch('');
        setSelectedTag('');
        setSelectedGenre('');
        setSelectedAuthor('');
    };

    const tagOptions = [
        { value: '', label: 'Все теги' },
        ...tags.map(tag => ({ value: tag, label: tag }))
    ];

    const genreOptions = [
        { value: '', label: 'Все жанры' },
        ...genres.map(genre => ({ value: genre, label: genre }))
    ];

    const authorOptions = [
        { value: '', label: 'Все авторы' },
        ...authors.map(author => ({ value: author, label: author }))
    ];

    return (
        <div className="search-filters">
            <div className="search-bar">
                <input
                    type="text"
                    className="search-input"
                    placeholder="Поиск книг по названию, автору, описанию..."
                    value={search}
                    onChange={(e) => setSearch(e.target.value)}
                />
            </div>

            <div className="filters-row">
                <CustomSelect
                    value={selectedTag}
                    onChange={setSelectedTag}
                    options={tagOptions}
                    placeholder="Все теги"
                />

                <CustomSelect
                    value={selectedGenre}
                    onChange={setSelectedGenre}
                    options={genreOptions}
                    placeholder="Все жанры"
                />

                <CustomSelect
                    value={selectedAuthor}
                    onChange={setSelectedAuthor}
                    options={authorOptions}
                    placeholder="Все авторы"
                />

                <button className="btn-reset" onClick={handleReset}>
                    Сбросить
                </button>
            </div>
        </div>
    );
};

export default SearchFilters;



==== FILE: .\frontend\src\components\StaggeredMenu.js ====
import React, { useCallback, useLayoutEffect, useRef, useState } from 'react';
import { Link, useLocation } from 'react-router-dom';
import { gsap } from 'gsap';
import { useAuth } from '../contexts/AuthContext';
import { useTheme } from '../contexts/ThemeContext';
import '../styles/StaggeredMenu.css';
import pioneerLogoLight from '../assets/pioneer-logo-light.png';
import pioneerLogoDark from '../assets/pioneer-logo-dark.png';

export const StaggeredMenu = ({
    position = 'right',
    colors = ['#667eea', '#764ba2'],
    className,
    logoText = 'Библиотека',
    accentColor = '#667eea',
    closeOnClickAway = true
}) => {
    const { isAuthenticated, isAdmin, logout, user } = useAuth();
    const { theme, toggleTheme } = useTheme();
    const location = useLocation();
    const [open, setOpen] = useState(false);
    const [expandedSection, setExpandedSection] = useState(null);
    const openRef = useRef(false);
    const panelRef = useRef(null);
    const preLayersRef = useRef(null);
    const preLayerElsRef = useRef([]);
    const plusHRef = useRef(null);
    const plusVRef = useRef(null);
    const iconRef = useRef(null);
    const textInnerRef = useRef(null);
    const [textLines, setTextLines] = useState(['Меню', 'Закрыть']);
    const toggleBtnRef = useRef(null);
    const busyRef = useRef(false);

    const openTlRef = useRef(null);
    const closeTweenRef = useRef(null);
    const spinTweenRef = useRef(null);
    const textCycleAnimRef = useRef(null);

    const currentLogo = theme === 'dark' ? pioneerLogoDark : pioneerLogoLight;

    const sectionsItems = [
        { label: 'Методклуб', link: '/sections/methodclub' },
        { label: 'Пионерская работа', link: '/sections/pioneers' },
        { label: 'Школьный актив', link: '/sections/leaders' },
        { label: 'Волонтёры', link: '/sections/volunteers' },
        { label: 'Школьные медиа', link: '/sections/media' },
        { label: 'Игры', link: '/sections/games' },
        { label: 'Сценарии', link: '/sections/scenarios' },
        { label: 'Пионерская книга', link: '/sections/book' },
        { label: 'Обмен опытом', link: '/sections/exchange' },
        { label: 'Контакты', link: '/sections/contacts' },
        { label: 'Календарь', link: '/sections/calendar' },
        { label: 'Документы', link: '/sections/documents' }
    ];

    const menuItems = [
        { label: 'Главная', link: '/', show: true },
        { label: 'Книги', link: '/books', show: true },
        {
            label: 'Разделы',
            link: '/sections/methodclub',
            show: isAuthenticated,
            hasSubmenu: true,
            submenu: sectionsItems
        },
        { label: 'Избранное', link: '/favorites', show: isAuthenticated },
        { label: 'Админ', link: '/admin', show: isAdmin }
    ].filter(item => item.show);

    useLayoutEffect(() => {
        const ctx = gsap.context(() => {
            const panel = panelRef.current;
            const preContainer = preLayersRef.current;
            const plusH = plusHRef.current;
            const plusV = plusVRef.current;
            const icon = iconRef.current;
            const textInner = textInnerRef.current;
            if (!panel || !plusH || !plusV || !icon || !textInner) return;

            let preLayers = [];
            if (preContainer) {
                preLayers = Array.from(preContainer.querySelectorAll('.sm-prelayer'));
            }
            preLayerElsRef.current = preLayers;

            const offscreen = position === 'left' ? -100 : 100;
            gsap.set([panel, ...preLayers], { xPercent: offscreen });
            gsap.set(plusH, { transformOrigin: '50% 50%', rotate: 0 });
            gsap.set(plusV, { transformOrigin: '50% 50%', rotate: 90 });
            gsap.set(icon, { rotate: 0, transformOrigin: '50% 50%' });
            gsap.set(textInner, { yPercent: 0 });
        });
        return () => ctx.revert();
    }, [position]);

    const buildOpenTimeline = useCallback(() => {
        const panel = panelRef.current;
        const layers = preLayerElsRef.current;
        if (!panel) return null;

        openTlRef.current?.kill();
        closeTweenRef.current?.kill();

        const itemEls = Array.from(panel.querySelectorAll('.sm-panel-itemLabel'));

        const layerStates = layers.map(el => ({ el, start: Number(gsap.getProperty(el, 'xPercent')) }));
        const panelStart = Number(gsap.getProperty(panel, 'xPercent'));

        if (itemEls.length) {
            gsap.set(itemEls, { yPercent: 140, rotate: 10 });
        }

        const tl = gsap.timeline({ paused: true });

        layerStates.forEach((ls, i) => {
            tl.fromTo(ls.el, { xPercent: ls.start }, { xPercent: 0, duration: 0.5, ease: 'power4.out' }, i * 0.07);
        });

        const lastTime = layerStates.length ? (layerStates.length - 1) * 0.07 : 0;
        const panelInsertTime = lastTime + (layerStates.length ? 0.08 : 0);
        const panelDuration = 0.65;
        tl.fromTo(panel, { xPercent: panelStart }, { xPercent: 0, duration: panelDuration, ease: 'power4.out' }, panelInsertTime);

        if (itemEls.length) {
            const itemsStartRatio = 0.15;
            const itemsStart = panelInsertTime + panelDuration * itemsStartRatio;
            tl.to(itemEls, {
                yPercent: 0,
                rotate: 0,
                duration: 1,
                ease: 'power4.out',
                stagger: { each: 0.1, from: 'start' }
            }, itemsStart);
        }

        openTlRef.current = tl;
        return tl;
    }, []);

    const playOpen = useCallback(() => {
        if (busyRef.current) return;
        busyRef.current = true;
        const tl = buildOpenTimeline();
        if (tl) {
            tl.eventCallback('onComplete', () => {
                busyRef.current = false;
            });
            tl.play(0);
        } else {
            busyRef.current = false;
        }
    }, [buildOpenTimeline]);

    const playClose = useCallback(() => {
        openTlRef.current?.kill();
        const panel = panelRef.current;
        const layers = preLayerElsRef.current;
        if (!panel) return;

        const all = [...layers, panel];
        closeTweenRef.current?.kill();
        const offscreen = position === 'left' ? -100 : 100;
        closeTweenRef.current = gsap.to(all, {
            xPercent: offscreen,
            duration: 0.32,
            ease: 'power3.in',
            overwrite: 'auto',
            onComplete: () => {
                const itemEls = Array.from(panel.querySelectorAll('.sm-panel-itemLabel'));
                if (itemEls.length) gsap.set(itemEls, { yPercent: 140, rotate: 10 });
                busyRef.current = false;
            }
        });
    }, [position]);

    const animateIcon = useCallback(opening => {
        const icon = iconRef.current;
        if (!icon) return;
        spinTweenRef.current?.kill();
        if (opening) {
            spinTweenRef.current = gsap.to(icon, { rotate: 225, duration: 0.8, ease: 'power4.out', overwrite: 'auto' });
        } else {
            spinTweenRef.current = gsap.to(icon, { rotate: 0, duration: 0.35, ease: 'power3.inOut', overwrite: 'auto' });
        }
    }, []);

    const animateText = useCallback(opening => {
        const inner = textInnerRef.current;
        if (!inner) return;
        textCycleAnimRef.current?.kill();

        const currentLabel = opening ? 'Меню' : 'Закрыть';
        const targetLabel = opening ? 'Закрыть' : 'Меню';
        const cycles = 3;
        const seq = [currentLabel];
        let last = currentLabel;
        for (let i = 0; i < cycles; i++) {
            last = last === 'Меню' ? 'Закрыть' : 'Меню';
            seq.push(last);
        }
        if (last !== targetLabel) seq.push(targetLabel);
        seq.push(targetLabel);
        setTextLines(seq);

        gsap.set(inner, { yPercent: 0 });
        const lineCount = seq.length;
        const finalShift = ((lineCount - 1) / lineCount) * 100;
        textCycleAnimRef.current = gsap.to(inner, {
            yPercent: -finalShift,
            duration: 0.5 + lineCount * 0.07,
            ease: 'power4.out'
        });
    }, []);

    const toggleMenu = useCallback(() => {
        const target = !openRef.current;
        openRef.current = target;
        setOpen(target);
        if (target) {
            playOpen();
        } else {
            playClose();
            setExpandedSection(null);
        }
        animateIcon(target);
        animateText(target);
    }, [playOpen, playClose, animateIcon, animateText]);

    const closeMenu = useCallback(() => {
        if (openRef.current) {
            openRef.current = false;
            setOpen(false);
            setExpandedSection(null);
            playClose();
            animateIcon(false);
            animateText(false);
        }
    }, [playClose, animateIcon, animateText]);

    React.useEffect(() => {
        if (!closeOnClickAway || !open) return;
        const handleClickOutside = event => {
            if (panelRef.current && !panelRef.current.contains(event.target) && !toggleBtnRef.current?.contains(event.target)) {
                closeMenu();
            }
        };
        document.addEventListener('mousedown', handleClickOutside);
        return () => document.removeEventListener('mousedown', handleClickOutside);
    }, [closeOnClickAway, open, closeMenu]);

    const handleLogout = () => {
        logout();
        closeMenu();
    };

    const toggleSubmenu = (index) => {
        setExpandedSection(expandedSection === index ? null : index);
    };

    return (
        <>
            {/* Header вынесен за пределы wrapper */}
            <header className="staggered-menu-header">
                <Link to="/" className="sm-logo">
                    <span className="sm-logo-text">{logoText}</span>
                    <img src={currentLogo} alt="Пионеры Башкортостана" className="sm-logo-icon" />
                </Link>
                <button
                    ref={toggleBtnRef}
                    className="sm-toggle"
                    aria-label={open ? 'Закрыть меню' : 'Открыть меню'}
                    aria-expanded={open}
                    onClick={toggleMenu}
                    type="button"
                >
                    <span className="sm-toggle-textWrap">
                        <span ref={textInnerRef} className="sm-toggle-textInner">
                            {textLines.map((l, i) => (
                                <span className="sm-toggle-line" key={i}>{l}</span>
                            ))}
                        </span>
                    </span>
                    <span ref={iconRef} className="sm-icon">
                        <span ref={plusHRef} className="sm-icon-line" />
                        <span ref={plusVRef} className="sm-icon-line sm-icon-line-v" />
                    </span>
                </button>
            </header>

            <div
                className={(className ? className + ' ' : '') + 'staggered-menu-wrapper fixed-wrapper'}
                style={{ '--sm-accent': accentColor }}
                data-position={position}
                data-open={open || undefined}
            >
                <div ref={preLayersRef} className="sm-prelayers" aria-hidden="true">
                    {colors.slice(0, 2).map((c, i) => (
                        <div key={i} className="sm-prelayer" style={{ background: c }} />
                    ))}
                </div>

                <aside ref={panelRef} className="staggered-menu-panel" aria-hidden={!open}>
                    <div className="sm-panel-inner">
                        <ul className="sm-panel-list" role="list">
                            {menuItems.map((item, idx) => (
                                <li className="sm-panel-itemWrap" key={item.label + idx}>
                                    {item.hasSubmenu ? (
                                        <div className="sm-submenu-wrapper">
                                            <button
                                                className={`sm-panel-item submenu-toggle ${expandedSection === idx ? 'expanded' : ''}`}
                                                onClick={() => toggleSubmenu(idx)}
                                            >
                                                <span className="sm-panel-itemLabel">{item.label}</span>
                                            </button>
                                            <ul className={`sm-submenu ${expandedSection === idx ? 'expanded' : ''}`}>
                                                {item.submenu.map((subItem, subIdx) => (
                                                    <li key={subIdx} className="sm-submenu-item">
                                                        <Link
                                                            to={subItem.link}
                                                            className={`sm-submenu-link ${location.pathname === subItem.link ? 'active' : ''}`}
                                                            onClick={closeMenu}
                                                        >
                                                            <span className="sm-submenu-label">{subItem.label}</span>
                                                        </Link>
                                                    </li>
                                                ))}
                                            </ul>
                                        </div>
                                    ) : (
                                        <Link
                                            className={`sm-panel-item ${location.pathname === item.link || location.pathname.startsWith(item.link + '/') ? 'active' : ''}`}
                                            to={item.link}
                                            onClick={closeMenu}
                                        >
                                            <span className="sm-panel-itemLabel">{item.label}</span>
                                        </Link>
                                    )}
                                </li>
                            ))}
                        </ul>

                        <div className="sm-user-section">
                            {isAuthenticated && user && (
                                <div className="sm-user-info">
                                    <div className="sm-user-avatar">{user.fullname?.charAt(0).toUpperCase() || 'U'}</div>
                                    <span className="sm-user-name">{user.fullname || 'Пользователь'}</span>
                                </div>
                            )}

                            <div className="sm-actions">
                                <button className="sm-theme-btn" onClick={toggleTheme}>
                                    <span className="sm-theme-icon">{theme === 'light' ? '' : ''}</span>
                                    <span className="sm-theme-text">{theme === 'light' ? 'Темная тема' : 'Светлая тема'}</span>
                                </button>

                                {isAuthenticated ? (
                                    <button className="sm-auth-btn logout" onClick={handleLogout}>
                                        Выйти
                                    </button>
                                ) : (
                                    <Link to="/auth" className="sm-auth-btn login" onClick={closeMenu}>
                                        Войти
                                    </Link>
                                )}
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </>
    );
};

export default StaggeredMenu;



==== FILE: .\frontend\src\contexts\AuthContext.js ====
import React, { createContext, useContext, useState, useEffect } from 'react';
import api from '../services/api';

const AuthContext = createContext();

export const useAuth = () => {
    const context = useContext(AuthContext);
    if (!context) {
        throw new Error('useAuth must be used within AuthProvider');
    }
    return context;
};

export const AuthProvider = ({ children }) => {
    const [user, setUser] = useState(null);
    const [token, setToken] = useState(() => localStorage.getItem('token'));
    const [loading, setLoading] = useState(true);

    useEffect(() => {
        if (token) {
            api.defaults.headers.common['Authorization'] = `Bearer ${token}`;
            fetchCurrentUser();
        } else {
            setLoading(false);
        }
    }, [token]);

    const fetchCurrentUser = async () => {
        try {
            const response = await api.get('/auth/me');
            setUser(response.data);
        } catch (error) {
            console.error('Failed to fetch user:', error);
            logout();
        } finally {
            setLoading(false);
        }
    };

    const login = async (email, password) => {
        const response = await api.post('/auth/login', { email, password });
        const { access_token } = response.data;

        localStorage.setItem('token', access_token);
        setToken(access_token);
        api.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;

        await fetchCurrentUser();
        return response.data;
    };

    const register = async (userData) => {
        const response = await api.post('/auth/register', userData);
        return response.data;
    };

    const logout = () => {
        localStorage.removeItem('token');
        setToken(null);
        setUser(null);
        delete api.defaults.headers.common['Authorization'];
    };

    return (
        <AuthContext.Provider value={{
            user,
            token,
            loading,
            login,
            register,
            logout,
            isAuthenticated: !!user,
            isAdmin: user?.is_admin || false
        }}>
            {children}
        </AuthContext.Provider>
    );
};



==== FILE: .\frontend\src\contexts\ThemeContext.js ====
import React, { createContext, useContext, useState, useEffect } from 'react';

const ThemeContext = createContext();

export const useTheme = () => {
    const context = useContext(ThemeContext);
    if (!context) {
        throw new Error('useTheme must be used within ThemeProvider');
    }
    return context;
};

export const ThemeProvider = ({ children }) => {
    const [theme, setTheme] = useState(() => {
        const saved = localStorage.getItem('theme');
        return saved || 'light';
    });

    useEffect(() => {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
    }, [theme]);

    const toggleTheme = () => {
        setTheme(prev => prev === 'light' ? 'dark' : 'light');
    };

    return (
        <ThemeContext.Provider value={{ theme, toggleTheme }}>
            {children}
        </ThemeContext.Provider>
    );
};



==== FILE: .\frontend\src\pages\AdminPage.js ====
import React, { useState, useEffect, useRef } from 'react';
import { useNavigate } from 'react-router-dom';
import { useAuth } from '../contexts/AuthContext';
import Iridescence from '../components/Iridescence';
import { booksAPI } from '../services/api';
import { FaShieldAlt } from 'react-icons/fa';
import '../styles/AdminPage.css';

const AdminPage = () => {
    const { isAdmin } = useAuth();
    const navigate = useNavigate();

    // Form state
    const [formData, setFormData] = useState({
        tag: '',
        genre: '',
        title: '',
        author: '',
        description: ''
    });
    const [file, setFile] = useState(null);
    const [fileName, setFileName] = useState('');

    // UI state
    const [loading, setLoading] = useState(false);
    const [message, setMessage] = useState({ text: '', type: '' });

    // Refs
    const uploadCardRef = useRef(null);
    const syncCardRef = useRef(null);

    // Redirect если не админ
    useEffect(() => {
        if (!isAdmin) {
            navigate('/');
        }
    }, [isAdmin, navigate]);

    // Intersection Observer
    useEffect(() => {
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        [uploadCardRef, syncCardRef].forEach(ref => {
            if (ref.current) {
                observer.observe(ref.current);
            }
        });

        return () => observer.disconnect();
    }, []);

    // Handlers
    const handleInputChange = (e) => {
        const { name, value } = e.target;
        setFormData(prev => ({ ...prev, [name]: value }));
    };

    const handleFileChange = (e) => {
        const selectedFile = e.target.files[0];
        if (selectedFile) {
            setFile(selectedFile);
            setFileName(selectedFile.name);
        }
    };

    const resetForm = () => {
        setFormData({
            tag: '',
            genre: '',
            title: '',
            author: '',
            description: ''
        });
        setFile(null);
        setFileName('');
        const fileInput = document.getElementById('file');
        if (fileInput) fileInput.value = '';
    };

    const showMessage = (text, type) => {
        setMessage({ text, type });
        setTimeout(() => {
            setMessage({ text: '', type: '' });
        }, 5000);
    };

    const handleSubmit = async (e) => {
        e.preventDefault();

        if (!file) {
            showMessage('Пожалуйста, выберите PDF файл', 'error');
            return;
        }

        if (!formData.tag.trim() || !formData.genre.trim() || !formData.title.trim() ||
            !formData.author.trim() || !formData.description.trim()) {
            showMessage('Заполните все обязательные поля', 'error');
            return;
        }

        setLoading(true);
        try {
            const data = new FormData();
            data.append('file', file);
            data.append('tag', formData.tag.trim());
            data.append('genre', formData.genre.trim());
            data.append('title', formData.title.trim());
            data.append('author', formData.author.trim());
            data.append('description', formData.description.trim());

            await booksAPI.create(data);
            showMessage('Книга успешно добавлена!', 'success');
            resetForm();
        } catch (error) {
            let errorMsg = 'Ошибка при добавлении книги';
            if (error.response) {
                errorMsg = error.response.data?.detail ||
                    error.response.data?.message ||
                    `Ошибка ${error.response.status}`;
            }
            showMessage(errorMsg, 'error');
        } finally {
            setLoading(false);
        }
    };

    const handleSync = async () => {
        setLoading(true);
        try {
            const response = await booksAPI.sync();
            showMessage(response.data.message || 'Синхронизация завершена', 'success');
        } catch (error) {
            const errorMsg = error.response?.data?.detail || 'Ошибка при синхронизации';
            showMessage(errorMsg, 'error');
        } finally {
            setLoading(false);
        }
    };

    if (!isAdmin) {
        return null;
    }

    return (
        <div className="admin-page">
            {/* Hero Section */}
            <div className="admin-hero">
                <Iridescence color={[0.5, 0.6, 0.8]} mouseReact={false} amplitude={0.1} speed={1} />
                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Панель<br />
                            управления
                        </h1>
                        <p className="hero-subtitle">
                            Администрирование библиотеки книг<br />
                            и управление контентом
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <FaShieldAlt className="main-icon" />
                        </div>
                    </div>
                </div>
            </div>

            {/* Admin Content Section */}
            <div className="admin-content-section">
                <div className="admin-container">
                    {/* Message */}
                    {message.text && (
                        <div className={`admin-message admin-message-${message.type}`}>
                            <span className="message-icon">{message.type === 'success' ? '✓' : '✕'}</span>
                            <span className="message-text">{message.text}</span>
                        </div>
                    )}

                    {/* Upload Card */}
                    <div ref={uploadCardRef} className="admin-card">
                        <div className="card-header">
                            <h2 className="card-title">Добавить книгу</h2>
                            <p className="card-description">Заполните все поля и загрузите PDF файл</p>
                        </div>

                        <form className="admin-form" onSubmit={handleSubmit}>
                            <div className="form-grid">
                                <div className="form-field">
                                    <label className="form-label" htmlFor="tag">
                                        Тег <span className="required">*</span>
                                    </label>
                                    <input
                                        type="text"
                                        id="tag"
                                        name="tag"
                                        className="form-input"
                                        value={formData.tag}
                                        onChange={handleInputChange}
                                        placeholder="Например: Методика"
                                    />
                                </div>

                                <div className="form-field">
                                    <label className="form-label" htmlFor="genre">
                                        Жанр <span className="required">*</span>
                                    </label>
                                    <input
                                        type="text"
                                        id="genre"
                                        name="genre"
                                        className="form-input"
                                        value={formData.genre}
                                        onChange={handleInputChange}
                                        placeholder="Например: Педагогика"
                                    />
                                </div>
                            </div>

                            <div className="form-field">
                                <label className="form-label" htmlFor="title">
                                    Название <span className="required">*</span>
                                </label>
                                <input
                                    type="text"
                                    id="title"
                                    name="title"
                                    className="form-input"
                                    value={formData.title}
                                    onChange={handleInputChange}
                                    placeholder="Полное название книги"
                                />
                            </div>

                            <div className="form-field">
                                <label className="form-label" htmlFor="author">
                                    Автор <span className="required">*</span>
                                </label>
                                <input
                                    type="text"
                                    id="author"
                                    name="author"
                                    className="form-input"
                                    value={formData.author}
                                    onChange={handleInputChange}
                                    placeholder="Имя автора"
                                />
                            </div>

                            <div className="form-field">
                                <label className="form-label" htmlFor="description">
                                    Описание <span className="required">*</span>
                                </label>
                                <textarea
                                    id="description"
                                    name="description"
                                    className="form-textarea"
                                    value={formData.description}
                                    onChange={handleInputChange}
                                    placeholder="Краткое описание книги"
                                />
                            </div>

                            <div className="form-field">
                                <label className="form-label" htmlFor="file">
                                    PDF файл <span className="required">*</span>
                                </label>
                                <div className="file-input-wrapper">
                                    <input
                                        type="file"
                                        id="file"
                                        className="file-input"
                                        accept=".pdf"
                                        onChange={handleFileChange}
                                    />
                                    <label htmlFor="file" className="file-input-label">
                                        <span className="file-input-icon">📁</span>
                                        <span className="file-input-text">
                                            {fileName || 'Выберите PDF файл'}
                                        </span>
                                        <span className="file-input-button">Обзор</span>
                                    </label>
                                </div>
                            </div>

                            <button type="submit" className="btn-primary" disabled={loading}>
                                {loading ? (
                                    <>
                                        <span className="btn-spinner"></span>
                                        <span>Загрузка...</span>
                                    </>
                                ) : (
                                    <>
                                        <span>Добавить книгу</span>
                                        <span className="btn-arrow">→</span>
                                    </>
                                )}
                            </button>
                        </form>
                    </div>

                    {/* Sync Card */}
                    <div ref={syncCardRef} className="admin-card">
                        <div className="card-header">
                            <h2 className="card-title">Синхронизация</h2>
                            <p className="card-description">Обновить данные из файловой системы</p>
                        </div>

                        <div className="sync-content">
                            <div className="sync-info">
                                <span className="sync-icon">ℹ️</span>
                                <p className="sync-text">
                                    Синхронизация проверит все файлы и обновит информацию в базе данных.
                                    Это может занять некоторое время.
                                </p>
                            </div>

                            <button
                                type="button"
                                className="btn-secondary"
                                onClick={handleSync}
                                disabled={loading}
                            >
                                {loading ? (
                                    <>
                                        <span className="btn-spinner"></span>
                                        <span>Синхронизация...</span>
                                    </>
                                ) : (
                                    <>
                                        <span>Запустить синхронизацию</span>
                                        <span className="btn-arrow">→</span>
                                    </>
                                )}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    );
};

export default AdminPage;



==== FILE: .\frontend\src\pages\AuthPage.js ====
﻿import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { useAuth } from '../contexts/AuthContext';
import '../styles/AuthPage.css';

const AuthPage = () => {
  const [isLogin, setIsLogin] = useState(true);
  const [formData, setFormData] = useState({
    email: '',
    password: '',
    full_name: ''
  });
  const [error, setError] = useState('');
  const [loading, setLoading] = useState(false);

  const { login, register } = useAuth();
  const navigate = useNavigate();

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value
    });
    setError('');
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError('');
    setLoading(true);

    try {
      if (isLogin) {
        await login(formData.email, formData.password);
        navigate('/books');
      } else {
        await register(formData);
        setIsLogin(true);
        setFormData({ email: '', password: '', full_name: '' });  // Исправлено!
        setError('Регистрация успешна! Теперь войдите в систему');
      }

    } catch (err) {
      console.error('Auth error:', err);
      let errorMessage = 'Произошла ошибка. Попробуйте снова.';

      if (err.response) {
        const { status } = err.response;
        const detail = err.response.data?.detail;

        if (status === 422) {
          if (typeof detail === 'string') {
            errorMessage = detail;
          } else if (Array.isArray(detail)) {
            const messages = detail.map(error => {
              const msg = error.msg;
              if (msg.includes("value is not a valid email")) {
                return "Неверный формат email";
              } else if (msg.includes("field required")) {
                return "Поле обязательно для заполнения";
              } else if (msg.includes("Value error")) {
                return msg.replace("Value error, ", "");
              }
              return msg;
            });
            errorMessage = messages.join("\n");
          } else {
            errorMessage = "Ошибка валидации данных";
          }
        } else if (status === 429) {
          errorMessage = detail || "Слишком много попыток. Попробуйте через минуту";
        } else if (status === 400) {
          errorMessage = detail || "Пользователь с таким email уже существует";
        } else if (status === 401) {
          errorMessage = detail || "Неверный email или пароль";
        } else if (status === 403) {
          errorMessage = "Доступ запрещен";
        } else if (status === 500) {
          errorMessage = "Ошибка сервера. Попробуйте позже.";
        } else if (detail) {
          errorMessage = detail;
        }
      } else if (err.message) {
        if (err.message.includes('Network Error')) {
          errorMessage = 'Ошибка сети. Проверьте подключение.';
        } else {
          errorMessage = err.message;
        }
      }

      setError(errorMessage);
    } finally {
      setLoading(false);
    }
  };


  return (
    <div className="auth-page">
      <div className="auth-container">
        <div className="auth-header">
          <h1>{isLogin ? 'Вход' : 'Регистрация'}</h1>
        </div>

        <form className="auth-form" onSubmit={handleSubmit}>
          {!isLogin && (
            <div className="form-group">
              <label htmlFor="full_name">ФИО</label>
              <input
                type="text"
                id="full_name"
                name="full_name"
                value={formData.full_name}
                onChange={handleChange}
                required={!isLogin}
                placeholder="Иванов Иван Иванович"
              />
              <small className="form-hint">
                Введите минимум Фамилию и Имя (например: Иванов Иван)
              </small>
            </div>
          )}

          <div className="form-group">
            <label htmlFor="email">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              value={formData.email}
              onChange={handleChange}
              required
              placeholder="example@mail.com"
            />
          </div>

          <div className="form-group">
            <label htmlFor="password">Пароль</label>
            <input
              type="password"
              id="password"
              name="password"
              value={formData.password}
              onChange={handleChange}
              required
              placeholder={isLogin ? "Введите пароль" : "8-20 символов"}
            />
            {!isLogin && (
              <small className="form-hint">
                8-20 символов. Обязательно: заглавная (A-Z), строчная (a-z), цифра, спецсимвол
              </small>
            )}
          </div>

          {error && (
            <div className="error-message" style={{ whiteSpace: 'pre-line' }}>
              {error}
            </div>
          )}

          <button
            type="submit"
            className="btn-submit"
            disabled={loading}
          >
            {loading ? 'Загрузка...' : (isLogin ? 'Войти' : 'Зарегистрироваться')}
          </button>
        </form>

        <div className="auth-switch">
          <button
            className="btn-link"
            onClick={() => {
              setIsLogin(!isLogin);
              setError('');
              setFormData({ email: '', password: '', full_name: '' });
            }}
          >
            {isLogin ? 'Нет аккаунта? Зарегистрируйтесь!' : 'Уже есть аккаунт? Войдите!'}
          </button>
        </div>
      </div>
    </div>
  );
};

export default AuthPage;



==== FILE: .\frontend\src\pages\BookDetailPage.js ====
import React, { useState, useEffect } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { useAuth } from '../contexts/AuthContext';
import { booksAPI, reviewsAPI, ratingsAPI, favoritesAPI, readStatusAPI } from '../services/api';
import '../styles/BookDetailPage.css';


const BookDetailPage = () => {
    const { id } = useParams();
    const navigate = useNavigate();
    const { isAuthenticated } = useAuth();

    const [book, setBook] = useState(null);
    const [reviews, setReviews] = useState([]);
    const [reviewText, setReviewText] = useState('');
    const [userRating, setUserRating] = useState(0);
    const [loading, setLoading] = useState(true);
    const [showPDF, setShowPDF] = useState(false);
    const [error, setError] = useState(''); // Добавлено для отображения ошибок

    useEffect(() => {
        loadBookData();
    }, [id]);

    const loadBookData = async () => {
        try {
            const [bookRes, reviewsRes] = await Promise.all([
                booksAPI.getById(id),
                reviewsAPI.getByBook(id)
            ]);
            setBook(bookRes.data);
            setReviews(reviewsRes.data);
            setUserRating(bookRes.data.user_rating || 0);
        } catch (error) {
            console.error('Error loading book:', error);
        } finally {
            setLoading(false);
        }
    };

    const showError = (message) => {
        setError(message);
        setTimeout(() => setError(''), 5000); // Скрыть через 5 секунд
    };

    const handleDownload = async () => {
        try {
            const response = await booksAPI.download(id);
            const url = window.URL.createObjectURL(new Blob([response.data]));
            const link = document.createElement('a');
            link.href = url;
            link.setAttribute('download', book.filename);
            document.body.appendChild(link);
            link.click();
            link.remove();
        } catch (error) {
            console.error('Error downloading book:', error);
            if (error.response?.status === 429) {
                showError(error.response.data?.detail || 'Вы можете скачивать файлы не чаще 1 раза в 30 секунд. Подождите.');
            } else if (error.response?.status === 401) {
                showError('Необходимо войти в систему для скачивания');
                navigate('/auth');
            } else {
                showError('Ошибка при скачивании книги');
            }
        }
    };

    const handleRating = async (value) => {
        if (!isAuthenticated) {
            navigate('/auth');
            return;
        }

        try {
            await ratingsAPI.create({ book_id: parseInt(id), value });
            setUserRating(value);
            loadBookData();
        } catch (error) {
            console.error('Error rating book:', error);
            if (error.response?.status === 429) {
                showError(error.response.data?.detail || 'Вы можете ставить оценки не чаще 1 раза в минуту. Подождите.');
            } else {
                showError('Ошибка при выставлении оценки');
            }
        }
    };

    const handleReviewSubmit = async (e) => {
        e.preventDefault();
        if (!isAuthenticated) {
            navigate('/auth');
            return;
        }

        try {
            await reviewsAPI.create({ book_id: parseInt(id), text: reviewText });
            setReviewText('');
            loadBookData();
            showError('Отзыв успешно добавлен!'); // Используем для успеха тоже
        } catch (error) {
            console.error('Error submitting review:', error);
            if (error.response?.status === 429) {
                showError(error.response.data?.detail || 'Вы можете оставлять не более 1 отзыва в минуту. Подождите.');
            } else {
                showError('Ошибка при отправке отзыва');
            }
        }
    };

    const handleToggleFavorite = async () => {
        if (!isAuthenticated) {
            navigate('/auth');
            return;
        }

        try {
            if (book.is_favorite) {
                await favoritesAPI.remove(id);
            } else {
                await favoritesAPI.add(id);
            }
            loadBookData();
        } catch (error) {
            console.error('Error toggling favorite:', error);
            if (error.response?.status === 429) {
                showError(error.response.data?.detail || 'Слишком частые действия. Подождите.');
            } else {
                showError('Ошибка при обновлении избранного');
            }
        }
    };

    const handleToggleRead = async () => {
        if (!isAuthenticated) {
            navigate('/auth');
            return;
        }

        try {
            if (book.is_read) {
                await readStatusAPI.markAsUnread(id);
            } else {
                await readStatusAPI.markAsRead(id);
            }
            loadBookData();
        } catch (error) {
            console.error('Error toggling read:', error);
            if (error.response?.status === 429) {
                showError(error.response.data?.detail || 'Слишком частые действия. Подождите.');
            } else {
                showError('Ошибка при обновлении статуса прочтения');
            }
        }
    };

    const handleViewPDF = async () => {
        if (!isAuthenticated) {
            navigate('/auth');
            return;
        }

        try {
            setShowPDF(!showPDF);
        } catch (error) {
            console.error('Error viewing PDF:', error);
            if (error.response?.status === 429) {
                showError(error.response.data?.detail || 'Вы можете открывать книги не чаще 1 раза в 30 секунд. Подождите.');
            } else {
                showError('Ошибка при открытии книги');
            }
        }
    };

    if (loading) return <div className="loading">Загрузка...</div>;
    if (!book) return <div className="error">Книга не найдена</div>;

    return (
        <div className="book-detail-page">
            <div className="book-detail-container">
                {/* Уведомление об ошибках */}
                {error && (
                    <div className="notification-message">
                        {error}
                    </div>
                )}

                <div className="book-main-info">
                    <h1 className="book-detail-title">{book.title}</h1>
                    <p className="book-detail-author">Автор: {book.author}</p>

                    <div className="book-detail-tags">
                        <span className="detail-tag tag-genre">{book.genre}</span>
                        <span className="detail-tag tag-category">{book.tag}</span>
                    </div>

                    {book.description && (
                        <div className="book-description">
                            <h3>Описание</h3>
                            <p>{book.description}</p>
                        </div>
                    )}

                    <div className="book-rating-section">
                        <div className="average-rating">
                            <span className="rating-label">Средний рейтинг:</span>
                            <span className="rating-value">
                                {book.average_rating ? `★ ${book.average_rating.toFixed(1)}` : 'Нет оценок'}
                            </span>
                        </div>

                        {isAuthenticated && (
                            <div className="user-rating">
                                <span className="rating-label">Ваша оценка:</span>
                                <div className="stars">
                                    {[1, 2, 3, 4, 5].map(star => (
                                        <button
                                            key={star}
                                            className={`star ${userRating >= star ? 'active' : ''}`}
                                            onClick={() => handleRating(star)}
                                        >
                                            ★
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>

                    <div className="book-actions">
                        <button className="btn-action btn-read" onClick={handleViewPDF}>
                            {showPDF ? 'Скрыть книгу' : 'Читать онлайн'}
                        </button>
                        <button className="btn-action btn-download" onClick={handleDownload}>
                            Скачать
                        </button>
                        {isAuthenticated && (
                            <>
                                <button
                                    className={`btn-action ${book.is_favorite ? 'active' : ''}`}
                                    onClick={handleToggleFavorite}
                                >
                                    {book.is_favorite ? 'В избранном' : 'Добавить в избранное'}
                                </button>
                                <button
                                    className={`btn-action ${book.is_read ? 'active' : ''}`}
                                    onClick={handleToggleRead}
                                >
                                    {book.is_read ? 'Прочитано' : 'Отметить как прочитанное'}
                                </button>
                            </>
                        )}
                    </div>
                </div>

                {showPDF && (
                    <div className="pdf-viewer">
                        <iframe
                            src={booksAPI.view(id)}
                            title={book.title}
                            width="100%"
                            height="800px"
                        />
                    </div>
                )}

                <div className="reviews-section">
                    <h2>Отзывы</h2>

                    {isAuthenticated && (
                        <form className="review-form" onSubmit={handleReviewSubmit}>
                            <textarea
                                className="review-textarea"
                                placeholder="Напишите ваш отзыв..."
                                value={reviewText}
                                onChange={(e) => setReviewText(e.target.value)}
                                required
                            />
                            <button type="submit" className="btn-submit">
                                Отправить отзыв
                            </button>
                        </form>
                    )}

                    <div className="reviews-list">
                        {reviews.length === 0 ? (
                            <p className="no-reviews">Пока нет отзывов</p>
                        ) : (
                            reviews.map(review => (
                                <div key={review.id} className="review-item">
                                    <div className="review-header">
                                        <span className="review-author">{review.user_name}</span>
                                        <span className="review-date">
                                            {new Date(review.created_at).toLocaleDateString('ru-RU')}
                                        </span>
                                    </div>

                                    <p className="review-text">{review.text}</p>
                                </div>
                            ))
                        )}
                    </div>
                </div>
            </div>
        </div>
    );
};

export default BookDetailPage;



==== FILE: .\frontend\src\pages\BooksPage.js ====
import React, { useState, useEffect, useRef } from 'react';
import Iridescence from '../components/Iridescence';
import BookCard from '../components/BookCard';
import SearchFilters from '../components/SearchFilters';
import { booksAPI } from '../services/api';
import { HiBookOpen } from 'react-icons/hi';
import '../styles/BooksPage.css';

const BooksPage = () => {
    const [books, setBooks] = useState([]);
    const [loading, setLoading] = useState(true);
    const [filters, setFilters] = useState({});
    const bookCardsRef = useRef([]);

    useEffect(() => {
        loadBooks();
    }, [filters]);

    useEffect(() => {
        if (books.length === 0) return;

        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observerCallback = (entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate');
                    observer.unobserve(entry.target);
                }
            });
        };

        const observer = new IntersectionObserver(observerCallback, observerOptions);

        bookCardsRef.current.forEach(card => {
            if (card) observer.observe(card);
        });

        return () => observer.disconnect();
    }, [books]);

    const loadBooks = async () => {
        setLoading(true);
        try {
            const response = await booksAPI.getAll(filters);
            setBooks(response.data);
        } catch (error) {
            console.error('Error loading books:', error);
        } finally {
            setLoading(false);
        }
    };

    return (
        <div className="books-page">
            {/* Hero Section */}
            <div className="books-hero">
                <Iridescence color={[0.5, 0.6, 0.8]} mouseReact={false} amplitude={0.1} speed={1} />
                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Библиотека<br />
                            Пионеров
                        </h1>
                        <p className="hero-subtitle">
                            Более 1000 книг для вожатых, педагогов<br />
                            и активистов детского движения
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration-books">
                            <div className="book-icon-wrapper">
                                <HiBookOpen className="main-book-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Books Content Section */}
            <div className="books-content-section">
                <div className="books-controls">
                    <SearchFilters onFilterChange={setFilters} />
                </div>

                {loading ? (
                    <div className="books-loading">
                        <div className="loading-spinner"></div>
                        <p className="loading-text">Загружаем книги...</p>
                    </div>
                ) : books.length > 0 ? (
                    <div className="books-grid">
                        {books.map((book, index) => (
                            <div
                                key={book.id}
                                className="book-card-wrapper"
                                ref={el => bookCardsRef.current[index] = el}
                            >
                                <BookCard book={book} />
                            </div>
                        ))}
                    </div>
                ) : (
                    <div className="books-empty">
                        <div className="books-empty-icon">📚</div>
                        <h2 className="books-empty-title">Книги не найдены</h2>
                        <p className="books-empty-text">
                            Попробуйте изменить параметры поиска или очистить фильтры
                        </p>
                    </div>
                )}
            </div>
        </div>
    );
};

export default BooksPage;



==== FILE: .\frontend\src\pages\FavoritesPage.js ====
import React, { useState, useEffect } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import { useAuth } from '../contexts/AuthContext';
import Iridescence from '../components/Iridescence';
import BookCard from '../components/BookCard';
import { favoritesAPI } from '../services/api';
import { FaHeart, FaHeartBroken } from 'react-icons/fa';
import '../styles/FavoritesPage.css';

const FavoritesPage = () => {
    const { isAuthenticated } = useAuth();
    const navigate = useNavigate();
    const [books, setBooks] = useState([]);
    const [loading, setLoading] = useState(true);

    useEffect(() => {
        if (!isAuthenticated) {
            navigate('/login');
            return;
        }
        loadFavorites();
    }, [isAuthenticated, navigate]);

    const loadFavorites = async () => {
        setLoading(true);
        try {
            const response = await favoritesAPI.getAll();
            setBooks(response.data);
        } catch (error) {
            console.error('Error loading favorites:', error);
        } finally {
            setLoading(false);
        }
    };

    if (!isAuthenticated) return null;

    return (
        <div className="favorites-page">
            {/* Hero Section */}
            <div className="favorites-hero">
                <Iridescence color={[0.5, 0.6, 0.8]} mouseReact={false} amplitude={0.1} speed={1} />
                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Избранные<br />
                            книги
                        </h1>
                        <p className="hero-subtitle">
                            Ваша личная коллекция избранных материалов<br />
                            для быстрого доступа
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="heart-icon-wrapper">
                                <FaHeart className="main-heart-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Favorites Content Section */}
            <div className="favorites-content-section">
                {loading ? (
                    <div className="favorites-loading">
                        <div className="loading-spinner"></div>
                        <p className="loading-text">Загружаем избранные книги...</p>
                    </div>
                ) : books.length > 0 ? (
                    <div className="favorites-grid">
                        {books.map(book => (
                            <BookCard key={book.id} book={book} />
                        ))}
                    </div>
                ) : (
                    <div className="favorites-empty">
                        <FaHeartBroken className="favorites-empty-icon" />
                        <h2 className="favorites-empty-title">Здесь пока пусто</h2>
                        <p className="favorites-empty-text">
                            Вы еще не добавили книги в избранное.<br />
                            Начните с изучения каталога!
                        </p>
                        <Link to="/books" className="favorites-empty-button">
                            Перейти к книгам
                        </Link>
                    </div>
                )}
            </div>
        </div>
    );
};

export default FavoritesPage;



==== FILE: .\frontend\src\pages\LandingPage.js ====
import React, { useState, useEffect, useRef } from 'react';
import { Link } from 'react-router-dom';
import Ballpit from '../components/Ballpit';
import '../styles/LandingPage.css';

const LandingPage = () => {
    const [activeAccordion, setActiveAccordion] = useState(null);

    const sectionTitleRef = useRef(null);
    const sectionSubtitleRef = useRef(null);
    const featureCardsRef = useRef([]);

    const toggleAccordion = (index) => {
        setActiveAccordion(activeAccordion === index ? null : index);
    };

    useEffect(() => {
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observerCallback = (entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate');
                }
            });
        };

        const observer = new IntersectionObserver(observerCallback, observerOptions);

        if (sectionTitleRef.current) observer.observe(sectionTitleRef.current);
        if (sectionSubtitleRef.current) observer.observe(sectionSubtitleRef.current);

        featureCardsRef.current.forEach(card => {
            if (card) observer.observe(card);
        });

        return () => observer.disconnect();
    }, []);

    const features = [
        {
            icon: '📚',
            title: 'Огромная библиотека',
            description: 'Доступ к тысячам книг различных жанров — от классики до современной литературы.',
            link: '/books'
        },
        {
            icon: '🔍',
            title: 'Умный поиск',
            description: 'Мгновенный поиск по названию, автору, жанру и тегам с интеллектуальными подсказками.',
            link: '/books'
        },
        {
            icon: '💾',
            title: 'Личная коллекция',
            description: 'Сохраняйте любимые книги и создавайте собственную цифровую библиотеку.',
            link: '/books'
        },
        {
            icon: '⭐',
            title: 'Оценки и отзывы',
            description: 'Делитесь впечатлениями и находите новые книги по рекомендациям сообщества.',
            link: '/books'
        },
        {
            icon: '📖',
            title: 'Онлайн-чтение',
            description: 'Читайте прямо в браузере с комфортным интерфейсом и настройками отображения.',
            link: '/books'
        },
        {
            icon: '📥',
            title: 'Оффлайн-доступ',
            description: 'Скачивайте книги для чтения без подключения к интернету в любое время.',
            link: '/books'
        }
    ];

    const faqs = [
        {
            question: 'Нужна ли регистрация для использования библиотеки?',
            answer: 'Регистрация не обязательна для просмотра и скачивания книг. Она требуется только для добавления в избранное, оценок и написания отзывов.'
        },
        {
            question: 'Как найти нужную книгу?',
            answer: 'Используйте поиск по названию, автору или описанию. Также доступны удобные фильтры по жанрам, тегам и авторам для точного результата.'
        },
        {
            question: 'Можно ли читать книги онлайн?',
            answer: 'Да, все книги можно читать прямо в браузере без необходимости скачивания. Просто откройте книгу и начните чтение с любого устройства.'
        }
    ];

    return (
        <div className="landing-page">
            <section className="hero-section">
                {/* Ballpit фон */}
                <div className="hero-ballpit-container">
                    <Ballpit
                        count={200}
                        colors={[0x00e965, 0x667eea, 0x764ba2]}
                        gravity={0.01}
                        friction={0.9975}
                        wallBounce={0.95}
                        followCursor={false}
                        minSize={0.4}
                        maxSize={1.0}
                        materialParams={{
                            metalness: 0.5,
                            roughness: 0.5,
                            clearcoat: 1,
                            clearcoatRoughness: 0.15
                        }}
                    />
                </div>

                {/* Контент поверх Ballpit */}
                <div className="hero-content">
                    <h1 className="hero-title">Методическая библиотека Пионеров Башкортостана</h1>
                    <p className="hero-description">
                        Читайте, обучайтесь, сохраняйте материалы и делитесь впечатлениями о любимых произведениях
                    </p>
                    <div className="hero-actions">
                        <Link to="/books" className="btn-primary">
                            <span>Перейти к книгам</span>
                            <span>→</span>
                        </Link>
                        <a href="#features" className="btn-secondary">
                            <span>Узнать больше</span>
                        </a>
                    </div>
                </div>
            </section>

            <section id="features" className="features-section">
                <h2 className="section-title" ref={sectionTitleRef}>Возможности</h2>
                <p className="section-subtitle" ref={sectionSubtitleRef}>
                    Всё необходимое для комфортного чтения и управления вашей библиотекой
                </p>
                <div className="features-grid">
                    {features.map((feature, index) => (
                        <div
                            className="feature-card"
                            key={index}
                            ref={el => featureCardsRef.current[index] = el}
                        >
                            <div className="feature-icon">{feature.icon}</div>
                            <h3>{feature.title}</h3>
                            <p>{feature.description}</p>
                            <Link to={feature.link} className="feature-link">
                                <span>Подробнее</span>
                                <span>→</span>
                            </Link>
                        </div>
                    ))}
                </div>
            </section>

            <section className="faq-section">
                <h2 className="section-title" style={{ opacity: 1, transform: 'none' }}>Частые вопросы</h2>
                <p className="section-subtitle" style={{ opacity: 1, transform: 'none' }}>
                    Ответы на самые популярные вопросы о нашей библиотеке
                </p>
                <div className="faq-list">
                    {faqs.map((faq, index) => (
                        <div
                            className={`faq-accordion ${activeAccordion === index ? 'active' : ''}`}
                            key={index}
                        >
                            <div
                                className="faq-accordion-header"
                                onClick={() => toggleAccordion(index)}
                            >
                                <h3>{faq.question}</h3>
                                <div className="faq-accordion-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                        <path d="M6 9l6 6 6-6" />
                                    </svg>
                                </div>
                            </div>
                            <div className="faq-accordion-body">
                                <p>{faq.answer}</p>
                            </div>
                        </div>
                    ))}
                </div>
            </section>
        </div>
    );
};

export default LandingPage;



==== FILE: .\frontend\src\pages\PrivacyPage.js ====
import React from 'react';
import '../styles/PrivacyPage.css';

const PrivacyPage = () => {
    return (
        <div className="privacy-page">
            <div className="privacy-container">
                <h1 className="privacy-title">
                    Политика в отношении обработки персональных данных
                </h1>

                <section className="privacy-section">
                    <h2>1. Общие положения</h2>
                    <p>
                        Настоящая политика обработки персональных данных составлена в соответствии с требованиями
                        Федерального закона от 27.07.2006. № 152-ФЗ «О персональных данных» (далее — Закон о
                        персональных данных) и определяет порядок обработки персональных данных и меры по обеспечению
                        безопасности персональных данных, предпринимаемые Региональной детской общественной организацией
                        "Пионеры Башкортостана" (далее — Оператор).
                    </p>
                    <p>
                        <strong>1.1.</strong> Оператор ставит своей важнейшей целью и условием осуществления своей
                        деятельности соблюдение прав и свобод человека и гражданина при обработке его персональных
                        данных, в том числе защиты прав на неприкосновенность частной жизни, личную и семейную тайну.
                    </p>
                    <p>
                        <strong>1.2.</strong> Настоящая политика Оператора в отношении обработки персональных данных
                        (далее — Политика) применяется ко всей информации, которую Оператор может получить о
                        посетителях веб-сайта.
                    </p>
                </section>

                <section className="privacy-section">
                    <h2>2. Основные понятия, используемые в Политике</h2>
                    <p><strong>2.1.</strong> Автоматизированная обработка персональных данных — обработка персональных данных с помощью средств вычислительной техники.</p>
                    <p><strong>2.2.</strong> Блокирование персональных данных — временное прекращение обработки персональных данных (за исключением случаев, если обработка необходима для уточнения персональных данных).</p>
                    <p><strong>2.3.</strong> Веб-сайт — совокупность графических и информационных материалов, а также программ для ЭВМ и баз данных, обеспечивающих их доступность в сети интернет.</p>
                    <p><strong>2.4.</strong> Информационная система персональных данных — совокупность содержащихся в базах данных персональных данных и обеспечивающих их обработку информационных технологий и технических средств.</p>
                    <p><strong>2.5.</strong> Обезличивание персональных данных — действия, в результате которых невозможно определить без использования дополнительной информации принадлежность персональных данных конкретному Пользователю или иному субъекту персональных данных.</p>
                    <p><strong>2.6.</strong> Обработка персональных данных — любое действие (операция) или совокупность действий (операций), совершаемых с использованием средств автоматизации или без использования таких средств с персональными данными, включая сбор, запись, систематизацию, накопление, хранение, уточнение (обновление, изменение), извлечение, использование, передачу (распространение, предоставление, доступ), обезличивание, блокирование, удаление, уничтожение персональных данных.</p>
                    <p><strong>2.7.</strong> Оператор — государственный орган, муниципальный орган, юридическое или физическое лицо, самостоятельно или совместно с другими лицами организующие и/или осуществляющие обработку персональных данных, а также определяющие цели обработки персональных данных, состав персональных данных, подлежащих обработке, действия (операции), совершаемые с персональными данными.</p>
                    <p><strong>2.8.</strong> Персональные данные — любая информация, относящаяся прямо или косвенно к определенному или определяемому Пользователю веб-сайта.</p>
                    <p><strong>2.9.</strong> Персональные данные, разрешенные субъектом персональных данных для распространения — персональные данные, доступ неограниченного круга лиц к которым предоставлен субъектом персональных данных путем дачи согласия на обработку персональных данных, разрешенных субъектом персональных данных для распространения в порядке, предусмотренном Законом о персональных данных (далее — персональные данные, разрешенные для распространения).</p>
                    <p><strong>2.10.</strong> Пользователь — любой посетитель веб-сайта.</p>
                    <p><strong>2.11.</strong> Предоставление персональных данных — действия, направленные на раскрытие персональных данных определенному лицу или определенному кругу лиц.</p>
                    <p><strong>2.12.</strong> Распространение персональных данных — любые действия, направленные на раскрытие персональных данных неопределенному кругу лиц (передача персональных данных) или на ознакомление с персональными данными неограниченного круга лиц, в том числе обнародование персональных данных в средствах массовой информации, размещение в информационно-телекоммуникационных сетях или предоставление доступа к персональным данным каким-либо иным способом.</p>
                    <p><strong>2.13.</strong> Трансграничная передача персональных данных — передача персональных данных на территорию иностранного государства органу власти иностранного государства, иностранному физическому или иностранному юридическому лицу.</p>
                    <p><strong>2.14.</strong> Уничтожение персональных данных — любые действия, в результате которых персональные данные уничтожаются безвозвратно с невозможностью дальнейшего восстановления содержания персональных данных в информационной системе персональных данных и/или уничтожаются материальные носители персональных данных.</p>
                </section>

                <section className="privacy-section">
                    <h2>3. Основные права и обязанности Оператора</h2>
                    <p><strong>3.1. Оператор имеет право:</strong></p>
                    <ul>
                        <li>получать от субъекта персональных данных достоверные информацию и/или документы, содержащие персональные данные;</li>
                        <li>в случае отзыва субъектом персональных данных согласия на обработку персональных данных, а также направления обращения с требованием о прекращении обработки персональных данных, Оператор вправе продолжить обработку персональных данных без согласия субъекта персональных данных при наличии оснований, указанных в Законе о персональных данных;</li>
                        <li>самостоятельно определять состав и перечень мер, необходимых и достаточных для обеспечения выполнения обязанностей, предусмотренных Законом о персональных данных и принятыми в соответствии с ним нормативными правовыми актами, если иное не предусмотрено Законом о персональных данных или другими федеральными законами.</li>
                    </ul>

                    <p><strong>3.2. Оператор обязан:</strong></p>
                    <ul>
                        <li>предоставлять субъекту персональных данных по его просьбе информацию, касающуюся обработки его персональных данных;</li>
                        <li>организовывать обработку персональных данных в порядке, установленном действующим законодательством РФ;</li>
                        <li>отвечать на обращения и запросы субъектов персональных данных и их законных представителей в соответствии с требованиями Закона о персональных данных;</li>
                        <li>сообщать в уполномоченный орган по защите прав субъектов персональных данных по запросу этого органа необходимую информацию в течение 10 дней с даты получения такого запроса;</li>
                        <li>публиковать или иным образом обеспечивать неограниченный доступ к настоящей Политике в отношении обработки персональных данных;</li>
                        <li>принимать правовые, организационные и технические меры для защиты персональных данных от неправомерного или случайного доступа к ним, уничтожения, изменения, блокирования, копирования, предоставления, распространения персональных данных, а также от иных неправомерных действий в отношении персональных данных;</li>
                        <li>прекратить передачу (распространение, предоставление, доступ) персональных данных, прекратить обработку и уничтожить персональные данные в порядке и случаях, предусмотренных Законом о персональных данных;</li>
                        <li>исполнять иные обязанности, предусмотренные Законом о персональных данных.</li>
                    </ul>
                </section>

                <section className="privacy-section">
                    <h2>4. Основные права и обязанности субъектов персональных данных</h2>
                    <p><strong>4.1. Субъекты персональных данных имеют право:</strong></p>
                    <ul>
                        <li>получать информацию, касающуюся обработки его персональных данных, за исключением случаев, предусмотренных федеральными законами;</li>
                        <li>требовать от оператора уточнения его персональных данных, их блокирования или уничтожения в случае, если персональные данные являются неполными, устаревшими, неточными, незаконно полученными или не являются необходимыми для заявленной цели обработки;</li>
                        <li>выдвигать условие предварительного согласия при обработке персональных данных в целях продвижения на рынке товаров, работ и услуг;</li>
                        <li>на отзыв согласия на обработку персональных данных, а также на направление требования о прекращении обработки персональных данных;</li>
                        <li>обжаловать в уполномоченный орган по защите прав субъектов персональных данных или в судебном порядке неправомерные действия или бездействие Оператора при обработке его персональных данных;</li>
                        <li>на осуществление иных прав, предусмотренных законодательством РФ.</li>
                    </ul>

                    <p><strong>4.2. Субъекты персональных данных обязаны:</strong></p>
                    <ul>
                        <li>предоставлять Оператору достоверные данные о себе;</li>
                        <li>сообщать Оператору об уточнении (обновлении, изменении) своих персональных данных.</li>
                    </ul>

                    <p><strong>4.3.</strong> Лица, передавшие Оператору недостоверные сведения о себе, либо сведения о другом субъекте персональных данных без согласия последнего, несут ответственность в соответствии с законодательством РФ.</p>
                </section>

                <section className="privacy-section">
                    <h2>5. Принципы обработки персональных данных</h2>
                    <p><strong>5.1.</strong> Обработка персональных данных осуществляется на законной и справедливой основе.</p>
                    <p><strong>5.2.</strong> Обработка персональных данных ограничивается достижением конкретных, заранее определенных и законных целей. Не допускается обработка персональных данных, несовместимая с целями сбора персональных данных.</p>
                    <p><strong>5.3.</strong> Не допускается объединение баз данных, содержащих персональные данные, обработка которых осуществляется в целях, несовместимых между собой.</p>
                    <p><strong>5.4.</strong> Обработке подлежат только персональные данные, которые отвечают целям их обработки.</p>
                    <p><strong>5.5.</strong> Содержание и объем обрабатываемых персональных данных соответствуют заявленным целям обработки. Не допускается избыточность обрабатываемых персональных данных по отношению к заявленным целям их обработки.</p>
                    <p><strong>5.6.</strong> При обработке персональных данных обеспечивается точность персональных данных, их достаточность, а в необходимых случаях и актуальность по отношению к целям обработки персональных данных.</p>
                    <p><strong>5.7.</strong> Хранение персональных данных осуществляется в форме, позволяющей определить субъекта персональных данных, не дольше, чем этого требуют цели обработки персональных данных.</p>
                </section>

                <section className="privacy-section">
                    <h2>6. Цели обработки персональных данных</h2>
                    <p><strong>Цель обработки:</strong> предоставление доступа Пользователю к сервисам, информации и/или материалам, содержащимся на веб-сайте.</p>

                    <p><strong>Персональные данные:</strong></p>
                    <ul>
                        <li>фамилия, имя, отчество</li>
                        <li>электронный адрес</li>
                        <li>номера телефонов</li>
                        <li>год, месяц, дата и место рождения</li>
                        <li>место работы, должность, ссылка на профиль во Вконтакте</li>
                    </ul>

                    <p><strong>Правовые основания:</strong> уставные (учредительные) документы Оператора</p>

                    <p><strong>Виды обработки персональных данных:</strong></p>
                    <ul>
                        <li>Сбор, запись, систематизация, накопление, хранение, уничтожение и обезличивание персональных данных</li>
                        <li>Отправка информационных писем на адрес электронной почты</li>
                    </ul>
                </section>

                <section className="privacy-section">
                    <h2>7. Условия обработки персональных данных</h2>
                    <p><strong>7.1.</strong> Обработка персональных данных осуществляется с согласия субъекта персональных данных на обработку его персональных данных.</p>
                    <p><strong>7.2.</strong> Обработка персональных данных необходима для достижения целей, предусмотренных международным договором Российской Федерации или законом.</p>
                    <p><strong>7.3.</strong> Обработка персональных данных необходима для осуществления правосудия, исполнения судебного акта.</p>
                    <p><strong>7.4.</strong> Обработка персональных данных необходима для исполнения договора, стороной которого либо выгодоприобретателем или поручителем по которому является субъект персональных данных.</p>
                    <p><strong>7.5.</strong> Обработка персональных данных необходима для осуществления прав и законных интересов оператора или третьих лиц.</p>
                    <p><strong>7.6.</strong> Осуществляется обработка персональных данных, доступ неограниченного круга лиц к которым предоставлен субъектом персональных данных (общедоступные персональные данные).</p>
                    <p><strong>7.7.</strong> Осуществляется обработка персональных данных, подлежащих опубликованию или обязательному раскрытию в соответствии с федеральным законом.</p>
                </section>

                <section className="privacy-section">
                    <h2>8. Порядок сбора, хранения, передачи и других видов обработки персональных данных</h2>
                    <p>
                        Безопасность персональных данных, которые обрабатываются Оператором, обеспечивается путем
                        реализации правовых, организационных и технических мер, необходимых для выполнения в полном
                        объеме требований действующего законодательства в области защиты персональных данных.
                    </p>
                    <p><strong>8.1.</strong> Оператор обеспечивает сохранность персональных данных и принимает все возможные меры, исключающие доступ к персональным данным неуполномоченных лиц.</p>
                    <p><strong>8.2.</strong> Персональные данные Пользователя никогда, ни при каких условиях не будут переданы третьим лицам, за исключением случаев, связанных с исполнением действующего законодательства.</p>
                    <p><strong>8.3.</strong> В случае выявления неточностей в персональных данных, Пользователь может актуализировать их самостоятельно, путем направления Оператору уведомление на адрес электронной почты <a href="mailto:pioneer@ddbash.ru">pioneer@ddbash.ru</a> с пометкой «Актуализация персональных данных».</p>
                    <p><strong>8.4.</strong> Срок обработки персональных данных определяется достижением целей, для которых были собраны персональные данные. Пользователь может в любой момент отозвать свое согласие на обработку персональных данных, направив Оператору уведомление на адрес <a href="mailto:pioneer@ddbash.ru">pioneer@ddbash.ru</a> с пометкой «Отзыв согласия на обработку персональных данных».</p>
                    <p><strong>8.5.</strong> Вся информация, которая собирается сторонними сервисами, хранится и обрабатывается указанными лицами в соответствии с их Пользовательским соглашением и Политикой конфиденциальности.</p>
                    <p><strong>8.6.</strong> Оператор при обработке персональных данных обеспечивает конфиденциальность персональных данных.</p>
                    <p><strong>8.7.</strong> Оператор осуществляет хранение персональных данных в форме, позволяющей определить субъекта персональных данных, не дольше, чем этого требуют цели обработки.</p>
                    <p><strong>8.8.</strong> Условием прекращения обработки персональных данных может являться достижение целей обработки, истечение срока действия согласия или отзыв согласия субъектом персональных данных.</p>
                </section>

                <section className="privacy-section">
                    <h2>9. Перечень действий, производимых Оператором с полученными персональными данными</h2>
                    <p><strong>9.1.</strong> Оператор осуществляет сбор, запись, систематизацию, накопление, хранение, уточнение (обновление, изменение), извлечение, использование, передачу (распространение, предоставление, доступ), обезличивание, блокирование, удаление и уничтожение персональных данных.</p>
                    <p><strong>9.2.</strong> Оператор осуществляет автоматизированную обработку персональных данных с получением и/или передачей полученной информации по информационно-телекоммуникационным сетям или без таковой.</p>
                </section>

                <section className="privacy-section">
                    <h2>10. Трансграничная передача персональных данных</h2>
                    <p><strong>10.1.</strong> Оператор до начала осуществления деятельности по трансграничной передаче персональных данных обязан уведомить уполномоченный орган по защите прав субъектов персональных данных о своем намерении осуществлять трансграничную передачу персональных данных.</p>
                    <p><strong>10.2.</strong> Оператор обязан получить от органов власти иностранного государства соответствующие сведения до подачи вышеуказанного уведомления.</p>
                </section>

                <section className="privacy-section">
                    <h2>11. Конфиденциальность персональных данных</h2>
                    <p>
                        Оператор и иные лица, получившие доступ к персональным данным, обязаны не раскрывать третьим
                        лицам и не распространять персональные данные без согласия субъекта персональных данных, если
                        иное не предусмотрено федеральным законом.
                    </p>
                </section>

                <section className="privacy-section">
                    <h2>12. Заключительные положения</h2>
                    <p><strong>12.1.</strong> Пользователь может получить любые разъяснения по интересующим вопросам, касающимся обработки его персональных данных, обратившись к Оператору с помощью электронной почты <a href="mailto:pioneer@ddbash.ru">pioneer@ddbash.ru</a>.</p>
                    <p><strong>12.2.</strong> В данном документе будут отражены любые изменения политики обработки персональных данных Оператором. Политика действует бессрочно до замены ее новой версией.</p>
                    <p><strong>12.3.</strong> Актуальная версия Политики в свободном доступе расположена в сети Интернет по адресу <a href="/privacy">/privacy</a>.</p>
                </section>
            </div>
        </div>
    );
};

export default PrivacyPage;



==== FILE: .\frontend\src\pages\sections\CalendarPage.js ====
import React from 'react';
import Iridescence from '../../components/Iridescence';
import { IoCalendar } from 'react-icons/io5';
import '../../styles/CalendarPage.css';

const CalendarPage = () => {
    return (
        <div className="calendar-page">
            <div className="calendar-hero">
                <Iridescence color={[0.5, 0.6, 0.8]} mouseReact={false} amplitude={0.1} speed={1} />
                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Календарь<br />
                            событий
                        </h1>
                        <p className="hero-subtitle">
                            Расписание мероприятий<br />
                            и важные даты
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="icon-wrapper">
                                <IoCalendar className="main-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div className="content-section">
                <div className="content-container">
                    <h2 className="section-title">Скоро здесь появится контент</h2>
                    <p className="section-description">
                        Мы работаем над наполнением этого раздела полезными материалами
                    </p>
                </div>
            </div>
        </div>
    );
};

export default CalendarPage;



==== FILE: .\frontend\src\pages\sections\ContactsPage.js ====
import React from 'react';
import Iridescence from '../../components/Iridescence';
import { IoMail } from 'react-icons/io5';
import '../../styles/ContactsPage.css';

const ContactsPage = () => {
    return (
        <div className="contacts-page">
            <div className="contacts-hero">
                <Iridescence color={[0.5, 0.6, 0.8]} mouseReact={false} amplitude={0.1} speed={1} />
                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Контакты<br />
                            и связь
                        </h1>
                        <p className="hero-subtitle">
                            Свяжитесь с нами<br />
                            по любым вопросам
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="icon-wrapper">
                                <IoMail className="main-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div className="content-section">
                <div className="content-container">
                    <h2 className="section-title">Скоро здесь появится контент</h2>
                    <p className="section-description">
                        Мы работаем над наполнением этого раздела полезными материалами
                    </p>
                </div>
            </div>
        </div>
    );
};

export default ContactsPage;



==== FILE: .\frontend\src\pages\sections\DocumentsPage.js ====
import React from 'react';
import Iridescence from '../../components/Iridescence';
import { IoDocuments } from 'react-icons/io5';
import '../../styles/DocumentsPage.css';

const DocumentsPage = () => {
    return (
        <div className="documents-page">
            <div className="documents-hero">
                <Iridescence color={[0.5, 0.6, 0.8]} mouseReact={false} amplitude={0.1} speed={1} />
                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Документы<br />
                            и формы
                        </h1>
                        <p className="hero-subtitle">
                            Официальные документы, бланки<br />
                            и нормативные акты
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="icon-wrapper">
                                <IoDocuments className="main-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div className="content-section">
                <div className="content-container">
                    <h2 className="section-title">Скоро здесь появится контент</h2>
                    <p className="section-description">
                        Мы работаем над наполнением этого раздела полезными материалами
                    </p>
                </div>
            </div>
        </div>
    );
};

export default DocumentsPage;



==== FILE: .\frontend\src\pages\sections\ExchangePage.js ====
import React from 'react';
import Iridescence from '../../components/Iridescence';
import { IoSwapHorizontal } from 'react-icons/io5';
import '../../styles/ExchangePage.css';

const ExchangePage = () => {
    const steps = [
        {
            number: '1',
            title: 'Заявите о себе',
            description: 'We are a leading firm in providing quality and value to our customers. Each member of our team has at least five years of legal experience. We love what we do.'
        },
        {
            number: '2',
            title: 'Пройдите модерацию',
            description: 'Our managers are always ready to answer your questions. You can call us during the weekends and at night. You can also visit our office for a personal consultation.'
        },
        {
            number: '3',
            title: 'Получите сертификат',
            description: 'Our company works according to the principle of individual approach to every client. This method allows us to achieve success in problems of all levels.'
        }
    ];

    return (
        <div className="exchange-page">
            {/* Hero Section */}
            <div className="exchange-hero">
                <Iridescence
                    color={[0.5, 0.6, 0.8]}
                    mouseReact={false}
                    amplitude={0.1}
                    speed={1}
                />

                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Делитесь<br />вашими<br />разработками
                        </h1>
                        <p className="hero-subtitle">
                            В этом разделе собраны материалы<br />
                            для педагогов и вожатых, включая статьи,<br />
                            рекомендации и лучшие практики работы с детьми.
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="icon-wrapper">
                                <IoSwapHorizontal className="main-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Steps Section */}
            <div className="steps-section">
                <h2 className="section-title">Этапы публикации ваших материалов</h2>

                <div className="steps-grid">
                    {steps.map((step, index) => (
                        <div key={index} className="step-card" style={{ '--step-index': index }}>
                            <div className="step-number">{step.number}</div>
                            <h3 className="step-title">{step.title}</h3>
                            <p className="step-description">{step.description}</p>
                        </div>
                    ))}
                </div>
            </div>
        </div>
    );
};

export default ExchangePage;



==== FILE: .\frontend\src\pages\sections\GamesPage.js ====
import React, { useState } from 'react';
import Iridescence from '../../components/Iridescence';
import { IoGameController } from 'react-icons/io5';
import '../../styles/GamesPage.css';

const GamesPage = () => {
    const [activeFilter, setActiveFilter] = useState('all');

    const filters = [
        { id: 'all', label: 'Все' },
        { id: 'business', label: 'Деловые игры' },
        { id: 'tech', label: 'Технологические игры' },
        { id: 'roleplay', label: 'Сюжетно-ролевые игры' },
        { id: 'team', label: 'Игра на командообразование' },
        { id: 'acquaintance', label: 'Игра на знакомства' },
        { id: 'collections', label: 'Сборники игр' },
    ];

    const games = [
        {
            id: 1,
            title: 'Сборник игр на знакомство №1',
            category: 'СБОРНИКИ ИГР',
            subcategory: 'ИГРА НА ЗНАКОМСТВА',
            color: 'blue',
            badge: '№1',
            filter: 'acquaintance'
        },
        {
            id: 2,
            title: 'Сборник игр на знакомство №2',
            category: 'СБОРНИКИ ИГР',
            subcategory: 'ИГРА НА ЗНАКОМСТВА',
            color: 'green',
            badge: '№2',
            filter: 'acquaintance'
        },
        {
            id: 3,
            title: 'Деловая игра "Переговоры"',
            category: 'ДЕЛОВЫЕ ИГРЫ',
            subcategory: 'ИГРА НА КОМАНДООБРАЗОВАНИЕ',
            color: 'yellow',
            badge: 'Переговоры',
            filter: 'business'
        },
    ];

    const filteredGames = activeFilter === 'all'
        ? games
        : games.filter(game => game.filter === activeFilter);

    return (
        <div className="games-page">
            {/* Hero Section */}
            <div className="games-hero">
                <Iridescence
                    color={[0.5, 0.6, 0.8]}
                    mouseReact={false}
                    amplitude={0.1}
                    speed={1}
                />

                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Игры и<br />упражнения
                        </h1>
                        <p className="hero-subtitle">
                            Раздел предлагает разнообразные игровые<br />
                            и тренировочные материалы, направленные<br />
                            на развитие командных и личных качеств пионеров.
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="icon-wrapper">
                                <IoGameController className="main-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Games Section */}
            <div className="games-content-section">
                {/* Filters */}
                <div className="filters-container">
                    {filters.map((filter) => (
                        <button
                            key={filter.id}
                            className={`filter-btn ${activeFilter === filter.id ? 'active' : ''}`}
                            onClick={() => setActiveFilter(filter.id)}
                        >
                            {filter.label}
                        </button>
                    ))}
                </div>

                {/* Games Grid */}
                <div className="games-grid">
                    {filteredGames.map((game, index) => (
                        <div
                            key={game.id}
                            className="game-card"
                            style={{ '--card-index': index }}
                        >
                            <div className={`game-card-image ${game.color}`}>
                                <div className="game-badge">{game.badge}</div>
                            </div>
                            <div className="game-card-body">
                                <h3 className="game-title">{game.title}</h3>
                                <div className="game-categories">
                                    <span className="game-category">{game.category}</span>
                                    <span className="game-subcategory">{game.subcategory}</span>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        </div>
    );
};

export default GamesPage;



==== FILE: .\frontend\src\pages\sections\MethodClubPage.js ====
import React from 'react';
import Iridescence from '../../components/Iridescence';
import { GiSoundWaves } from 'react-icons/gi';
import '../../styles/MethodClubPage.css';

const MethodClubPage = () => {
    return (
        <div className="method-club-page">
            {/* Hero Section */}
            <div className="method-club-hero">
                <Iridescence color={[0.5, 0.6, 0.8]} mouseReact={false} amplitude={0.1} speed={1} />
                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Методический<br />
                            клуб
                        </h1>
                        <p className="hero-subtitle">
                            Эфиры, подкасты, подборки советов и курсы<br />
                            от Научно-методического центра
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="soundwave-icon-wrapper">
                                <GiSoundWaves className="main-soundwave-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Method Club Content Section */}
            <div className="method-club-content-section">
                <div className="content-container">
                    <h2 className="section-title">Скоро здесь появится контент</h2>
                    <p className="section-description">
                        Мы работаем над наполнением этого раздела полезными материалами
                    </p>
                </div>
            </div>
        </div>
    );
};

export default MethodClubPage;



==== FILE: .\frontend\src\pages\sections\PioneerBookPage.js ====
import React from 'react';
import Iridescence from '../../components/Iridescence';
import { GiNotebook } from 'react-icons/gi';
import '../../styles/PioneerBookPage.css';

const PioneerBookPage = () => {
    const bookSections = [
        'ПРЕДИСЛОВИЕ',
        'ИСТОРИЯ ПИОНЕРСКОЙ ОРГАНИЗАЦИИ',
        'ПИОНЕРСКИЕ ТРАДИЦИИ',
        'РАБОТА С МЛАДШИМИ ПИОНЕРАМИ',
        'РАБОТА С ПИОНЕРАМИ СРЕДНЕГО ВОЗРАСТА',
        'РАБОТА СО СТАРШИМИ ПИОНЕРАМИ',
        'ПИОНЕРСКАЯ ТЕХНОЛОГИЯ',
        'НАПРАВЛЕНИЯ ВОСПИТАТЕЛЬНОЙ РАБОТЫ С ПИОНЕРАМИ',
    ];

    return (
        <div className="pioneer-book-page">
            {/* Hero Section */}
            <div className="pioneer-book-hero">
                <Iridescence
                    color={[0.5, 0.6, 0.8]}
                    mouseReact={false}
                    amplitude={0.1}
                    speed={1}
                />

                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Пионерская<br />организация —<br />как это делается
                        </h1>
                        <p className="hero-subtitle">
                            Настольная книга пионерского вожатого
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="icon-wrapper">
                                <GiNotebook className="main-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Book Info Section */}
            <div className="book-info-section">
                <h2 className="section-title">Про книгу</h2>
                <div className="book-description">
                    <p>
                        Настольная книга пионерского вожатого "Пионерская организация - как это делается" издана в
                        2000 году на основе методической сокровищницы пионерского наследия. Составителями
                        выступили - Артем Клименко и Тимур Гагин. Под рецензией Ирины Антоновой.
                    </p>
                    <p>
                        В 2025 году Настольной книге пионерского вожатого - 25 лет. Юбилей серьезный. Технологии и
                        методики, материалы, описанные в ней не все устарели, но появились и новые инструменты
                        работы, о которых вы можете узнать на страницах нашего сервиса.
                    </p>
                    <p>
                        Книга в электронном формате загружена в 10 основных разделов и позволяет познакомится с
                        основным спектором вопросов развития детского движения. Здесь вы получите ответы на
                        начальные вопросы: кто такой пионер, что нужно знать о пионерских символах, какие есть
                        пионерские ритуалы, про пионерскую технологию и особенности работы с пионерами разных
                        возрастов.
                    </p>
                    <p>
                        В 2025 году Научно-методический центр нашей организации займется обновление данной книги,
                        если у вас есть идеи или пожелания, вы можете их направить на почту:{' '}
                        <a href="mailto:peoneerrb-metod@yandex.ru" className="email-link">
                            peoneerrb-metod@yandex.ru
                        </a>
                    </p>
                </div>
            </div>

            {/* Table of Contents */}
            <div className="table-of-contents-section">
                <h2 className="section-title">СОДЕРЖАНИЕ</h2>
                <div className="contents-grid">
                    {bookSections.map((section, index) => (
                        <div key={index} className="content-card">
                            <div className="content-card-pattern"></div>
                            <h3 className="content-card-title">{section}</h3>
                        </div>
                    ))}
                </div>
            </div>
        </div>
    );
};

export default PioneerBookPage;



==== FILE: .\frontend\src\pages\sections\PioneersWorkPage.js ====
import React, { useState } from 'react';
import Iridescence from '../../components/Iridescence';
import { GiPodiumWinner } from 'react-icons/gi';
import '../../styles/PioneersWorkPage.css';

const PioneersWorkPage = () => {
    const [activeFilter, setActiveFilter] = useState('all');

    const filters = [
        { id: 'all', label: 'Все' },
        { id: 'admission', label: 'Прием в пионеры' },
        { id: 'first-steps', label: 'Первые дела' },
        { id: 'traditions', label: 'Пионерские традиции' },
        { id: 'technology', label: 'Пионерская технология' },
        { id: 'directions', label: 'Направления воспитательной работы с пионерами' },
    ];

    const cards = [
        {
            id: 1,
            category: 'ПРИЕМ В ПИОНЕРЫ',
            title: 'Организация приема в Пионеры Башкортостана',
            image: 'https://via.placeholder.com/400x250',
            filter: 'admission'
        },
        {
            id: 2,
            category: 'ПРИЕМ В ПИОНЕРЫ',
            title: 'Как рассказать родителям о Пионерах Башкортостана',
            image: 'https://via.placeholder.com/400x250',
            filter: 'admission'
        },
        {
            id: 3,
            category: 'ПРИЕМ В ПИОНЕРЫ',
            title: 'Что нужно знать о современных пионерах и организации "Пионеры Башкортостана"',
            image: 'https://via.placeholder.com/400x250',
            filter: 'admission'
        },
        {
            id: 4,
            category: 'ПРИЕМ В ПИОНЕРЫ',
            title: 'Как инициировать прием школьников в Пионеры Башкортостана',
            image: 'https://via.placeholder.com/400x250',
            filter: 'admission'
        },
    ];

    const filteredCards = activeFilter === 'all'
        ? cards
        : cards.filter(card => card.filter === activeFilter);

    return (
        <div className="pioneers-work-page">
            {/* Hero Section */}
            <div className="pioneers-hero">
                <Iridescence
                    color={[0.5, 0.6, 0.8]}
                    mouseReact={false}
                    amplitude={0.1}
                    speed={1}
                />

                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Работа<br />с пионерами
                        </h1>
                        <p className="hero-subtitle">
                            Здесь представлены программы, методические<br />
                            рекомендации и практические советы по организации<br />
                            работы с детьми и молодежью
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="icon-wrapper">
                                <GiPodiumWinner className="main-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Getting Started Section */}
            <div className="getting-started-section">
                <h2 className="section-title">
                    С чего начать?
                </h2>

                {/* Filters */}
                <div className="filters-container">
                    {filters.map((filter) => (
                        <button
                            key={filter.id}
                            className={`filter-btn ${activeFilter === filter.id ? 'active' : ''}`}
                            onClick={() => setActiveFilter(filter.id)}
                        >
                            {filter.label}
                        </button>
                    ))}
                </div>

                {/* Cards Grid */}
                <div className="pioneers-cards-grid">
                    {filteredCards.map((card, index) => (
                        <div
                            key={card.id}
                            className="pioneer-card"
                            style={{ '--card-index': index }}
                        >
                            <div className="card-image">
                                <img src={card.image} alt={card.title} />
                            </div>
                            <div className="card-body">
                                <span className="card-category">{card.category}</span>
                                <h3 className="card-title">{card.title}</h3>
                            </div>
                        </div>
                    ))}
                </div>
            </div>

            {/* Pioneer Assembly Section */}
            <div className="pioneer-assembly-section">
                <h2 className="section-title">Пионерский сбор</h2>
                <div className="assembly-content">
                    <p className="assembly-placeholder">Материалы скоро появятся</p>
                </div>
            </div>
        </div>
    );
};

export default PioneersWorkPage;



==== FILE: .\frontend\src\pages\sections\ScenariosPage.js ====
import React from 'react';
import Iridescence from '../../components/Iridescence';
import { MdTheaters } from 'react-icons/md';
import '../../styles/ScenariosPage.css';

const ScenariosPage = () => {
    return (
        <div className="scenarios-page">
            {/* Hero Section */}
            <div className="scenarios-hero">
                <Iridescence
                    color={[0.5, 0.6, 0.8]}
                    mouseReact={false}
                    amplitude={0.1}
                    speed={1}
                />

                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Сценарии<br />мероприятий
                        </h1>
                        <p className="hero-subtitle">
                            В разделе представлены программы<br />
                            для праздников, конкурсов, слетов и других событий,<br />
                            которые помогут организовать незабываемые<br />
                            и увлекательные события для пионеров.
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="icon-wrapper">
                                <MdTheaters className="main-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Content Section */}
            <div className="scenarios-content-section">
                <h2 className="section-title">Сценарии</h2>
                <div className="content-placeholder">
                    <p className="placeholder-text">Материалы скоро появятся</p>
                </div>
            </div>
        </div>
    );
};

export default ScenariosPage;



==== FILE: .\frontend\src\pages\sections\SchoolLeadersPage.js ====
import React from 'react';
import Iridescence from '../../components/Iridescence';
import { MdGroups } from 'react-icons/md';
import '../../styles/SchoolLeadersPage.css';

const SchoolLeadersPage = () => {
    return (
        <div className="school-leaders-page">
            {/* Hero Section */}
            <div className="school-leaders-hero">
                <Iridescence
                    color={[0.5, 0.6, 0.8]}
                    mouseReact={false}
                    amplitude={0.1}
                    speed={1}
                />

                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Про отрядных<br />вожатых
                        </h1>
                        <p className="hero-subtitle">
                            Кто такой отрядный вожатый?<br />
                            Это старшеклассников готовый помочь вам<br />
                            в работе с детскими общественными объединениями.
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="icon-wrapper">
                                <MdGroups className="main-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Content Section */}
            <div className="leaders-content-section">
                <h2 className="section-title">Работа с отрядными вожатыми</h2>
                <div className="content-placeholder">
                    <p className="placeholder-text">Материалы скоро появятся</p>
                </div>
            </div>
        </div>
    );
};

export default SchoolLeadersPage;



==== FILE: .\frontend\src\pages\sections\SchoolMediaPage.js ====
import React from 'react';
import Iridescence from '../../components/Iridescence';
import { MdPermMedia } from 'react-icons/md';
import '../../styles/SchoolMediaPage.css';

const SchoolMediaPage = () => {
    return (
        <div className="school-media-page">
            {/* Hero Section */}
            <div className="school-media-hero">
                <Iridescence
                    color={[0.5, 0.6, 0.8]}
                    mouseReact={false}
                    amplitude={0.1}
                    speed={1}
                />

                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Школьный<br />медиа-центр
                        </h1>
                        <p className="hero-subtitle">
                            Текст подзаголовок
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="icon-wrapper">
                                <MdPermMedia className="main-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Content Section */}
            <div className="media-content-section">
                <h2 className="section-title">Материалы медиа-центра</h2>
                <div className="content-placeholder">
                    <p className="placeholder-text">Материалы скоро появятся</p>
                </div>
            </div>
        </div>
    );
};

export default SchoolMediaPage;



==== FILE: .\frontend\src\pages\sections\VolunteersPage.js ====
import React from 'react';
import Iridescence from '../../components/Iridescence';
import { MdVolunteerActivism } from 'react-icons/md';
import '../../styles/VolunteersPage.css';

const VolunteersPage = () => {
    return (
        <div className="volunteers-page">
            {/* Hero Section */}
            <div className="volunteers-hero">
                <Iridescence
                    color={[0.5, 0.6, 0.8]}
                    mouseReact={false}
                    amplitude={0.1}
                    speed={1}
                />

                <div className="hero-content-wrapper">
                    <div className="hero-content">
                        <h1 className="hero-title">
                            Волонтерский<br />отряд
                        </h1>
                        <p className="hero-subtitle">
                            Рассказываем, как выстроить работу<br />
                            с добровольческим объединением
                        </p>
                    </div>

                    <div className="hero-image">
                        <div className="hero-illustration">
                            <div className="icon-wrapper">
                                <MdVolunteerActivism className="main-icon" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Content Section */}
            <div className="volunteers-content-section">
                <h2 className="section-title">Работа с добровольческим объединением</h2>
                <div className="content-placeholder">
                    <p className="placeholder-text">Материалы скоро появятся</p>
                </div>
            </div>
        </div>
    );
};

export default VolunteersPage;



==== FILE: .\frontend\src\services\api.js ====
import axios from 'axios';

const api = axios.create({
    baseURL: '/api',
    headers: {
        'Content-Type': 'application/json',
    },
});

api.interceptors.request.use(
    (config) => {
        const token = localStorage.getItem('token');
        if (token) {
            config.headers.Authorization = `Bearer ${token}`;
        }
        return config;
    },
    (error) => Promise.reject(error)
);

api.interceptors.response.use(
    response => response,
    error => {
        if (error.response?.status === 401) {
            // Только очищаем token, НЕ перенаправляем
            localStorage.removeItem('token');
            // Редирект обработает AuthContext или сам компонент
        }
        return Promise.reject(error);
    }
);


export const booksAPI = {
    getAll: (params) => api.get('/books', { params }),
    getById: (id) => api.get(`/books/${id}`),
    download: (id) => api.get(`/books/${id}/download`, { responseType: 'blob' }),
    view: (id) => `/api/books/${id}/view`,

    // ИСПРАВЛЕНО: Удаляем Content-Type, чтобы axios сам установил boundary
    create: (formData) => api.post('/books', formData, {
        headers: {
            'Content-Type': undefined  // Или просто не указывать вообще
        }
    }),

    update: (id, data) => api.put(`/books/${id}`, data),
    delete: (id) => api.delete(`/books/${id}`),
    sync: () => api.post('/books/sync'),
};

export const favoritesAPI = {
    getAll: () => api.get('/favorites'),
    add: (bookId) => api.post(`/favorites/${bookId}`),
    remove: (bookId) => api.delete(`/favorites/${bookId}`),
};

export const readStatusAPI = {
    markAsRead: (bookId) => api.post(`/read/${bookId}`),
    markAsUnread: (bookId) => api.delete(`/read/${bookId}`),
};

export const reviewsAPI = {
    getByBook: (bookId) => api.get(`/reviews/${bookId}`),
    create: (data) => api.post('/reviews', data),
};

export const ratingsAPI = {
    create: (data) => api.post('/ratings', data),
};

export const filtersAPI = {
    getTags: () => api.get('/filters/tags'),
    getGenres: () => api.get('/filters/genres'),
    getAuthors: () => api.get('/filters/authors'),
};

export default api;



==== FILE: .\frontend\src\styles\AdminPage.css ====
/* ==================== ADMIN PAGE ==================== */

.admin-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.admin-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

/* Hero Content */

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: clamp(19px, 2vw, 24px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* Hero Illustration - Shield Icon */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.shield-icon-wrapper {
    position: relative;
    animation: shieldFloat 6s ease-in-out infinite;
}

@keyframes shieldFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-shield-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: shieldPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes shieldPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-shield-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* ==================== ADMIN CONTENT SECTION ==================== */

.admin-content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    position: relative;
}

.admin-content-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 1000px;
    height: 400px;
    background: radial-gradient(circle, rgba(102, 126, 234, 0.06) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
}

.admin-container {
    max-width: 900px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
}

/* Message */

.admin-message {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 24px;
    border-radius: 12px;
    margin-bottom: 32px;
    font-weight: 500;
    animation: slideUp 0.4s var(--transition-smooth);
    border: 1px solid;
}

.admin-message-success {
    background: rgba(0, 233, 101, 0.1);
    border-color: #00e965;
    color: #00e965;
}

.admin-message-error {
    background: rgba(255, 68, 68, 0.1);
    border-color: #ff4444;
    color: #ff4444;
}

.message-icon {
    font-size: 1.25rem;
    font-weight: 700;
}

.message-text {
    flex: 1;
}

/* Card */

.admin-card {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 48px;
    margin-bottom: 32px;
    box-shadow: var(--shadow-md);
    opacity: 0;
    transition: all 0.6s var(--transition-smooth);
}

.admin-card.visible {
    animation: slideUp 0.6s var(--transition-smooth) forwards;
}

.admin-card:hover {
    box-shadow: var(--shadow-lg);
    border-color: rgba(102, 126, 234, 0.3);
}

.card-header {
    margin-bottom: 32px;
}

.card-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--apple-text-primary);
    margin-bottom: 8px;
    letter-spacing: -0.02em;
    transition: color 0.3s ease;
}

.card-description {
    font-size: 1rem;
    color: var(--apple-text-secondary);
    line-height: 1.5;
    transition: color 0.3s ease;
}

/* Form */

.admin-form {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 24px;
}

.form-field {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.form-label {
    font-size: 14px;
    font-weight: 600;
    color: var(--apple-text-primary);
    letter-spacing: 0.01em;
    transition: color 0.3s ease;
}

.required {
    color: #ff4444;
}

.form-input,
.form-textarea {
    width: 100%;
    padding: 14px 18px;
    font-size: 1rem;
    font-family: var(--font-display);
    color: var(--apple-text-primary);
    background: var(--apple-gray-100);
    border: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 12px;
    outline: none;
    transition: all 0.3s var(--transition-smooth);
}

[data-theme='dark'] .form-input,
[data-theme='dark'] .form-textarea {
    background: var(--apple-gray-50);
    border-color: rgba(255, 255, 255, 0.15);
}

.form-input:hover,
.form-textarea:hover {
    border-color: rgba(102, 126, 234, 0.4);
    box-shadow: var(--shadow-sm);
}

.form-input:focus,
.form-textarea:focus {
    border-color: #667eea;
    box-shadow: var(--shadow-md);
}

.form-input::placeholder,
.form-textarea::placeholder {
    color: var(--apple-text-secondary);
}

.form-textarea {
    resize: vertical;
    min-height: 120px;
    line-height: 1.6;
}

/* File Input */

.file-input-wrapper {
    position: relative;
}

.file-input {
    position: absolute;
    width: 0;
    height: 0;
    opacity: 0;
    pointer-events: none;
}

.file-input-label {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 18px;
    background: var(--apple-gray-100);
    border: 2px dashed rgba(0, 0, 0, 0.1);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s var(--transition-smooth);
}

[data-theme='dark'] .file-input-label {
    background: var(--apple-gray-50);
    border-color: rgba(255, 255, 255, 0.15);
}

.file-input-label:hover {
    border-color: #667eea;
    background: rgba(102, 126, 234, 0.05);
}

.file-input-icon {
    font-size: 1.5rem;
}

.file-input-text {
    flex: 1;
    font-size: 1rem;
    color: var(--apple-text-primary);
    transition: color 0.3s ease;
}

.file-input-button {
    padding: 8px 20px;
    background: rgba(0, 0, 0, 0.05);
    border-radius: 8px;
    font-weight: 600;
    font-size: 14px;
    color: var(--apple-text-primary);
    transition: all 0.2s var(--transition-smooth);
}

[data-theme='dark'] .file-input-button {
    background: rgba(255, 255, 255, 0.08);
}

.file-input-label:hover .file-input-button {
    background: rgba(102, 126, 234, 0.15);
    transform: translateY(-1px);
}

/* Buttons */

.btn-primary,
.btn-secondary {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 16px 32px;
    font-size: 1rem;
    font-weight: 600;
    font-family: var(--font-display);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s var(--transition-smooth);
    outline: none;
    position: relative;
    overflow: hidden;
    box-shadow: var(--shadow-sm);
}

.btn-primary {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
}

.btn-primary:hover:not(:disabled) {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.btn-primary:active:not(:disabled) {
    transform: translateY(0);
}

.btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.btn-secondary {
    background: rgba(0, 0, 0, 0.05);
    color: var(--apple-text-primary);
    border: 1px solid rgba(0, 0, 0, 0.1);
}

[data-theme='dark'] .btn-secondary {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.15);
}

.btn-secondary:hover:not(:disabled) {
    background: rgba(102, 126, 234, 0.1);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
    border-color: rgba(102, 126, 234, 0.3);
}

.btn-secondary:active:not(:disabled) {
    transform: translateY(0);
}

.btn-secondary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

/* Spinner & Arrow */

.btn-spinner {
    width: 16px;
    height: 16px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top-color: white;
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

.btn-arrow {
    font-size: 1.25rem;
    transition: transform 0.3s var(--transition-smooth);
}

.btn-primary:hover:not(:disabled) .btn-arrow,
.btn-secondary:hover:not(:disabled) .btn-arrow {
    transform: translateX(4px);
}

/* Sync Content */

.sync-content {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.sync-info {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    padding: 20px;
    background: rgba(102, 126, 234, 0.05);
    border-radius: 12px;
    border: 1px solid rgba(102, 126, 234, 0.1);
}

.sync-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.sync-text {
    flex: 1;
    color: var(--apple-text-secondary);
    line-height: 1.6;
    transition: color 0.3s ease;
}

/* ==================== ANIMATIONS ==================== */

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.hero-title {
    animation: slideUp 0.8s var(--transition-smooth) 0.1s both;
}

.hero-subtitle {
    animation: slideUp 0.8s var(--transition-smooth) 0.25s both;
}

.hero-image {
    animation: slideUp 0.8s var(--transition-smooth) 0.4s both;
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-content-wrapper {
        gap: var(--spacing-lg);
    }

    .hero-image {
        flex: 0 0 400px;
    }

    .main-shield-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .admin-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        gap: var(--spacing-xl);
        text-align: center;
    }

    .hero-title {
        font-size: clamp(36px, 8vw, 48px);
    }

    .hero-subtitle {
        font-size: clamp(17px, 3vw, 19px);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-shield-icon {
        width: 280px;
        height: 280px;
    }

    .admin-content-section {
        padding: var(--spacing-xl) var(--spacing-md);
    }

    .admin-card {
        padding: 32px 24px;
    }

    .form-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    .admin-card {
        padding: 24px 20px;
    }

    .btn-primary,
    .btn-secondary {
        width: 100%;
    }
}

/* ==================== ACCESSIBILITY ==================== */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Hero Illustration */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* Buttons */

.btn-primary,
.btn-secondary {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 16px 32px;
    font-size: 1rem;
    font-weight: 600;
    font-family: var(--font-display);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s var(--transition-smooth);
    outline: none;
    position: relative;
    overflow: hidden;
    box-shadow: var(--shadow-sm);
}

.btn-primary {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
}

.btn-primary:hover:not(:disabled) {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.btn-primary:active:not(:disabled) {
    transform: translateY(0);
}

.btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.btn-secondary {
    background: rgba(0, 0, 0, 0.05);
    color: var(--apple-text-primary);
    border: 1px solid rgba(0, 0, 0, 0.1);
}

/* ==================== LIGHT THEME BUTTON FIXES ==================== */

/* Верхняя кнопка - при ховере черный текст в светлой теме */
/* ==================== LIGHT THEME BUTTON FIXES ==================== */

/* Верхняя кнопка - при ховере черный текст в светлой теме (ТОЛЬКО на admin странице) */
[data-theme='light'] .admin-page .btn-primary:hover:not(:disabled) {
    color: #000000 !important;
}

/* Нижняя кнопка - всегда черный текст в светлой теме (ТОЛЬКО на admin странице) */
[data-theme='light'] .admin-page .btn-secondary {
    color: #000000 !important;
}

[data-theme='light'] .admin-page .btn-secondary:hover:not(:disabled) {
    color: #000000 !important;
}


/* ==================== DARK THEME ==================== */

[data-theme='dark'] .btn-secondary {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.15);
}

.btn-secondary:hover:not(:disabled) {
    background: rgba(102, 126, 234, 0.1);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
    border-color: rgba(102, 126, 234, 0.3);
}

.btn-secondary:active:not(:disabled) {
    transform: translateY(0);
}

.btn-secondary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}


==== FILE: .\frontend\src\styles\AuthPage.css ====
/* ============================================
   AUTH PAGE - APPLE PRO STYLE
   Modern & Minimal Design
============================================ */

:root {
    --auth-primary: #667eea;
    --auth-secondary: #764ba2;
    --auth-success: #00e965;
    --auth-error: #ff4444;
    --auth-text: #1d1d1f;
    --auth-text-secondary: #6e6e73;
    --auth-bg: #ffffff;
    --auth-surface: #f5f5f7;
    --auth-border: rgba(0, 0, 0, 0.1);
    --auth-hover: rgba(0, 0, 0, 0.05);
    --auth-glass: rgba(255, 255, 255, 0.8);
    --auth-blur: saturate(180%) blur(20px);
    --auth-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
    --auth-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);
    --auth-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.16);
    --auth-transition: cubic-bezier(0.28, 0.11, 0.32, 1);
    --auth-font: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", system-ui, sans-serif;
}

[data-theme='dark'] {
    --auth-text: #f5f5f7;
    --auth-text-secondary: #98989d;
    --auth-bg: #000000;
    --auth-surface: #1c1c1e;
    --auth-border: rgba(255, 255, 255, 0.15);
    --auth-hover: rgba(255, 255, 255, 0.08);
    --auth-glass: rgba(28, 28, 30, 0.8);
    --auth-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
    --auth-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
    --auth-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.6);
}

@media (prefers-color-scheme: dark) {
    :root:not([data-theme='light']) {
        --auth-text: #f5f5f7;
        --auth-text-secondary: #98989d;
        --auth-bg: #000000;
        --auth-surface: #1c1c1e;
        --auth-border: rgba(255, 255, 255, 0.15);
        --auth-hover: rgba(255, 255, 255, 0.08);
        --auth-glass: rgba(28, 28, 30, 0.8);
        --auth-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
        --auth-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
        --auth-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.6);
    }
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Page Container */
.auth-page {
    width: 100%;
    min-height: calc(100vh - 70px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 40px 20px;
    background-color: var(--auth-bg);
    font-family: var(--auth-font);
    animation: fadeIn 0.5s var(--auth-transition);
}

/* Auth Container */
.auth-container {
    width: 100%;
    max-width: 480px;
    background: var(--auth-glass);
    backdrop-filter: var(--auth-blur);
    -webkit-backdrop-filter: var(--auth-blur);
    border: 1px solid var(--auth-border);
    border-radius: 20px;
    padding: 48px;
    box-shadow: var(--auth-shadow-md);
    animation: slideUp 0.6s var(--auth-transition);
    transition: all 0.6s var(--auth-transition);
}

.auth-container:hover {
    box-shadow: var(--auth-shadow-lg);
    border-color: rgba(102, 126, 234, 0.2);
}

/* Header */
.auth-header {
    text-align: center;
    margin-bottom: 40px;
}

.auth-header h1 {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 800;
    color: var(--auth-text);
    margin: 0;
    letter-spacing: -0.03em;
    line-height: 1.1;
}

/* Form */
.auth-form {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.form-group label {
    font-size: 14px;
    font-weight: 600;
    color: var(--auth-text);
    letter-spacing: 0.01em;
}

.form-group input {
    width: 100%;
    padding: 14px 18px;
    font-size: 1rem;
    font-family: var(--auth-font);
    color: var(--auth-text);
    background: var(--auth-bg);
    border: 1px solid var(--auth-border);
    border-radius: 12px;
    outline: none;
    transition: all 0.3s var(--auth-transition);
}

.form-group input:hover {
    border-color: rgba(102, 126, 234, 0.4);
    box-shadow: var(--auth-shadow-sm);
}

.form-group input:focus {
    border-color: var(--auth-primary);
    box-shadow: var(--auth-shadow-md);
}

.form-group input::placeholder {
    color: var(--auth-text-secondary);
}

/* Form Hint */
.form-hint {
    font-size: 13px;
    color: var(--auth-text-secondary);
    line-height: 1.5;
}

/* Error Message */
.error-message {
    padding: 14px 18px;
    background: rgba(255, 68, 68, 0.1);
    border: 1px solid rgba(255, 68, 68, 0.3);
    border-radius: 12px;
    color: var(--auth-error);
    font-size: 14px;
    font-weight: 500;
    line-height: 1.5;
    animation: slideUp 0.3s var(--auth-transition);
}

/* Success Message */
.success-message {
    padding: 14px 18px;
    background: rgba(0, 233, 101, 0.1);
    border: 1px solid rgba(0, 233, 101, 0.3);
    border-radius: 12px;
    color: var(--auth-success);
    font-size: 14px;
    font-weight: 500;
    line-height: 1.5;
    animation: slideUp 0.3s var(--auth-transition);
}

/* Submit Button */
.btn-submit {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 16px 32px;
    font-size: 1rem;
    font-weight: 600;
    font-family: var(--auth-font);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s var(--auth-transition);
    outline: none;
    position: relative;
    overflow: hidden;
    background: linear-gradient(135deg, var(--auth-primary), var(--auth-secondary));
    color: white;
    box-shadow: var(--auth-shadow-sm);
    margin-top: 8px;
}

.btn-submit:hover:not(:disabled) {
    box-shadow: var(--auth-shadow-md);
    transform: translateY(-2px);
}

.btn-submit:active:not(:disabled) {
    transform: translateY(0);
}

.btn-submit:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

/* Loading Spinner */
.btn-spinner {
    width: 16px;
    height: 16px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top-color: white;
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
}

/* Auth Switch */
.auth-switch {
    text-align: center;
    margin-top: 32px;
    padding-top: 24px;
    border-top: 1px solid var(--auth-border);
}

.auth-switch p {
    font-size: 15px;
    color: var(--auth-text-secondary);
    margin-bottom: 12px;
}

.btn-link {
    background: none;
    border: none;
    color: var(--auth-primary);
    font-size: 15px;
    font-weight: 600;
    font-family: var(--auth-font);
    cursor: pointer;
    padding: 8px 16px;
    border-radius: 8px;
    transition: all 0.3s var(--auth-transition);
    position: relative;
}

.btn-link:hover {
    color: var(--auth-secondary);
    background: var(--auth-hover);
}

/* Responsive */
@media (max-width: 600px) {
    .auth-page {
        padding: 20px 16px;
    }

    .auth-container {
        padding: 40px 28px;
    }

    .auth-header h1 {
        font-size: 1.75rem;
    }
}

@media (max-width: 400px) {
    .auth-container {
        padding: 32px 24px;
    }

    .auth-header h1 {
        font-size: 1.5rem;
    }

    .form-group label {
        font-size: 13px;
    }

    .form-group input {
        padding: 12px 16px;
        font-size: 15px;
    }

    .btn-submit {
        padding: 14px 28px;
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation: none !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\BookCard.css ====
/* ============================================
   APPLE PRO BOOK CARD - PERFECT CONTRAST
   Clean & Minimal Design
============================================ */

:root {
    /* Light Theme - По умолчанию */
    --card-gradient-from: #667eea;
    --card-gradient-to: #764ba2;
    --card-text: #1d1d1f;
    --card-text-secondary: #6e6e73;
    --card-bg: #ffffff;
    --card-surface: #f5f5f7;
    --card-border: rgba(0, 0, 0, 0.1);
    --card-hover: rgba(0, 0, 0, 0.05);

    /* Shadows */
    --card-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    --card-shadow-hover: 0 8px 32px rgba(0, 0, 0, 0.12);

    /* Spacing */
    --card-padding: 20px;
    --card-gap: 12px;

    /* Typography */
    --font-system: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", system-ui, sans-serif;
}

/* Dark Theme */
[data-theme='dark'] {
    --card-text: #f5f5f7;
    --card-text-secondary: #98989d;
    --card-bg: #1c1c1e;
    --card-surface: #2c2c2e;
    --card-border: rgba(255, 255, 255, 0.15);
    --card-hover: rgba(255, 255, 255, 0.08);
    --card-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
    --card-shadow-hover: 0 8px 32px rgba(0, 0, 0, 0.6);
}

@media (prefers-color-scheme: dark) {
    :root:not([data-theme='light']) {
        --card-text: #f5f5f7;
        --card-text-secondary: #98989d;
        --card-bg: #1c1c1e;
        --card-surface: #2c2c2e;
        --card-border: rgba(255, 255, 255, 0.15);
        --card-hover: rgba(255, 255, 255, 0.08);
        --card-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
        --card-shadow-hover: 0 8px 32px rgba(0, 0, 0, 0.6);
    }
}

/* Card Container */
.book-card {
    display: flex;
    flex-direction: column;
    background: var(--card-bg);
    border-radius: 16px;
    border: 1px solid var(--card-border);
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.28, 0.11, 0.32, 1);
    box-shadow: var(--card-shadow);
    text-decoration: none;
    color: inherit;
    height: 100%;
    cursor: pointer;
}

.book-card:hover {
    transform: translateY(-6px);
    box-shadow: var(--card-shadow-hover);
    border-color: rgba(102, 126, 234, 0.3);
}

.book-card:active {
    transform: translateY(-3px);
}

/* Card Cover Image */
.book-cover {
    width: 100%;
    aspect-ratio: 16 / 9;
    background: linear-gradient(135deg, var(--card-gradient-from) 0%, var(--card-gradient-to) 100%);
    position: relative;
    overflow: hidden;
}

.book-cover-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s cubic-bezier(0.28, 0.11, 0.32, 1);
}

.book-card:hover .book-cover-img {
    transform: scale(1.05);
}

/* Fallback Icon when no image */
.book-cover-icon {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 48px;
    color: rgba(255, 255, 255, 0.8);
}

/* Card Body */
.book-body {
    padding: var(--card-padding);
    display: flex;
    flex-direction: column;
    gap: var(--card-gap);
    flex: 1;
}

/* Title */
.book-title {
    font-family: var(--font-system);
    font-size: 18px;
    font-weight: 600;
    line-height: 1.3;
    letter-spacing: -0.01em;
    color: var(--card-text);
    margin: 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Author */
.book-author {
    font-family: var(--font-system);
    font-size: 14px;
    font-weight: 400;
    line-height: 1.4;
    color: var(--card-text-secondary);
}

/* Tags Container */
.book-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 4px;
}

/* Tag Styles */
.book-tag {
    display: inline-flex;
    align-items: center;
    height: 24px;
    padding: 0 10px;
    font-family: var(--font-system);
    font-size: 12px;
    font-weight: 500;
    color: white;
    border-radius: 12px;
    white-space: nowrap;
}

.book-tag.genre {
    background: linear-gradient(135deg, #0071e3 0%, #005bb5 100%);
}

.book-tag.category {
    background: linear-gradient(135deg, #34c759 0%, #248a3d 100%);
}

/* Rating */
.book-rating {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-top: auto;
    padding-top: 12px;
    border-top: 1px solid var(--card-border);
}

.rating-stars {
    display: flex;
    gap: 2px;
    color: #ffcc00;
    font-size: 14px;
}

.rating-value {
    font-family: var(--font-system);
    font-size: 14px;
    font-weight: 600;
    color: var(--card-text);
}

.rating-count {
    font-family: var(--font-system);
    font-size: 12px;
    font-weight: 400;
    color: var(--card-text-secondary);
}

/* Footer */
.book-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 8px;
}

/* Year & Pages */
.book-info {
    display: flex;
    gap: 12px;
    align-items: center;
}

.book-year,
.book-pages {
    font-family: var(--font-system);
    font-size: 12px;
    font-weight: 500;
    color: var(--card-text-secondary);
}

/* Description */
.book-description {
    font-family: var(--font-system);
    font-size: 14px;
    font-weight: 400;
    line-height: 1.5;
    color: var(--card-text-secondary);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Responsive */
@media (max-width: 480px) {
    .book-body {
        padding: 16px;
    }

    .book-title {
        font-size: 16px;
    }

    .book-cover {
        aspect-ratio: 4 / 3;
    }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    * {
        animation: none !important;
        transition-duration: 0.01ms !important;
    }
}

.book-card:focus-visible {
    outline: 2px solid var(--card-gradient-from);
    outline-offset: 2px;
}


==== FILE: .\frontend\src\styles\BookDetailPage.css ====
/* ============================================
   APPLE PRO BOOK DETAIL PAGE - PREMIUM
   Ultra Smooth Animations & Effects
============================================ */

:root {
    --bd-primary: #667eea;
    --bd-secondary: #764ba2;
    --bd-text: #1d1d1f;
    --bd-text-secondary: #6e6e73;
    --bd-bg: #ffffff;
    --bd-surface: #f5f5f7;
    --bd-border: rgba(0, 0, 0, 0.1);
    --bd-hover: rgba(0, 0, 0, 0.05);
    --bd-glass-bg: rgba(255, 255, 255, 0.8);
    --bd-glass-blur: saturate(180%) blur(20px);
    --bd-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
    --bd-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);
    --bd-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.16);
    --bd-font: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", system-ui, sans-serif;
    --bd-transition: cubic-bezier(0.28, 0.11, 0.32, 1);
    --bd-speed-fast: 0.2s;
    --bd-speed: 0.4s;
    --bd-speed-slow: 0.6s;
}

[data-theme='dark'] {
    --bd-text: #f5f5f7;
    --bd-text-secondary: #98989d;
    --bd-bg: #000000;
    --bd-surface: #1c1c1e;
    --bd-border: rgba(255, 255, 255, 0.15);
    --bd-hover: rgba(255, 255, 255, 0.08);
    --bd-glass-bg: rgba(28, 28, 30, 0.8);
    --bd-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
    --bd-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
    --bd-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.6);
}

@media (prefers-color-scheme: dark) {
    :root:not([data-theme='light']) {
        --bd-text: #f5f5f7;
        --bd-text-secondary: #98989d;
        --bd-bg: #000000;
        --bd-surface: #1c1c1e;
        --bd-border: rgba(255, 255, 255, 0.15);
        --bd-hover: rgba(255, 255, 255, 0.08);
        --bd-glass-bg: rgba(28, 28, 30, 0.8);
        --bd-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
        --bd-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
        --bd-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.6);
    }
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.95);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes shimmer {
    0% {
        background-position: -1000px 0;
    }

    100% {
        background-position: 1000px 0;
    }
}

.book-detail-page {
    width: 100%;
    min-height: 100vh;
    background-color: var(--bd-bg);
    padding: 200px 40px 20px;
    font-family: var(--bd-font);
    animation: fadeIn var(--bd-speed) var(--bd-transition);
}

.book-detail-container {
    max-width: 1200px;
    margin: 0 auto;
}

.book-main-info {
    background: var(--bd-glass-bg);
    backdrop-filter: var(--bd-glass-blur);
    -webkit-backdrop-filter: var(--bd-glass-blur);
    border: 1px solid var(--bd-border);
    border-radius: 16px;
    padding: 48px;
    margin-bottom: 32px;
    box-shadow: var(--bd-shadow-md);
    animation: slideUp var(--bd-speed) var(--bd-transition);
    transition: all var(--bd-speed) var(--bd-transition);
}

.book-main-info:hover {
    box-shadow: var(--bd-shadow-lg);
    border-color: rgba(102, 126, 234, 0.2);
}

.book-detail-header {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 48px;
    margin-bottom: 40px;
}

.book-detail-cover {
    width: 100%;
    aspect-ratio: 2/3;
    border-radius: 12px;
    overflow: hidden;
    background-color: var(--bd-surface);
    box-shadow: var(--bd-shadow-lg);
    transition: all var(--bd-speed) var(--bd-transition);
    animation: slideInLeft var(--bd-speed-slow) var(--bd-transition);
    position: relative;
}

.book-detail-cover::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg,
            rgba(255, 255, 255, 0) 0%,
            rgba(255, 255, 255, 0.1) 50%,
            rgba(255, 255, 255, 0) 100%);
    opacity: 0;
    transition: opacity var(--bd-speed) var(--bd-transition);
    pointer-events: none;
}

.book-detail-cover:hover::after {
    opacity: 1;
    animation: shimmer 2s ease-in-out infinite;
}

.book-detail-cover img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--bd-speed-slow) var(--bd-transition);
}

.book-detail-cover:hover img {
    transform: scale(1.05);
}

.book-detail-cover-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, var(--bd-primary) 0%, var(--bd-secondary) 100%);
    color: white;
    font-size: 4rem;
    font-weight: 700;
}

.book-detail-info {
    display: flex;
    flex-direction: column;
    animation: slideInRight var(--bd-speed-slow) var(--bd-transition);
}

.book-detail-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 700;
    color: var(--bd-text);
    margin-bottom: 16px;
    line-height: 1.2;
    letter-spacing: -0.02em;
    animation: slideUp var(--bd-speed) var(--bd-transition) 0.1s both;
}

.book-detail-author {
    font-size: 1.5rem;
    color: var(--bd-text-secondary);
    margin-bottom: 24px;
    font-weight: 500;
    animation: slideUp var(--bd-speed) var(--bd-transition) 0.2s both;
    transition: color var(--bd-speed-fast) var(--bd-transition);
}

.book-detail-author:hover {
    color: var(--bd-primary);
}

.book-detail-author-prefix {
    color: var(--bd-text-secondary);
    opacity: 0.7;
    font-weight: 400;
    font-size: 1rem;
}

.book-detail-author-link {
    color: inherit;
    text-decoration: none;
    transition: color var(--bd-speed-fast) var(--bd-transition);
    position: relative;
}

.book-detail-author-link::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--bd-primary);
    transition: width var(--bd-speed) var(--bd-transition);
}

.book-detail-author-link:hover::after {
    width: 100%;
}

.book-detail-tags {
    display: flex;
    gap: 12px;
    margin-bottom: 32px;
    flex-wrap: wrap;
    animation: slideUp var(--bd-speed) var(--bd-transition) 0.3s both;
}

.detail-tag {
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    color: white;
    background: linear-gradient(135deg, var(--bd-primary) 0%, var(--bd-secondary) 100%);
    display: inline-flex;
    align-items: center;
    gap: 6px;
    transition: all var(--bd-speed) var(--bd-transition);
    cursor: pointer;
    box-shadow: var(--bd-shadow-sm);
    animation: scaleIn var(--bd-speed) var(--bd-transition) both;
}

.detail-tag:nth-child(1) {
    animation-delay: 0.1s;
}

.detail-tag:nth-child(2) {
    animation-delay: 0.15s;
}

.detail-tag:nth-child(3) {
    animation-delay: 0.2s;
}

.detail-tag:nth-child(4) {
    animation-delay: 0.25s;
}

.detail-tag:nth-child(5) {
    animation-delay: 0.3s;
}

.detail-tag:hover {
    transform: translateY(-2px);
    box-shadow: var(--bd-shadow-md);
}

.detail-tag.tag-genre {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.detail-tag.tag-category {
    background: linear-gradient(135deg, #667eea 0%, #5b73e8 100%);
}

.detail-tag.tag-status {
    background: linear-gradient(135deg, #5b73e8 0%, #667eea 100%);
}

.book-meta-info {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 24px;
    padding: 24px;
    background-color: var(--bd-surface);
    border-radius: 12px;
    margin-bottom: 32px;
    border: 1px solid var(--bd-border);
    animation: slideUp var(--bd-speed) var(--bd-transition) 0.4s both;
    transition: all var(--bd-speed) var(--bd-transition);
}

.book-meta-info:hover {
    box-shadow: var(--bd-shadow-sm);
    border-color: rgba(102, 126, 234, 0.2);
}

.book-meta-item {
    display: flex;
    flex-direction: column;
    gap: 8px;
    animation: fadeIn var(--bd-speed) var(--bd-transition) both;
}

.book-meta-item:nth-child(1) {
    animation-delay: 0.1s;
}

.book-meta-item:nth-child(2) {
    animation-delay: 0.15s;
}

.book-meta-item:nth-child(3) {
    animation-delay: 0.2s;
}

.book-meta-item:nth-child(4) {
    animation-delay: 0.25s;
}

.book-meta-label {
    font-size: 12px;
    color: var(--bd-text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: 600;
}

.book-meta-value {
    font-size: 1.125rem;
    color: var(--bd-text);
    font-weight: 700;
    transition: color var(--bd-speed-fast) var(--bd-transition);
}

.book-meta-value-gradient {
    background: linear-gradient(135deg, var(--bd-primary) 0%, var(--bd-secondary) 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.book-description {
    margin-bottom: 32px;
    animation: slideUp var(--bd-speed) var(--bd-transition) 0.5s both;
}

.book-description h3 {
    font-size: 1.5rem;
    margin-bottom: 16px;
    color: var(--bd-text);
    font-weight: 700;
}

.book-description p {
    color: var(--bd-text);
    opacity: 0.85;
    line-height: 1.7;
    font-size: 1rem;
    margin-bottom: 16px;
    transition: opacity var(--bd-speed-fast) var(--bd-transition);
}

.book-description p:hover {
    opacity: 1;
}

.book-rating-section {
    margin-bottom: 32px;
    padding: 24px;
    background-color: var(--bd-surface);
    border-radius: 12px;
    border: 1px solid var(--bd-border);
    animation: slideUp var(--bd-speed) var(--bd-transition) 0.6s both;
    transition: all var(--bd-speed) var(--bd-transition);
}

.book-rating-section:hover {
    box-shadow: var(--bd-shadow-sm);
    border-color: rgba(102, 126, 234, 0.2);
}

.average-rating {
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    gap: 16px;
    flex-wrap: wrap;
}

.rating-label {
    font-weight: 600;
    color: var(--bd-text);
    font-size: 1rem;
}

.rating-value {
    font-weight: 700;
    font-size: 1.5rem;
    background: linear-gradient(135deg, var(--bd-primary) 0%, var(--bd-secondary) 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.user-rating {
    margin-bottom: 24px;
}

.stars {
    display: inline-flex;
    gap: 10px;
    margin-top: 8px;
}

.star {
    background: none;
    font-size: 1.8rem;
    color: var(--bd-border);
    transition: color var(--bd-speed-fast) var(--bd-transition);
    padding: 0;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border: none;
    outline: none;
}

.star:hover {
    color: rgba(102, 126, 234, 0.6);
}

.star.active {
    color: var(--bd-primary);
}

.star.half {
    position: relative;
    color: var(--bd-border);
}

.star.half::before {
    content: '★';
    position: absolute;
    left: 0;
    top: 0;
    width: 50%;
    overflow: hidden;
    color: var(--bd-primary);
}

.book-actions {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    margin-top: 32px;
    animation: slideUp var(--bd-speed) var(--bd-transition) 0.7s both;
}

.btn-action {
    padding: 14px 28px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 1rem;
    font-family: var(--bd-font);
    transition: all var(--bd-speed) var(--bd-transition);
    border: 1px solid var(--bd-border);
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    white-space: nowrap;
    outline: none;
    position: relative;
    overflow: hidden;
}

.btn-action::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
    opacity: 0;
    transition: opacity var(--bd-speed) var(--bd-transition);
}

.btn-action:hover::before {
    opacity: 1;
}

.btn-read,
.btn-download {
    background: linear-gradient(135deg, var(--bd-primary) 0%, var(--bd-secondary) 100%);
    color: white;
    border-color: transparent;
    box-shadow: var(--bd-shadow-sm);
}

.btn-read:hover,
.btn-download:hover {
    box-shadow: var(--bd-shadow-md);
    transform: translateY(-2px);
}

.btn-action:not(.btn-read):not(.btn-download) {
    background-color: var(--bd-surface);
    color: var(--bd-text);
    box-shadow: var(--bd-shadow-sm);
}

.btn-action:not(.btn-read):not(.btn-download):hover {
    box-shadow: var(--bd-shadow-md);
    border-color: rgba(102, 126, 234, 0.3);
    transform: translateY(-2px);
}

.btn-action.active {
    background: linear-gradient(135deg, var(--bd-primary) 0%, var(--bd-secondary) 100%);
    color: white !important;
    border-color: transparent;
}

.btn-action.active *,
.btn-action.active:hover,
.btn-action.active:hover *,
.btn-action.active:focus,
.btn-action.active:focus * {
    color: white !important;
}

.pdf-viewer {
    margin-bottom: 32px;
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid var(--bd-border);
    background-color: var(--bd-surface);
    box-shadow: var(--bd-shadow-md);
    animation: scaleIn var(--bd-speed) var(--bd-transition) 0.4s both;
    transition: all var(--bd-speed) var(--bd-transition);
}

.pdf-viewer:hover {
    box-shadow: var(--bd-shadow-lg);
}

.pdf-viewer-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 24px;
    background-color: var(--bd-surface);
    border-bottom: 1px solid var(--bd-border);
}

.pdf-viewer-title {
    font-size: 1rem;
    font-weight: 700;
    color: var(--bd-text);
}

.pdf-viewer-controls {
    display: flex;
    gap: 12px;
}

.pdf-viewer-btn {
    padding: 8px 16px;
    background-color: var(--bd-bg);
    color: var(--bd-text);
    border: 1px solid var(--bd-border);
    border-radius: 8px;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    transition: all var(--bd-speed) var(--bd-transition);
}

.pdf-viewer-btn:hover {
    box-shadow: var(--bd-shadow-sm);
    border-color: rgba(102, 126, 234, 0.3);
    transform: translateY(-2px);
}

.pdf-viewer iframe {
    display: block;
    width: 100%;
    height: 600px;
    border: none;
}

.reviews-section {
    background: var(--bd-glass-bg);
    backdrop-filter: var(--bd-glass-blur);
    -webkit-backdrop-filter: var(--bd-glass-blur);
    padding: 48px;
    border-radius: 16px;
    border: 1px solid var(--bd-border);
    box-shadow: var(--bd-shadow-md);
    animation: slideUp var(--bd-speed-slow) var(--bd-transition) 0.5s both;
    transition: all var(--bd-speed) var(--bd-transition);
}

.reviews-section:hover {
    box-shadow: var(--bd-shadow-lg);
    border-color: rgba(102, 126, 234, 0.2);
}

.reviews-section h2 {
    font-size: 2rem;
    margin-bottom: 32px;
    color: var(--bd-text);
    font-weight: 700;
    animation: fadeIn var(--bd-speed) var(--bd-transition) 0.2s both;
}

.review-form {
    margin-bottom: 40px;
    padding: 32px;
    background-color: var(--bd-surface);
    border-radius: 12px;
    border: 1px solid var(--bd-border);
    animation: slideUp var(--bd-speed) var(--bd-transition) 0.3s both;
    transition: all var(--bd-speed) var(--bd-transition);
}

.review-form:hover {
    box-shadow: var(--bd-shadow-sm);
    border-color: rgba(102, 126, 234, 0.2);
}

.review-form-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--bd-text);
    margin-bottom: 20px;
}

.review-rating-input {
    margin-bottom: 24px;
}

.review-rating-label {
    display: block;
    font-weight: 600;
    color: var(--bd-text);
    margin-bottom: 12px;
    font-size: 14px;
}

.review-textarea {
    width: 100%;
    min-height: 120px;
    padding: 16px;
    border: 1px solid var(--bd-border);
    border-radius: 12px;
    font-size: 1rem;
    background-color: var(--bd-bg);
    color: var(--bd-text);
    resize: none !important;
    margin-bottom: 20px;
    font-family: var(--bd-font);
    line-height: 1.6;
    outline: none !important;
    box-shadow: none;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.review-textarea:hover {
    border-color: rgba(102, 126, 234, 0.4);
}

.review-textarea:focus {
    border-color: var(--bd-primary) !important;
    box-shadow: inset 0 0 0 1px var(--bd-primary), 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
    outline: none !important;
}

.review-textarea:focus-visible {
    outline: none !important;
}

.review-textarea::placeholder {
    color: var(--bd-text-secondary);
}

.btn-submit {
    padding: 14px 32px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 1rem;
    font-family: var(--bd-font);
    background: linear-gradient(135deg, var(--bd-primary) 0%, var(--bd-secondary) 100%);
    color: white;
    border: none;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    outline: none;
    position: relative;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.25);
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
        box-shadow 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
        filter 0.3s ease;
    will-change: transform, box-shadow;
}

.btn-submit::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at center, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.5s ease;
    pointer-events: none;
}

.btn-submit:hover {
    transform: translateY(-4px) scale(1.03);
    box-shadow: 0 12px 28px rgba(102, 126, 234, 0.45),
        0 6px 12px rgba(102, 126, 234, 0.25);
    filter: brightness(1.05);
}

.btn-submit:hover::before {
    opacity: 1;
}

.btn-submit:active {
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 6px 16px rgba(102, 126, 234, 0.35);
    transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-submit:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.15);
    filter: none;
}

.btn-submit:disabled:hover {
    transform: none;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.15);
    filter: none;
}

.reviews-list {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.reviews-list-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    animation: fadeIn var(--bd-speed) var(--bd-transition) 0.4s both;
}

.reviews-count {
    font-size: 1rem;
    color: var(--bd-text-secondary);
    font-weight: 600;
}

.no-reviews {
    text-align: center;
    color: var(--bd-text-secondary);
    padding: 48px 0;
    font-size: 1.125rem;
    animation: fadeIn var(--bd-speed) var(--bd-transition) 0.5s both;
}

.review-item {
    padding: 24px;
    background-color: var(--bd-surface);
    border-radius: 12px;
    border: 1px solid var(--bd-border);
    transition: all var(--bd-speed) var(--bd-transition);
    animation: slideUp var(--bd-speed) var(--bd-transition) both;
}

.review-item:nth-child(1) {
    animation-delay: 0.1s;
}

.review-item:nth-child(2) {
    animation-delay: 0.15s;
}

.review-item:nth-child(3) {
    animation-delay: 0.2s;
}

.review-item:nth-child(4) {
    animation-delay: 0.25s;
}

.review-item:nth-child(5) {
    animation-delay: 0.3s;
}

.review-item:hover {
    box-shadow: var(--bd-shadow-md);
    border-color: rgba(102, 126, 234, 0.3);
    transform: translateY(-2px);
}

.review-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 16px;
    gap: 16px;
}

.review-author-info {
    display: flex;
    align-items: center;
    gap: 12px;
}

.review-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--bd-primary) 0%, var(--bd-secondary) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    overflow: hidden;
    transition: transform var(--bd-speed) var(--bd-transition);
}

.review-avatar:hover {
    transform: scale(1.1);
}

.review-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.review-author-details {
    display: flex;
    flex-direction: column;
}

.review-author {
    font-weight: 600;
    color: var(--bd-text);
    font-size: 1rem;
}

.review-date {
    color: var(--bd-text-secondary);
    font-size: 12px;
}

.review-rating {
    display: flex;
    gap: 4px;
}

.review-rating .star {
    width: 18px;
    height: 18px;
    font-size: 1rem;
    pointer-events: none;
    cursor: default;
}

.review-text {
    color: var(--bd-text);
    opacity: 0.85;
    line-height: 1.7;
    font-size: 1rem;
    transition: opacity var(--bd-speed-fast) var(--bd-transition);
}

.review-item:hover .review-text {
    opacity: 1;
}

.review-actions {
    display: flex;
    gap: 16px;
    align-items: center;
    padding-top: 16px;
    margin-top: 16px;
    border-top: 1px solid var(--bd-border);
}

.review-action-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    background-color: transparent;
    color: var(--bd-text-secondary);
    border: none;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--bd-speed-fast) var(--bd-transition);
}

.review-action-btn:hover {
    color: var(--bd-text);
    background-color: var(--bd-hover);
}

.review-action-btn.active {
    color: var(--bd-primary);
}

.load-more {
    text-align: center;
    margin-top: 32px;
    animation: fadeIn var(--bd-speed) var(--bd-transition) 0.6s both;
}

.btn-load-more {
    padding: 12px 32px;
    background-color: var(--bd-surface);
    color: var(--bd-text);
    border: 1px solid var(--bd-border);
    border-radius: 12px;
    font-weight: 600;
    font-size: 1rem;
    cursor: pointer;
    transition: all var(--bd-speed) var(--bd-transition);
    font-family: var(--bd-font);
}

.btn-load-more:hover {
    box-shadow: var(--bd-shadow-md);
    border-color: rgba(102, 126, 234, 0.3);
    transform: translateY(-2px);
}

@media (max-width: 768px) {
    .book-main-info {
        padding: 32px 24px;
    }

    .book-detail-header {
        grid-template-columns: 1fr;
        gap: 32px;
    }

    .book-detail-cover {
        max-width: 280px;
        margin: 0 auto;
    }

    .book-meta-info {
        grid-template-columns: repeat(2, 1fr);
    }

    .book-actions {
        flex-direction: column;
    }

    .btn-action {
        width: 100%;
    }

    .reviews-section {
        padding: 32px 24px;
    }
}

@media (max-width: 480px) {
    .book-detail-page {
        padding: 20px 16px;
    }

    .book-main-info {
        padding: 24px 20px;
    }

    .book-meta-info {
        grid-template-columns: 1fr;
    }

    .reviews-section {
        padding: 24px 20px;
    }

    .review-form {
        padding: 24px 20px;
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation: none !important;
        transition-duration: 0.01ms !important;
    }
}

.btn-action:focus-visible,
.btn-submit:focus-visible,
.star:focus-visible {
    outline: 2px solid var(--bd-primary);
    outline-offset: 2px;
}

.btn-submit {
    padding: 14px 32px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 1rem;
    font-family: var(--bd-font);
    background: linear-gradient(135deg, var(--bd-primary) 0%, var(--bd-secondary) 100%);
    color: white;
    border: none;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    outline: none;
    position: relative;
    overflow: hidden;
    box-shadow: var(--bd-shadow-sm);
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
        box-shadow 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
        filter 0.3s ease;
}

.btn-submit::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, transparent 100%);
    opacity: 0;
    transition: opacity var(--bd-speed) var(--bd-transition);
}

.btn-submit:hover {
    box-shadow: var(--bd-shadow-md);
    transform: translateY(-2px);
}

.btn-submit:hover::before {
    opacity: 1;
}

.btn-submit:active {
    transform: translateY(0);
    box-shadow: var(--bd-shadow-sm);
}

.btn-submit:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
    box-shadow: var(--bd-shadow-sm);
}

.btn-submit:disabled:hover {
    transform: none;
    box-shadow: var(--bd-shadow-sm);
}


==== FILE: .\frontend\src\styles\BooksPage.css ====
/* ==================== BOOKS PAGE - APPLE PRO STYLE ==================== */

.books-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.books-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

/* Hero Content */

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: clamp(19px, 2vw, 24px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* Hero Illustration - React Icon */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration-books {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.book-icon-wrapper {
    position: relative;
    animation: bookFloat 6s ease-in-out infinite;
}

@keyframes bookFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-book-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconRotate 15s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconRotate {

    0%,
    100% {
        transform: rotateY(-15deg) rotateZ(5deg);
    }

    50% {
        transform: rotateY(15deg) rotateZ(-5deg);
    }
}

.main-book-icon:hover {
    transform: scale(1.1) rotateY(0deg) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}


/* ==================== BOOKS CONTENT SECTION ==================== */

.books-content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
}

.books-content-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 1000px;
    height: 400px;
    background: radial-gradient(circle, rgba(102, 126, 234, 0.06) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
}

.books-controls {
    margin-bottom: var(--spacing-xl);
    position: relative;
    z-index: 1;
}

/* Books Grid */

.books-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--spacing-lg);
    position: relative;
    z-index: 1;
}

.book-card-wrapper {
    opacity: 0;
    transform: translateY(40px);
    transition: all 0.6s var(--transition-smooth);
}

.book-card-wrapper.animate {
    opacity: 1;
    transform: translateY(0);
}

/* Empty State */

.books-empty {
    text-align: center;
    padding: var(--spacing-2xl) var(--spacing-md);
    opacity: 0;
    animation: fadeInUp 0.8s var(--transition-smooth) forwards;
}

.books-empty-icon {
    font-size: 80px;
    margin-bottom: var(--spacing-lg);
    opacity: 0.6;
}

.books-empty-title {
    font-family: var(--font-display);
    font-size: 32px;
    font-weight: 600;
    color: var(--apple-text-primary);
    margin: 0 0 var(--spacing-md);
    transition: color 0.3s ease;
}

.books-empty-text {
    font-size: 18px;
    color: var(--apple-text-secondary);
    margin: 0;
    transition: color 0.3s ease;
}

/* Loading State */

.books-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-2xl) var(--spacing-md);
    min-height: 400px;
}

.loading-spinner {
    width: 52px;
    height: 52px;
    border: 3px solid rgba(0, 0, 0, 0.1);
    border-top-color: #667eea;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    margin-bottom: var(--spacing-lg);
}

[data-theme='dark'] .loading-spinner {
    border-color: rgba(255, 255, 255, 0.1);
    border-top-color: #667eea;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

.loading-text {
    font-size: 17px;
    color: var(--apple-text-secondary);
    font-family: var(--font-display);
    transition: color 0.3s ease;
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.hero-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.1s both;
}

.hero-subtitle {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.25s both;
}

.hero-image {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.4s both;
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-content-wrapper {
        gap: var(--spacing-lg);
    }

    .hero-image {
        flex: 0 0 400px;
    }

    .main-book-icon {
        width: 320px;
        height: 320px;
    }

    .books-grid {
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        gap: var(--spacing-md);
    }
}

@media (max-width: 768px) {
    .books-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        gap: var(--spacing-xl);
        text-align: center;
    }

    .hero-title {
        font-size: clamp(36px, 8vw, 48px);
    }

    .hero-subtitle {
        font-size: clamp(17px, 3vw, 19px);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-book-icon {
        width: 280px;
        height: 280px;
    }

    .books-grid {
        grid-template-columns: 1fr;
    }

    .books-content-section {
        padding: var(--spacing-xl) var(--spacing-md);
    }
}

/* ==================== ACCESSIBILITY ==================== */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\CalendarPage.css ====
/* ==================== CALENDAR PAGE ==================== */

.calendar-page {
    width: 100%;
    overflow: hidden;
}

.calendar-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

/* Hero Illustration */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* Content Section */

.content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
}

.content-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 1000px;
    height: 400px;
    background: radial-gradient(circle, rgba(102, 126, 234, 0.06) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
}

.content-container {
    text-align: center;
    padding: var(--spacing-2xl) var(--spacing-md);
    position: relative;
    z-index: 1;
}

.section-title {
    font-family: var(--font-display);
    font-size: 32px;
    font-weight: 600;
    color: var(--apple-text-primary);
    margin: 0 0 var(--spacing-md);
    transition: color 0.3s ease;
}

.section-description {
    font-size: 18px;
    color: var(--apple-text-secondary);
    margin: 0;
    transition: color 0.3s ease;
}

/* Responsive */

@media (max-width: 1024px) {
    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .calendar-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }

    .content-section {
        padding: var(--spacing-xl) var(--spacing-md);
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\ContactsPage.css ====
/* ==================== CONTACTS PAGE ==================== */

.contacts-page {
    width: 100%;
    overflow: hidden;
}

.contacts-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

/* Hero Illustration */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* Content Section */

.content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
}

.content-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 1000px;
    height: 400px;
    background: radial-gradient(circle, rgba(102, 126, 234, 0.06) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
}

.content-container {
    text-align: center;
    padding: var(--spacing-2xl) var(--spacing-md);
    position: relative;
    z-index: 1;
}

.section-title {
    font-family: var(--font-display);
    font-size: 32px;
    font-weight: 600;
    color: var(--apple-text-primary);
    margin: 0 0 var(--spacing-md);
    transition: color 0.3s ease;
}

.section-description {
    font-size: 18px;
    color: var(--apple-text-secondary);
    margin: 0;
    transition: color 0.3s ease;
}

/* Responsive */

@media (max-width: 1024px) {
    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .contacts-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }

    .content-section {
        padding: var(--spacing-xl) var(--spacing-md);
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\DocumentsPage.css ====
/* ==================== DOCUMENTS PAGE ==================== */

.documents-page {
    width: 100%;
    overflow: hidden;
}

.documents-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

/* Hero Illustration */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* Content Section */

.content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
}

.content-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 1000px;
    height: 400px;
    background: radial-gradient(circle, rgba(102, 126, 234, 0.06) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
}

.content-container {
    text-align: center;
    padding: var(--spacing-2xl) var(--spacing-md);
    position: relative;
    z-index: 1;
}

.section-title {
    font-family: var(--font-display);
    font-size: 32px;
    font-weight: 600;
    color: var(--apple-text-primary);
    margin: 0 0 var(--spacing-md);
    transition: color 0.3s ease;
}

.section-description {
    font-size: 18px;
    color: var(--apple-text-secondary);
    margin: 0;
    transition: color 0.3s ease;
}

/* Responsive */

@media (max-width: 1024px) {
    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .documents-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }

    .content-section {
        padding: var(--spacing-xl) var(--spacing-md);
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\ExchangePage.css ====
/* ==================== EXCHANGE PAGE ==================== */

.exchange-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.exchange-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: clamp(19px, 2vw, 24px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* ==================== HERO ILLUSTRATION - ICON ==================== */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* ==================== STEPS SECTION ==================== */

.steps-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
}

.section-title {
    font-family: var(--font-display);
    font-size: clamp(36px, 4vw, 48px);
    font-weight: 700;
    margin: 0 0 var(--spacing-xl) 0;
    color: var(--apple-text-primary);
    letter-spacing: -0.02em;
    text-align: center;
}

.steps-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: var(--spacing-lg);
}

.step-card {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    padding: var(--spacing-xl);
    transition: all 0.5s var(--transition-smooth);
    opacity: 0;
    animation: fadeInUp 0.6s var(--transition-smooth) forwards;
    animation-delay: calc(var(--step-index) * 0.15s);
}

.step-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl);
    border-color: rgba(102, 126, 234, 0.3);
}

.step-number {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    font-weight: 700;
    margin-bottom: var(--spacing-md);
    box-shadow: var(--shadow-md);
}

.step-title {
    font-size: 24px;
    font-weight: 600;
    color: var(--apple-text-primary);
    margin: 0 0 var(--spacing-sm) 0;
}

.step-description {
    font-size: 16px;
    line-height: 1.6;
    color: var(--apple-text-secondary);
    margin: 0;
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .exchange-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        text-align: center;
    }

    .hero-title {
        font-size: clamp(36px, 8vw, 48px);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }

    .steps-grid {
        grid-template-columns: 1fr;
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\FavoritesPage.css ====
/* ==================== FAVORITES PAGE ==================== */

.favorites-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.favorites-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

/* Hero Content */

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: clamp(19px, 2vw, 24px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* Hero Illustration - Heart Icon */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.heart-icon-wrapper {
    position: relative;
    animation: heartFloat 6s ease-in-out infinite;
}

@keyframes heartFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-heart-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: heartPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes heartPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(255, 20, 80, 0.6));
    }
}

.main-heart-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(255, 20, 100, 0.8)) !important;
}

/* ==================== FAVORITES CONTENT SECTION ==================== */

.favorites-content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
}

.favorites-content-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 1000px;
    height: 400px;
    background: radial-gradient(circle, rgba(102, 126, 234, 0.06) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
}

/* Favorites Grid */

.favorites-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--spacing-lg);
    position: relative;
    z-index: 1;
}

/* Empty State */

.favorites-empty {
    text-align: center;
    padding: var(--spacing-2xl) var(--spacing-md);
    position: relative;
    z-index: 1;
}

.favorites-empty-icon {
    font-size: 80px;
    margin-bottom: var(--spacing-lg);
    opacity: 0.6;
}

.favorites-empty-title {
    font-family: var(--font-display);
    font-size: 32px;
    font-weight: 600;
    color: var(--apple-text-primary);
    margin: 0 0 var(--spacing-md);
    transition: color 0.3s ease;
}

.favorites-empty-text {
    font-size: 18px;
    color: var(--apple-text-secondary);
    margin: 0 0 var(--spacing-xl);
    transition: color 0.3s ease;
}

.favorites-empty-button {
    display: inline-block;
    padding: 16px 32px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    text-decoration: none;
    border-radius: 12px;
    font-weight: 600;
    font-size: 17px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 16px rgba(102, 126, 234, 0.3);
}

.favorites-empty-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 24px rgba(102, 126, 234, 0.4);
}

/* Loading State */

.favorites-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-2xl) var(--spacing-md);
    min-height: 400px;
}

.loading-spinner {
    width: 52px;
    height: 52px;
    border: 3px solid rgba(0, 0, 0, 0.1);
    border-top-color: #667eea;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    margin-bottom: var(--spacing-lg);
}

[data-theme='dark'] .loading-spinner {
    border-color: rgba(255, 255, 255, 0.1);
    border-top-color: #667eea;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

.loading-text {
    font-size: 17px;
    color: var(--apple-text-secondary);
    font-family: var(--font-display);
    transition: color 0.3s ease;
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.hero-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.1s both;
}

.hero-subtitle {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.25s both;
}

.hero-image {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.4s both;
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-content-wrapper {
        gap: var(--spacing-lg);
    }

    .hero-image {
        flex: 0 0 400px;
    }

    .main-heart-icon {
        width: 320px;
        height: 320px;
    }

    .favorites-grid {
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        gap: var(--spacing-md);
    }
}

@media (max-width: 768px) {
    .favorites-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        gap: var(--spacing-xl);
        text-align: center;
    }

    .hero-title {
        font-size: clamp(36px, 8vw, 48px);
    }

    .hero-subtitle {
        font-size: clamp(17px, 3vw, 19px);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-heart-icon {
        width: 280px;
        height: 280px;
    }

    .favorites-grid {
        grid-template-columns: 1fr;
    }

    .favorites-content-section {
        padding: var(--spacing-xl) var(--spacing-md);
    }
}

/* ==================== ACCESSIBILITY ==================== */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\Footer.css ====
/* FOOTER */

.footer {
    width: 100%;
    background: var(--bg-primary);
    border-top: 1px solid var(--border, rgba(255, 255, 255, 0.1));
    padding: 24px 0;
    margin-top: auto;
    transition: background 0.3s ease, border-color 0.3s ease;
    position: relative;
    z-index: 100;
}

.footer-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 24px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 24px;
}

.footer-left,
.footer-center,
.footer-right {
    display: flex;
    align-items: center;
    pointer-events: auto;
    position: relative;
    z-index: 101;
}

.footer-copyright {
    font-size: 14px;
    color: var(--text-secondary, rgba(255, 255, 255, 0.7));
    font-weight: 500;
}

.footer-link {
    font-size: 14px;
    color: var(--text-secondary, rgba(255, 255, 255, 0.7));
    text-decoration: none;
    transition: color 0.3s ease;
    font-weight: 400;
}

.footer-link:hover {
    color: var(--text-primary, rgba(255, 255, 255, 0.95));
    text-decoration: underline;
}

.footer-scroll-top {
    font-size: 14px;
    color: var(--text-secondary, rgba(255, 255, 255, 0.7));
    background: transparent;
    border: none;
    cursor: pointer;
    font-weight: 500;
    transition: color 0.3s ease, background 0.3s ease;
    padding: 8px 12px;
    border-radius: 6px;
    pointer-events: auto;
    position: relative;
    z-index: 102;
}

.footer-scroll-top:hover {
    color: var(--text-primary, rgba(255, 255, 255, 0.95));
    background: var(--hover-bg, rgba(255, 255, 255, 0.05));
}

.footer-scroll-top:active {
    transform: scale(0.98);
}

/* DARK THEME */
.dark .footer {
    background: var(--bg-primary, #0a0a0a);
    border-top-color: rgba(255, 255, 255, 0.1);
}

.dark .footer-copyright,
.dark .footer-link,
.dark .footer-scroll-top {
    color: rgba(255, 255, 255, 0.6);
}

.dark .footer-link:hover,
.dark .footer-scroll-top:hover {
    color: rgba(255, 255, 255, 0.95);
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .footer-container {
        flex-direction: column;
        gap: 16px;
        text-align: center;
    }

    .footer-left,
    .footer-center,
    .footer-right {
        justify-content: center;
        width: 100%;
    }

    .footer-link {
        font-size: 13px;
    }

    .footer-copyright,
    .footer-scroll-top {
        font-size: 13px;
    }
}

@media (max-width: 480px) {
    .footer {
        padding: 20px 0;
    }

    .footer-container {
        padding: 0 16px;
    }

    .footer-link {
        font-size: 12px;
    }
}

/* ACCESSIBILITY */
.footer-scroll-top:focus-visible {
    outline: 2px solid var(--primary, #667eea);
    outline-offset: 2px;
}

@media (prefers-reduced-motion: reduce) {
    .footer-scroll-top:hover {
        transform: none;
    }
}


==== FILE: .\frontend\src\styles\GamesPage.css ====
/* ==================== GAMES PAGE ==================== */

.games-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.games-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: clamp(19px, 2vw, 24px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* ==================== HERO ILLUSTRATION - ICON ==================== */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* ==================== GAMES CONTENT ==================== */

.games-content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
}

/* Filters */

.filters-container {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: var(--spacing-xl);
    justify-content: center;
}

.filter-btn {
    padding: 12px 24px;
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-button);
    color: var(--apple-text-primary);
    font-size: 15px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s var(--transition-smooth);
    white-space: nowrap;
}

.filter-btn:hover {
    background: var(--hover-bg);
    border-color: rgba(102, 126, 234, 0.3);
    transform: translateY(-2px);
}

.filter-btn.active {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border-color: transparent;
    box-shadow: var(--shadow-md);
}

/* Games Grid */

.games-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: var(--spacing-md);
}

.game-card {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    overflow: hidden;
    transition: all 0.5s var(--transition-smooth);
    cursor: pointer;
    opacity: 0;
    animation: fadeInUp 0.6s var(--transition-smooth) forwards;
    animation-delay: calc(var(--card-index) * 0.1s);
}

.game-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl);
    border-color: rgba(102, 126, 234, 0.3);
}

.game-card-image {
    width: 100%;
    height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background: linear-gradient(135deg, #667eea, #764ba2);
}

.game-card-image.blue {
    background: linear-gradient(135deg, #60a5fa, #3b82f6);
}

.game-card-image.green {
    background: linear-gradient(135deg, #4ade80, #22c55e);
}

.game-card-image.yellow {
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
}

.game-badge {
    padding: 12px 24px;
    background: rgba(255, 255, 255, 0.9);
    color: #1e293b;
    font-size: 18px;
    font-weight: 700;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
}

.game-card-body {
    padding: var(--spacing-md);
}

.game-title {
    font-size: 20px;
    font-weight: 600;
    color: var(--apple-text-primary);
    margin: 0 0 var(--spacing-sm) 0;
    line-height: 1.3;
}

.game-categories {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.game-category,
.game-subcategory {
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 0.5px;
    color: var(--apple-text-secondary);
    text-transform: uppercase;
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .games-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        text-align: center;
    }

    .hero-title {
        font-size: clamp(36px, 8vw, 48px);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }

    .filters-container {
        justify-content: flex-start;
        overflow-x: auto;
        scrollbar-width: none;
        flex-wrap: nowrap;
        padding-bottom: 8px;
    }

    .filters-container::-webkit-scrollbar {
        display: none;
    }

    .games-grid {
        grid-template-columns: 1fr;
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\Iridescence.css ====
.iridescence-container {
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    z-index: 0;
    /* Постоянный градиент - отображается СРАЗУ */
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.iridescence-container canvas {
    width: 100%;
    height: 100%;
    display: block;
    /* Canvas рендерится ПОВЕРХ градиента */
    position: absolute;
    top: 0;
    left: 0;
}


==== FILE: .\frontend\src\styles\LandingPage.css ====
/* ============================================
   APPLE PRO STYLE - PERFECT EDITION 2025
   Clean & Consistent Design with Ballpit
============================================ */

:root {
    /* Apple Color System */
    --apple-blue: #0071e3;
    --apple-blue-hover: #0077ed;
    --apple-blue-dark: #005bb5;
    --apple-gray-900: #1d1d1f;
    --apple-gray-100: #f5f5f7;
    --apple-gray-50: #fafafa;
    --apple-text-primary: #1d1d1f;
    --apple-text-secondary: #86868b;
    --apple-white: #ffffff;
    --apple-black: #000000;

    /* Clean Gradient */
    --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --gradient-accent: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);

    /* Glassmorphism - Light Mode */
    --glass-bg: rgba(255, 255, 255, 0.75);
    --glass-border: rgba(255, 255, 255, 0.18);
    --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
    --glass-blur: saturate(180%) blur(20px);

    /* Shadows */
    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
    --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);
    --shadow-lg: 0 12px 48px rgba(0, 0, 0, 0.18);
    --shadow-xl: 0 20px 64px rgba(0, 0, 0, 0.24);

    /* Typography */
    --font-display: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    --font-text: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

    /* Spacing System */
    --spacing-xs: 8px;
    --spacing-sm: 16px;
    --spacing-md: 24px;
    --spacing-lg: 40px;
    --spacing-xl: 60px;
    --spacing-2xl: 80px;
    --spacing-3xl: 120px;

    /* Transitions */
    --transition-smooth: cubic-bezier(0.28, 0.11, 0.32, 1);

    /* Border Radius */
    --radius-button: 12px;
    --radius-lg: 16px;
    --radius-xl: 24px;
}

/* Dark Mode */
[data-theme='dark'],
@media (prefers-color-scheme: dark) {
    :root:not([data-theme='light']) {
        --apple-gray-100: #000000;
        --apple-gray-50: #0a0a0a;
        --apple-text-primary: #f5f5f7;
        --apple-text-secondary: #a1a1a6;
        --glass-bg: rgba(29, 29, 31, 0.75);
        --glass-border: rgba(255, 255, 255, 0.12);
        --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
        --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
        --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
        --shadow-lg: 0 12px 48px rgba(0, 0, 0, 0.6);
        --shadow-xl: 0 20px 64px rgba(0, 0, 0, 0.7);
    }
}

[data-theme='dark'] {
    --apple-gray-100: #000000;
    --apple-gray-50: #0a0a0a;
    --apple-text-primary: #f5f5f7;
    --apple-text-secondary: #a1a1a6;
    --glass-bg: rgba(29, 29, 31, 0.75);
    --glass-border: rgba(255, 255, 255, 0.12);
    --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
    --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
    --shadow-lg: 0 12px 48px rgba(0, 0, 0, 0.6);
    --shadow-xl: 0 20px 64px rgba(0, 0, 0, 0.7);
}

/* Reset & Base */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-text);
    background: var(--apple-gray-100);
    color: var(--apple-text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
    transition: background-color 0.3s ease, color 0.3s ease;
}

html {
    scroll-behavior: smooth;
}

.landing-page {
    width: 100%;
    min-height: 100vh;
    background: var(--apple-gray-100);
    transition: background-color 0.3s ease;
}

/* ============================================
   Hero Section with Ballpit
============================================ */

.hero-section {
    position: relative;
    height: 100vh;
    min-height: 700px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--gradient-primary);
    overflow: hidden;
}

.hero-section::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 20%;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.1), transparent);
    pointer-events: none;
    z-index: 2;
}

/* Ballpit Container - фоновый слой */
.hero-ballpit-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
}

.hero-ballpit-container canvas {
    display: block;
    width: 100%;
    height: 100%;
}

/* Hero Content - поверх Ballpit */
.hero-content {
    position: relative;
    z-index: 3;
    text-align: center;
    padding: 0 var(--spacing-md);
    max-width: 980px;
    margin: 0 auto;
    pointer-events: none;
    /* Позволяет взаимодействовать с Ballpit */
}

/* Все интерактивные элементы внутри hero-content */
.hero-content * {
    pointer-events: auto;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 8vw, 96px);
    font-weight: 700;
    line-height: 1.05;
    letter-spacing: -0.015em;
    color: var(--apple-white);
    margin-bottom: var(--spacing-sm);
    opacity: 0;
    animation: fadeInUp 1s 0.2s var(--transition-smooth) forwards;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.3);
}

.hero-subtitle {
    font-size: clamp(21px, 3vw, 28px);
    font-weight: 400;
    line-height: 1.4;
    letter-spacing: 0.007em;
    color: rgba(255, 255, 255, 0.95);
    margin-bottom: var(--spacing-lg);
    opacity: 0;
    animation: fadeInUp 1s 0.4s var(--transition-smooth) forwards;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
}

.hero-description {
    font-size: clamp(18px, 2.5vw, 21px);
    line-height: 1.5;
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: var(--spacing-xl);
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    opacity: 0;
    animation: fadeInUp 1s 0.6s var(--transition-smooth) forwards;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

/* Hero Actions - Кнопки */
.hero-actions {
    display: flex;
    gap: var(--spacing-sm);
    justify-content: center;
    flex-wrap: wrap;
    opacity: 0;
    animation: fadeInUp 1s 0.8s var(--transition-smooth) forwards;
}

/* Одинаковые стили для обеих кнопок */
.btn-primary,
.btn-secondary {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 16px 32px;
    font-size: 17px;
    font-weight: 600;
    font-family: inherit;
    text-decoration: none;
    color: #ffffff !important;
    background: rgba(255, 255, 255, 0.15);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: var(--radius-button);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    transition: all 0.4s var(--transition-smooth);
}

/* Shine эффект */
.btn-primary::before,
.btn-secondary::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.6s var(--transition-smooth);
    pointer-events: none;
    z-index: 0;
}

.btn-primary:hover::before,
.btn-secondary:hover::before {
    left: 100%;
}

.btn-primary:hover,
.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.25);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.2);
}

.btn-primary:active,
.btn-secondary:active {
    transform: translateY(0) scale(0.98);
}

.btn-primary>span,
.btn-secondary>span {
    position: relative;
    z-index: 1;
}

/* ============================================
   Features Section
============================================ */

.features-section {
    padding: var(--spacing-3xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
}

.features-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 1000px;
    height: 400px;
    background: radial-gradient(circle, rgba(102, 126, 234, 0.06) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
}

.section-title {
    font-family: var(--font-display);
    font-size: clamp(40px, 5vw, 64px);
    font-weight: 700;
    line-height: 1.1;
    letter-spacing: -0.015em;
    text-align: center;
    margin-bottom: var(--spacing-sm);
    color: var(--apple-text-primary);
    position: relative;
    z-index: 1;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s var(--transition-smooth), transform 0.8s var(--transition-smooth), color 0.3s ease;
}

.section-title.animate {
    opacity: 1;
    transform: translateY(0);
}

.section-subtitle {
    font-size: 21px;
    line-height: 1.5;
    text-align: center;
    color: var(--apple-text-secondary);
    margin-bottom: var(--spacing-2xl);
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    position: relative;
    z-index: 1;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s 0.2s var(--transition-smooth), transform 0.8s 0.2s var(--transition-smooth), color 0.3s ease;
}

.section-subtitle.animate {
    opacity: 1;
    transform: translateY(0);
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--spacing-md);
    position: relative;
    z-index: 1;
}

.feature-card {
    position: relative;
    padding: var(--spacing-lg);
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    box-shadow: var(--glass-shadow);
    transition: all 0.5s var(--transition-smooth), background 0.3s ease, border-color 0.3s ease;
    overflow: hidden;
    cursor: pointer;
    opacity: 0;
    transform: translateY(40px) scale(0.95);
}

.feature-card.animate {
    opacity: 1;
    transform: translateY(0) scale(1);
}

.feature-card:nth-child(1).animate {
    transition-delay: 0.1s;
}

.feature-card:nth-child(2).animate {
    transition-delay: 0.2s;
}

.feature-card:nth-child(3).animate {
    transition-delay: 0.3s;
}

.feature-card:nth-child(4).animate {
    transition-delay: 0.4s;
}

.feature-card:nth-child(5).animate {
    transition-delay: 0.5s;
}

.feature-card:nth-child(6).animate {
    transition-delay: 0.6s;
}

.feature-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--gradient-primary);
    opacity: 0;
    transition: opacity 0.4s var(--transition-smooth);
}

.feature-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: var(--shadow-xl);
    border-color: rgba(102, 126, 234, 0.3);
}

.feature-card:hover::before {
    opacity: 1;
}

.feature-icon {
    width: 72px;
    height: 72px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    background: var(--gradient-primary);
    border-radius: var(--radius-lg);
    margin-bottom: var(--spacing-md);
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
    transition: transform 0.5s var(--transition-smooth);
}

.feature-card:hover .feature-icon {
    transform: scale(1.1) rotate(5deg);
}

.feature-card h3 {
    font-size: 24px;
    font-weight: 600;
    margin-bottom: var(--spacing-sm);
    color: var(--apple-text-primary);
    line-height: 1.3;
    transition: color 0.3s var(--transition-smooth);
}

.feature-card:hover h3 {
    color: #667eea;
}

.feature-card p {
    font-size: 17px;
    line-height: 1.6;
    color: var(--apple-text-secondary);
    transition: color 0.3s var(--transition-smooth);
}

.feature-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    margin-top: var(--spacing-md);
    color: var(--apple-blue);
    font-size: 17px;
    font-weight: 600;
    text-decoration: none;
    transition: gap 0.3s var(--transition-smooth);
}

.feature-link:hover {
    gap: 10px;
}

/* ============================================
   FAQ Section
============================================ */

.faq-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 980px;
    margin: 0 auto;
}

.faq-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.faq-accordion {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    transition: box-shadow 0.3s var(--transition-smooth),
        background 0.3s ease,
        border-color 0.3s ease;
}

.faq-accordion:hover {
    box-shadow: var(--shadow-md);
    border-color: rgba(102, 126, 234, 0.2);
}

.faq-accordion-header {
    padding: var(--spacing-md);
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    user-select: none;
    background: transparent;
    transition: background 0.3s ease;
}

.faq-accordion-header:hover {
    background: rgba(102, 126, 234, 0.05);
}

.faq-accordion-header h3 {
    font-size: 19px;
    font-weight: 600;
    color: var(--apple-text-primary);
    transition: color 0.3s var(--transition-smooth);
}

.faq-accordion:hover .faq-accordion-header h3 {
    color: #667eea;
}

.faq-accordion-icon {
    width: 24px;
    height: 24px;
    transition: transform 0.5s var(--transition-smooth), color 0.3s var(--transition-smooth);
    color: var(--apple-text-secondary);
    flex-shrink: 0;
}

.faq-accordion.active .faq-accordion-icon {
    transform: rotate(180deg);
    color: #667eea;
}

.faq-accordion-body {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s var(--transition-smooth);
}

.faq-accordion.active .faq-accordion-body {
    max-height: 500px;
}

.faq-accordion-body p {
    font-size: 17px;
    line-height: 1.6;
    color: var(--apple-text-secondary);
    padding: 0 var(--spacing-md) var(--spacing-md);
    transition: color 0.3s ease;
}

/* ============================================
   Animations
============================================ */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ============================================
   Responsive Design
============================================ */

@media (max-width: 1024px) {
    .features-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .hero-section {
        min-height: 600px;
    }

    .hero-title {
        font-size: clamp(36px, 10vw, 56px);
        margin-bottom: 16px;
    }

    .hero-description {
        font-size: clamp(16px, 4vw, 18px);
        margin-bottom: 32px;
    }

    .features-grid {
        grid-template-columns: 1fr;
    }

    .hero-actions {
        flex-direction: column;
        width: 100%;
        max-width: 320px;
        margin: 0 auto;
    }

    .btn-primary,
    .btn-secondary {
        width: 100%;
        justify-content: center;
    }

    .section-title {
        font-size: clamp(32px, 8vw, 48px);
    }
}

/* ============================================
   Accessibility
============================================ */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Focus States */
.btn-primary:focus-visible,
.btn-secondary:focus-visible {
    outline: 3px solid rgba(255, 255, 255, 0.5);
    outline-offset: 4px;
}

.feature-card:focus-visible,
.faq-accordion-header:focus-visible {
    outline: 2px solid #667eea;
    outline-offset: 2px;
}


==== FILE: .\frontend\src\styles\MethodClubPage.css ====
/* ==================== METHOD CLUB PAGE - APPLE PRO STYLE ==================== */

.method-club-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.method-club-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

/* Hero Content */

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: clamp(19px, 2vw, 24px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* Hero Illustration - Sound Waves Icon */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.soundwave-icon-wrapper {
    position: relative;
    animation: soundwaveFloat 6s ease-in-out infinite;
}

@keyframes soundwaveFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-soundwave-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: soundwavePulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes soundwavePulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-soundwave-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* ==================== METHOD CLUB CONTENT SECTION ==================== */

.method-club-content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
}

.method-club-content-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 1000px;
    height: 400px;
    background: radial-gradient(circle, rgba(102, 126, 234, 0.06) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
}

.content-container {
    text-align: center;
    padding: var(--spacing-2xl) var(--spacing-md);
    position: relative;
    z-index: 1;
}

.section-title {
    font-family: var(--font-display);
    font-size: 32px;
    font-weight: 600;
    color: var(--apple-text-primary);
    margin: 0 0 var(--spacing-md);
    transition: color 0.3s ease;
}

.section-description {
    font-size: 18px;
    color: var(--apple-text-secondary);
    margin: 0;
    transition: color 0.3s ease;
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.hero-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.1s both;
}

.hero-subtitle {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.25s both;
}

.hero-image {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.4s both;
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-content-wrapper {
        gap: var(--spacing-lg);
    }

    .hero-image {
        flex: 0 0 400px;
    }

    .main-soundwave-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .method-club-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        gap: var(--spacing-xl);
        text-align: center;
    }

    .hero-title {
        font-size: clamp(36px, 8vw, 48px);
    }

    .hero-subtitle {
        font-size: clamp(17px, 3vw, 19px);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-soundwave-icon {
        width: 280px;
        height: 280px;
    }

    .method-club-content-section {
        padding: var(--spacing-xl) var(--spacing-md);
    }
}

/* ==================== ACCESSIBILITY ==================== */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\PageTemplate.css ====
/* ==================== UNIVERSAL PAGE TEMPLATE ==================== */

/* Hero Section */

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
    animation: fadeInUp 0.8s var(--transition-smooth) 0.1s both;
}

.hero-subtitle {
    font-size: clamp(19px, 2vw, 24px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
    animation: fadeInUp 0.8s var(--transition-smooth) 0.25s both;
}

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
    animation: fadeInUp 0.8s var(--transition-smooth) 0.4s both;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* Content Section */

.content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
}

.content-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 1000px;
    height: 400px;
    background: radial-gradient(circle, rgba(102, 126, 234, 0.06) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
}

.content-container {
    text-align: center;
    padding: var(--spacing-2xl) var(--spacing-md);
    position: relative;
    z-index: 1;
}

.section-title {
    font-family: var(--font-display);
    font-size: 32px;
    font-weight: 600;
    color: var(--apple-text-primary);
    margin: 0 0 var(--spacing-md);
    transition: color 0.3s ease;
}

.section-description {
    font-size: 18px;
    color: var(--apple-text-secondary);
    margin: 0;
    transition: color 0.3s ease;
}

/* Animations */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Responsive */

@media (max-width: 1024px) {
    .hero-content-wrapper {
        gap: var(--spacing-lg);
    }

    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    [class*="-hero"] {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        gap: var(--spacing-xl);
        text-align: center;
    }

    .hero-title {
        font-size: clamp(36px, 8vw, 48px);
    }

    .hero-subtitle {
        font-size: clamp(17px, 3vw, 19px);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }

    .content-section {
        padding: var(--spacing-xl) var(--spacing-md);
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\PioneerBookPage.css ====
/* ==================== PIONEER BOOK PAGE ==================== */

.pioneer-book-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.pioneer-book-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(40px, 5vw, 72px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: clamp(19px, 2vw, 24px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* ==================== HERO ILLUSTRATION - ICON ==================== */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* ==================== BOOK INFO SECTION ==================== */

.book-info-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1200px;
    margin: 0 auto;
}

.section-title {
    font-family: var(--font-display);
    font-size: clamp(36px, 4vw, 48px);
    font-weight: 700;
    margin: 0 0 var(--spacing-xl) 0;
    color: var(--apple-text-primary);
    letter-spacing: -0.02em;
    text-align: center;
}

.book-description {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    padding: var(--spacing-xl);
    box-shadow: var(--glass-shadow);
}

.book-description p {
    font-size: 17px;
    line-height: 1.8;
    color: var(--apple-text-primary);
    margin: 0 0 var(--spacing-md) 0;
}

.book-description p:last-child {
    margin-bottom: 0;
}

.email-link {
    color: #667eea;
    text-decoration: underline;
    transition: color 0.3s ease;
}

.email-link:hover {
    color: #764ba2;
}

/* ==================== TABLE OF CONTENTS ==================== */

.table-of-contents-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
}

.contents-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--spacing-md);
}

.content-card {
    position: relative;
    height: 200px;
    background: linear-gradient(135deg, #86a88f, #7a9f83);
    border-radius: var(--radius-lg);
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-md);
    box-shadow: var(--shadow-md);
    transition: all 0.4s var(--transition-smooth);
    cursor: pointer;
}

.content-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl);
}

.content-card-pattern {
    position: absolute;
    inset: 0;
    background-image:
        repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255, 255, 255, .1) 35px, rgba(255, 255, 255, .1) 70px),
        repeating-linear-gradient(-45deg, transparent, transparent 35px, rgba(0, 0, 0, .05) 35px, rgba(0, 0, 0, .05) 70px);
}

.content-card-title {
    position: relative;
    z-index: 1;
    font-size: 18px;
    font-weight: 700;
    color: white;
    text-align: center;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    line-height: 1.3;
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.hero-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.1s both;
}

.hero-subtitle {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.25s both;
}

.hero-image {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.4s both;
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .pioneer-book-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        text-align: center;
    }

    .hero-title {
        font-size: clamp(32px, 7vw, 42px);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }

    .contents-grid {
        grid-template-columns: 1fr;
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\PioneersWorkPage.css ====
/* ==================== PIONEERS WORK PAGE - APPLE PRO STYLE ==================== */

.pioneers-work-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.pioneers-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: var(--spacing-2xl);
    overflow: hidden;
    background: transparent;
}

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
    will-change: opacity, transform;
    backface-visibility: hidden;
    -webkit-font-smoothing: antialiased;
}

.hero-subtitle {
    font-size: clamp(17px, 2vw, 21px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* Hero Illustration - Icon */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* ==================== GETTING STARTED SECTION ==================== */

.getting-started-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
}

.section-title {
    font-family: var(--font-display);
    font-size: clamp(36px, 4vw, 48px);
    font-weight: 700;
    margin: 0 0 var(--spacing-xl) 0;
    color: var(--apple-text-primary);
    letter-spacing: -0.02em;
    transition: color 0.3s ease;
}

/* Filters */

.filters-container {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-xl);
}

.filter-btn {
    padding: 12px 24px;
    font-size: 15px;
    font-weight: 500;
    font-family: var(--font-text);
    color: var(--apple-text-primary);
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-button);
    cursor: pointer;
    transition: all 0.3s var(--transition-smooth);
    box-shadow: var(--shadow-sm);
}

.filter-btn:hover {
    background: rgba(102, 126, 234, 0.1);
    border-color: rgba(102, 126, 234, 0.3);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.filter-btn.active {
    background: var(--apple-black);
    color: var(--apple-white);
    border-color: var(--apple-black);
    font-weight: 600;
}

[data-theme='dark'] .filter-btn.active {
    background: var(--apple-white);
    color: var(--apple-black);
    border-color: var(--apple-white);
}

/* Cards Grid */

.pioneers-cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: var(--spacing-md);
}

.pioneer-card {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    overflow: hidden;
    cursor: pointer;
    box-shadow: var(--glass-shadow);
    position: relative;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s var(--transition-smooth),
        transform 0.6s var(--transition-smooth);
}

.pioneers-cards-grid.mounted .pioneer-card {
    opacity: 1;
    transform: translateY(0);
    transition-delay: calc(var(--card-index) * 0.1s);
}

.pioneer-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl);
    border-color: rgba(102, 126, 234, 0.3);
    transition: transform 0.3s var(--transition-smooth),
        box-shadow 0.3s var(--transition-smooth),
        border-color 0.3s var(--transition-smooth);
}

.pioneer-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--gradient-primary);
    opacity: 0;
    transition: opacity 0.4s var(--transition-smooth);
}

.pioneer-card:hover::before {
    opacity: 1;
}

.card-image {
    width: 100%;
    height: 220px;
    overflow: hidden;
    background: linear-gradient(135deg, #667eea, #764ba2);
    position: relative;
}

.card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s var(--transition-smooth);
}

.pioneer-card:hover .card-image img {
    transform: scale(1.05);
}

.card-body {
    padding: var(--spacing-md);
}

.card-category {
    display: inline-block;
    font-size: 12px;
    font-weight: 600;
    color: var(--apple-text-secondary);
    letter-spacing: 0.05em;
    margin-bottom: var(--spacing-xs);
}

.card-title {
    font-size: 19px;
    font-weight: 600;
    line-height: 1.4;
    color: var(--apple-text-primary);
    margin: 0;
    transition: color 0.3s var(--transition-smooth);
}

.pioneer-card:hover .card-title {
    color: #667eea;
}

/* ==================== PIONEER ASSEMBLY SECTION ==================== */

.pioneer-assembly-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
}

.assembly-content {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    padding: var(--spacing-xl);
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--glass-shadow);
}

.assembly-placeholder {
    font-size: 19px;
    color: var(--apple-text-secondary);
    text-align: center;
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px) translateZ(0);
    }

    to {
        opacity: 1;
        transform: translateY(0) translateZ(0);
    }
}

.hero-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.1s both;
}

.hero-subtitle {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.25s both;
}

.hero-image {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.4s both;
}

.section-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.2s both;
}

.filters-container {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.35s both;
}

.pioneers-cards-grid {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.5s both;
}

.pioneer-card {
    animation: fadeInUp 0.6s var(--transition-smooth) calc(0.6s + var(--card-index) * 0.1s) both;
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-content-wrapper {
        gap: var(--spacing-lg);
    }

    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }

    .pioneers-cards-grid {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }
}

@media (max-width: 768px) {
    .pioneers-hero {
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        text-align: center;
        gap: var(--spacing-xl);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }

    .filters-container {
        gap: var(--spacing-xs);
    }

    .filter-btn {
        padding: 10px 18px;
        font-size: 14px;
    }

    .pioneers-cards-grid {
        grid-template-columns: 1fr;
    }
}

/* ==================== ACCESSIBILITY ==================== */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\PrivacyPage.css ====
/* ==================== PRIVACY PAGE ==================== */
.privacy-page {
    width: 100%;
    min-height: 100vh;
    padding: 40px 24px 80px;
    background: var(--background);
    transition: background 0.3s ease;
}

.privacy-container {
    max-width: 900px;
    margin: 100px auto 0;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 48px;
    box-shadow: var(--shadow-md);
    transition: all 0.3s ease;
}

.privacy-title {
    font-size: clamp(32px, 4vw, 48px);
    font-weight: 700;
    color: var(--foreground);
    margin: 0 0 40px 0;
    line-height: 1.2;
    letter-spacing: -0.02em;
    transition: color 0.3s ease;
}

.privacy-section {
    margin-bottom: 40px;
}

.privacy-section:last-child {
    margin-bottom: 0;
}

.privacy-section h2 {
    font-size: 24px;
    font-weight: 600;
    color: var(--foreground);
    margin: 0 0 16px 0;
    line-height: 1.3;
    transition: color 0.3s ease;
}

.privacy-section p {
    font-size: 16px;
    line-height: 1.8;
    color: var(--muted-foreground);
    margin: 0 0 16px 0;
    transition: color 0.3s ease;
}

.privacy-section p:last-child {
    margin-bottom: 0;
}

.privacy-section ul {
    list-style: disc;
    padding-left: 24px;
    margin: 0 0 16px 0;
}

.privacy-section ul li {
    font-size: 16px;
    line-height: 1.8;
    color: var(--muted-foreground);
    margin-bottom: 8px;
    transition: color 0.3s ease;
}

.privacy-section ul li:last-child {
    margin-bottom: 0;
}

.privacy-section strong {
    font-weight: 600;
    color: var(--foreground);
    transition: color 0.3s ease;
}

.privacy-section a {
    color: var(--primary);
    text-decoration: underline;
    transition: color 0.3s ease;
}

.privacy-section a:hover {
    opacity: 0.8;
}

/* ==================== DARK THEME ==================== */
[data-theme="dark"] .privacy-page {
    background: #000000;
}

[data-theme="dark"] .privacy-container {
    background-color: #2c2c2e !important;
    background: #2c2c2e !important;
    border-color: #404040 !important;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6) !important;
}

[data-theme="dark"] .privacy-title,
[data-theme="dark"] .privacy-section h2,
[data-theme="dark"] .privacy-section strong {
    color: #ffffff;
}

[data-theme="dark"] .privacy-section p,
[data-theme="dark"] .privacy-section ul li {
    color: #d0d0d0;
}

[data-theme="dark"] .privacy-section a {
    color: #a98fff;
}

[data-theme="dark"] .privacy-section a:hover {
    color: #c4b0ff;
}

/* ==================== RESPONSIVE ==================== */
@media (max-width: 768px) {
    .privacy-page {
        padding: 32px 24px 48px;
    }

    .privacy-container {
        margin-top: 80px;
        padding: 32px 24px;
    }

    .privacy-title {
        font-size: clamp(28px, 6vw, 36px);
        margin-bottom: 32px;
    }

    .privacy-section h2 {
        font-size: 20px;
    }

    .privacy-section p,
    .privacy-section ul li {
        font-size: 15px;
    }
}

@media (max-width: 480px) {
    .privacy-page {
        padding: 24px 16px 32px;
    }

    .privacy-container {
        margin-top: 70px;
        padding: 24px 16px;
        border-radius: 12px;
    }

    .privacy-section ul {
        padding-left: 20px;
    }

    .privacy-section h2 {
        font-size: 18px;
    }

    .privacy-section p,
    .privacy-section ul li {
        font-size: 14px;
    }
}


==== FILE: .\frontend\src\styles\ScenariosPage.css ====
/* ==================== SCENARIOS PAGE ==================== */

.scenarios-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.scenarios-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: clamp(19px, 2vw, 24px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* ==================== HERO ILLUSTRATION - ICON ==================== */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* ==================== CONTENT SECTION ==================== */

.scenarios-content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
}

.section-title {
    font-family: var(--font-display);
    font-size: clamp(36px, 4vw, 48px);
    font-weight: 700;
    margin: 0 0 var(--spacing-xl) 0;
    color: var(--apple-text-primary);
    letter-spacing: -0.02em;
    transition: color 0.3s ease;
}

.content-placeholder {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    padding: var(--spacing-xl);
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--glass-shadow);
}

.placeholder-text {
    font-size: 19px;
    color: var(--apple-text-secondary);
    text-align: center;
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .scenarios-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        text-align: center;
    }

    .hero-title {
        font-size: clamp(36px, 8vw, 48px);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\SchoolLeadersPage.css ====
/* ==================== SCHOOL LEADERS PAGE - APPLE PRO STYLE ==================== */

.school-leaders-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.school-leaders-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: var(--spacing-2xl);
    overflow: hidden;
    background: transparent;
}

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: clamp(17px, 2vw, 21px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* Hero Illustration - Icon */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* ==================== CONTENT SECTION ==================== */

.leaders-content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
}

.section-title {
    font-family: var(--font-display);
    font-size: clamp(36px, 4vw, 48px);
    font-weight: 700;
    margin: 0 0 var(--spacing-xl) 0;
    color: var(--apple-text-primary);
    letter-spacing: -0.02em;
    transition: color 0.3s ease;
}

.content-placeholder {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    padding: var(--spacing-xl);
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--glass-shadow);
}

.placeholder-text {
    font-size: 19px;
    color: var(--apple-text-secondary);
    text-align: center;
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px) translateZ(0);
    }

    to {
        opacity: 1;
        transform: translateY(0) translateZ(0);
    }
}

.hero-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.1s both;
}

.hero-subtitle {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.25s both;
}

.hero-image {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.4s both;
}

.section-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.2s both;
}

.content-placeholder {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.35s both;
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-content-wrapper {
        gap: var(--spacing-lg);
    }

    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .school-leaders-hero {
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        text-align: center;
        gap: var(--spacing-xl);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }
}

/* ==================== ACCESSIBILITY ==================== */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\SchoolMediaPage.css ====
/* ==================== SCHOOL MEDIA PAGE ==================== */

.school-media-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.school-media-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: 0;
    overflow: hidden;
    background: transparent;
}

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: clamp(19px, 2vw, 24px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* ==================== HERO ILLUSTRATION - ICON ==================== */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* ==================== CONTENT SECTION ==================== */

.media-content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
}

.section-title {
    font-family: var(--font-display);
    font-size: clamp(36px, 4vw, 48px);
    font-weight: 700;
    margin: 0 0 var(--spacing-xl) 0;
    color: var(--apple-text-primary);
    letter-spacing: -0.02em;
    transition: color 0.3s ease;
}

.content-placeholder {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    padding: var(--spacing-xl);
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--glass-shadow);
}

.placeholder-text {
    font-size: 19px;
    color: var(--apple-text-secondary);
    text-align: center;
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px) translateZ(0);
    }

    to {
        opacity: 1;
        transform: translateY(0) translateZ(0);
    }
}

.hero-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.1s both;
}

.hero-subtitle {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.25s both;
}

.hero-image {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.4s both;
}

.section-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.2s both;
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-content-wrapper {
        gap: var(--spacing-lg);
    }

    .hero-title {
        font-size: clamp(40px, 6vw, 64px);
    }

    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .school-media-hero {
        min-height: auto;
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        gap: var(--spacing-xl);
        text-align: center;
    }

    .hero-title {
        font-size: clamp(36px, 8vw, 48px);
    }

    .hero-subtitle {
        font-size: clamp(17px, 3vw, 19px);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }

    .media-content-section {
        padding: var(--spacing-xl) var(--spacing-md);
    }
}

/* ==================== ACCESSIBILITY ==================== */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}


==== FILE: .\frontend\src\styles\SearchFilters.css ====
/* ============================================
   APPLE PRO SEARCH FILTERS - CLEAN
============================================ */


:root {
    --sf-primary: #667eea;
    --sf-secondary: #764ba2;
    --sf-text: #1d1d1f;
    --sf-text-secondary: #6e6e73;
    --sf-bg: #ffffff;
    --sf-surface: #f5f5f7;
    --sf-border: rgba(0, 0, 0, 0.1);
    --sf-hover: rgba(0, 0, 0, 0.05);
    --sf-glass-bg: rgba(255, 255, 255, 0.8);
    --sf-glass-blur: saturate(180%) blur(20px);
    --sf-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
    --sf-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);
    --sf-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.16);
    --sf-font: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", system-ui, sans-serif;
    --sf-transition: cubic-bezier(0.28, 0.11, 0.32, 1);
    --sf-speed: 0.4s;
}


[data-theme='dark'] {
    --sf-text: #f5f5f7;
    --sf-text-secondary: #98989d;
    --sf-bg: #000000;
    --sf-surface: #1c1c1e;
    --sf-border: rgba(255, 255, 255, 0.15);
    --sf-hover: rgba(255, 255, 255, 0.08);
    --sf-glass-bg: rgba(28, 28, 30, 0.8);
    --sf-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
    --sf-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
    --sf-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.6);
}


@media (prefers-color-scheme: dark) {
    :root:not([data-theme='light']) {
        --sf-text: #f5f5f7;
        --sf-text-secondary: #98989d;
        --sf-bg: #000000;
        --sf-surface: #1c1c1e;
        --sf-border: rgba(255, 255, 255, 0.15);
        --sf-hover: rgba(255, 255, 255, 0.08);
        --sf-glass-bg: rgba(28, 28, 30, 0.8);
        --sf-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
        --sf-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
        --sf-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.6);
    }
}


.search-filters {
    width: 100%;
    margin-bottom: 32px;
}


.search-bar {
    position: relative;
    margin-bottom: 16px;
}


.search-input {
    width: 100%;
    height: 56px;
    padding: 0 20px;
    font-size: 17px;
    font-weight: 400;
    font-family: var(--sf-font);
    color: var(--sf-text);
    background: var(--sf-glass-bg);
    backdrop-filter: var(--sf-glass-blur);
    -webkit-backdrop-filter: var(--sf-glass-blur);
    border: 1px solid var(--sf-border);
    border-radius: 12px;
    outline: none;
    transition: all var(--sf-speed) var(--sf-transition);
    box-shadow: var(--sf-shadow-sm);
}


.search-input::placeholder {
    color: var(--sf-text-secondary);
}


.search-input:hover {
    border-color: rgba(102, 126, 234, 0.3);
    box-shadow: var(--sf-shadow-md);
}


.search-input:focus {
    border-color: var(--sf-primary);
    box-shadow: var(--sf-shadow-md);
    outline: none;
}


.filters-row {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr auto;
    gap: 12px;
    align-items: stretch;
}


.custom-select-wrapper {
    position: relative;
    width: 100%;
}


.custom-select-button {
    width: 100%;
    height: 44px;
    padding: 0 40px 0 16px;
    font-size: 15px;
    font-weight: 500;
    font-family: var(--sf-font);
    color: var(--sf-text);
    background: var(--sf-glass-bg);
    backdrop-filter: var(--sf-glass-blur);
    -webkit-backdrop-filter: var(--sf-glass-blur);
    border: 1px solid var(--sf-border);
    border-radius: 12px;
    cursor: pointer;
    transition: all var(--sf-speed) var(--sf-transition);
    box-shadow: var(--sf-shadow-sm);
    display: flex;
    align-items: center;
    justify-content: space-between;
    text-align: left;
    outline: none;
}


.custom-select-button:hover {
    border-color: rgba(102, 126, 234, 0.3);
    box-shadow: var(--sf-shadow-md);
}


.custom-select-button.active {
    border-color: var(--sf-primary);
    box-shadow: var(--sf-shadow-md);
    outline: none;
}


.custom-select-value {
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--sf-text);
}


.custom-select-arrow {
    width: 20px;
    height: 20px;
    color: var(--sf-text-secondary);
    transition: transform var(--sf-speed) var(--sf-transition);
    flex-shrink: 0;
}


.custom-select-button.active .custom-select-arrow {
    transform: rotate(180deg);
}


.custom-select-dropdown {
    background: var(--sf-glass-bg);
    backdrop-filter: var(--sf-glass-blur);
    -webkit-backdrop-filter: var(--sf-glass-blur);
    border: 1px solid var(--sf-border);
    border-radius: 12px;
    box-shadow: var(--sf-shadow-lg);
    max-height: 320px;
    overflow: hidden;
}


.custom-select-dropdown-inner {
    max-height: 320px;
    overflow-y: auto;
    padding: 6px;
}


.custom-select-dropdown-inner::-webkit-scrollbar {
    width: 8px;
}


.custom-select-dropdown-inner::-webkit-scrollbar-track {
    background: transparent;
}


.custom-select-dropdown-inner::-webkit-scrollbar-thumb {
    background: var(--sf-border);
    border-radius: 4px;
}


.custom-select-dropdown-inner::-webkit-scrollbar-thumb:hover {
    background: var(--sf-text-secondary);
}


.custom-select-option {
    padding: 10px 12px;
    font-size: 15px;
    font-family: var(--sf-font);
    color: var(--sf-text);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s var(--sf-transition);
    margin-bottom: 2px;
    display: flex;
    align-items: center;
    gap: 8px;
}


.custom-select-option:hover {
    background: var(--sf-hover);
}


.custom-select-option.selected {
    background: linear-gradient(135deg, var(--sf-primary) 0%, var(--sf-secondary) 100%);
    color: white;
    font-weight: 600;
}


.check-mark {
    font-size: 14px;
    font-weight: bold;
}


.option-text {
    flex: 1;
}


.btn-reset {
    height: 44px;
    padding: 0 24px;
    font-size: 15px;
    font-weight: 600;
    font-family: var(--sf-font);
    color: var(--sf-text);
    background: var(--sf-glass-bg);
    backdrop-filter: var(--sf-glass-blur);
    -webkit-backdrop-filter: var(--sf-glass-blur);
    border: 1px solid var(--sf-border);
    border-radius: 12px;
    cursor: pointer;
    transition: all var(--sf-speed) var(--sf-transition);
    box-shadow: var(--sf-shadow-sm);
    white-space: nowrap;
    outline: none;
}


.btn-reset:hover {
    border-color: rgba(102, 126, 234, 0.3);
    box-shadow: var(--sf-shadow-md);
}


.btn-reset:focus {
    outline: none;
}


@media (max-width: 1024px) {
    .filters-row {
        grid-template-columns: 1fr 1fr;
        gap: 10px;
    }


    .btn-reset {
        grid-column: 1 / -1;
    }
}


@media (max-width: 768px) {
    .filters-row {
        grid-template-columns: 1fr;
        gap: 10px;
    }


    .custom-select-button,
    .btn-reset {
        height: 40px;
        font-size: 14px;
    }


    .search-input {
        height: 48px;
        font-size: 15px;
    }
}


@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation: none !important;
        transition-duration: 0.01ms !important;
    }
}

.search-input,
.search-input:focus,
.search-input:focus-visible {
    outline: none !important;
    box-shadow: none !important;
}


==== FILE: .\frontend\src\styles\StaggeredMenu.css ====
/* ============================================
   STAGGERED MENU - ФИНАЛЬНАЯ ВЕРСИЯ
============================================ */

:root {
    --sm-accent: #667eea;
    --sm-transition: cubic-bezier(0.4, 0, 0.2, 1);
    --sm-transition-smooth: cubic-bezier(0.25, 0.1, 0.25, 1);
}

.sm-panel-list,
.sm-panel-list *,
.sm-submenu,
.sm-submenu * {
    list-style: none !important;
    list-style-type: none !important;
}

.sm-panel-itemWrap,
.sm-submenu-item {
    overflow: visible !important;
}

.sm-panel-itemWrap::before,
.sm-panel-itemWrap::after,
.sm-submenu-item::before,
.sm-submenu-item::after {
    display: none !important;
    content: none !important;
}

.staggered-menu-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    z-index: 1000;
}

.staggered-menu-wrapper.fixed-wrapper {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    pointer-events: none;
    z-index: 100;
    /* ← ПОНИЖЕН */
}

.staggered-menu-wrapper.fixed-wrapper .staggered-menu-header {
    pointer-events: auto;
}

/* Когда меню открыто - делаем панель кликабельной */
/* ПРАВИЛЬНО - используем атрибут data-open */
.staggered-menu-wrapper.fixed-wrapper[data-open="true"] .staggered-menu-panel {
    pointer-events: auto;
}



/* Header - ОДИН раз определён */

.staggered-menu-header {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem 2.5rem;
    pointer-events: auto;
    z-index: 1001;
    background: #ffffff00;
}

[data-theme='dark'] .staggered-menu-header {
    background: #00000000;
}


/* Logo */

.sm-logo {
    display: flex;
    align-items: center;
    gap: 14px;
    text-decoration: none;
    transition: opacity 0.4s var(--sm-transition-smooth), transform 0.4s var(--sm-transition-smooth);
    font-family: var(--font-display, -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif);
    color: var(--apple-text-primary, #1d1d1f);
}

[data-theme='dark'] .sm-logo {
    color: #f5f5f7;
}

.sm-logo:hover {
    opacity: 0.85;
    transform: translateX(-3px);
}

.sm-logo-text {
    font-size: 19px;
    font-weight: 600;
    letter-spacing: -0.02em;
}

.sm-logo-icon {
    width: 200px;
    height: 50px;
    object-fit: contain;
    flex-shrink: 0;
    transition: opacity 0.3s ease;
}

/* Toggle Button */

.sm-toggle {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 10px 18px;
    border-radius: 999px;
    border: none;
    cursor: pointer;
    font-family: var(--font-text, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif);
    font-size: 15px;
    font-weight: 600;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    transition: all 0.4s var(--sm-transition-smooth);
    background: rgba(0, 0, 0, 0.06);
    color: #1d1d1f !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    will-change: transform, background, box-shadow;
    overflow: hidden;
}

[data-theme='dark'] .sm-toggle {
    background: rgba(255, 255, 255, 0.12);
    color: #ffffff !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.sm-toggle:hover {
    transform: scale(1.02);
    background: rgba(0, 0, 0, 0.1);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
}

[data-theme='dark'] .sm-toggle:hover {
    background: rgba(255, 255, 255, 0.18);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
}

.sm-toggle:active {
    transform: scale(0.98);
    transition-duration: 0.15s;
}

.sm-toggle:focus-visible {
    outline: 2px solid var(--sm-accent);
    outline-offset: 3px;
}

.sm-toggle-textWrap {
    position: relative;
    display: inline-block;
    height: 1em;
    overflow: hidden;
    min-width: 55px;
    line-height: 1;
}

.sm-toggle-textInner {
    display: flex;
    flex-direction: column;
    line-height: 1;
    height: auto;
}

.sm-toggle-line {
    display: block;
    height: 1em;
    line-height: 1;
    overflow: hidden;
    color: inherit;
}

.sm-icon {
    position: relative;
    width: 16px;
    height: 16px;
    flex-shrink: 0;
}

.sm-icon-line {
    position: absolute;
    left: 50%;
    top: 50%;
    width: 100%;
    height: 2px;
    background: currentColor;
    border-radius: 2px;
    transform: translate(-50%, -50%);
}

/* Panel Layers */

.sm-prelayers {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: clamp(340px, 42vw, 520px);
    pointer-events: none !important;
    z-index: 999;
}

[data-position='left'] .sm-prelayers {
    right: auto;
    left: 0;
}

.sm-prelayer {
    position: absolute;
    inset: 0;
}

/* Main Panel */

.staggered-menu-panel {
    position: absolute;
    top: 0;
    right: 0;
    width: clamp(340px, 42vw, 520px);
    height: 100%;
    display: flex;
    flex-direction: column;
    padding: 6.5rem 2.5rem 2.5rem;
    overflow-y: auto;
    overflow-x: hidden;
    z-index: 1000;
    backdrop-filter: saturate(180%) blur(30px);
    -webkit-backdrop-filter: saturate(180%) blur(30px);
    transition: background 0.3s ease, border-color 0.3s ease;
    background: rgba(255, 255, 255, 0.88);
    border-left: 1px solid rgba(0, 0, 0, 0.06);
    box-shadow: -8px 0 40px rgba(0, 0, 0, 0.15);
}

[data-theme='dark'] .staggered-menu-panel {
    background: rgba(28, 28, 30, 0.92);
    border-left-color: rgba(255, 255, 255, 0.08);
    box-shadow: -8px 0 40px rgba(0, 0, 0, 0.6);
}

[data-position='left'] .staggered-menu-panel {
    right: auto;
    left: 0;
    border-left: none;
    border-right: 1px solid rgba(0, 0, 0, 0.06);
    box-shadow: 8px 0 40px rgba(0, 0, 0, 0.15);
}

[data-theme='dark'][data-position='left'] .staggered-menu-panel {
    border-right-color: rgba(255, 255, 255, 0.08);
    box-shadow: 8px 0 40px rgba(0, 0, 0, 0.6);
}

.staggered-menu-panel::-webkit-scrollbar {
    width: 6px;
}

.staggered-menu-panel::-webkit-scrollbar-track {
    background: transparent;
}

.staggered-menu-panel::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 10px;
}

[data-theme='dark'] .staggered-menu-panel::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
}

.staggered-menu-panel::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.3);
}

[data-theme='dark'] .staggered-menu-panel::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
}

.sm-panel-inner {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    width: 100%;
    max-width: 100%;
}

/* Menu Items */

.sm-panel-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    width: 100%;
}

.sm-panel-itemWrap {
    position: relative;
    line-height: 1;
    width: 100%;
}

.sm-panel-item {
    position: relative;
    display: inline-flex;
    align-items: center;
    font-weight: 700;
    font-size: clamp(2.2rem, 5vw, 3.2rem);
    line-height: 1.1;
    letter-spacing: -0.025em;
    text-transform: uppercase;
    text-decoration: none;
    cursor: pointer;
    transition: color 0.4s var(--sm-transition-smooth);
    font-family: var(--font-display, -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif);
    width: 100%;
    max-width: 100%;
    color: #1d1d1f;
}

[data-theme='dark'] .sm-panel-item {
    color: #f5f5f7;
}

.sm-panel-itemLabel {
    display: inline-block;
}

.sm-panel-item:hover,
.sm-panel-item.active {
    color: var(--sm-accent);
}

/* Submenu */

.sm-submenu-wrapper {
    width: 100%;
}

.sm-panel-item.submenu-toggle {
    display: flex;
    justify-content: flex-start;
    background: none;
    border: none;
    text-align: left;
    padding: 0;
}

.sm-submenu-arrow {
    display: none !important;
}

.sm-submenu {
    list-style: none !important;
    margin: 0;
    padding: 0;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s var(--sm-transition-smooth);
    width: 100%;
}

.sm-submenu.expanded {
    max-height: 1200px;
    margin-top: 1rem;
}

.sm-submenu-item {
    margin-bottom: 0.4rem;
    width: 100%;
    list-style: none !important;
}

.sm-submenu-item:last-child {
    margin-bottom: 0;
}

.sm-submenu-link {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    font-weight: 700;
    font-size: clamp(1.4rem, 3vw, 1.8rem);
    line-height: 1.1;
    letter-spacing: -0.02em;
    text-transform: uppercase;
    text-decoration: none;
    cursor: pointer;
    transition: color 0.4s var(--sm-transition-smooth), transform 0.4s var(--sm-transition-smooth);
    font-family: var(--font-display, -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif);
    width: 100%;
    max-width: 100%;
    color: #1d1d1f;
}

[data-theme='dark'] .sm-submenu-link {
    color: #f5f5f7;
}

.sm-submenu-link:hover,
.sm-submenu-link.active {
    color: var(--sm-accent);
    transform: translateX(6px);
}

.sm-submenu-label {
    flex: 1;
}

/* User Section */

.sm-user-section {
    margin-top: auto;
    padding-top: 2rem;
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
    border-top: 1px solid rgba(0, 0, 0, 0.08);
}

[data-theme='dark'] .sm-user-section {
    border-top-color: rgba(255, 255, 255, 0.08);
}

.sm-user-info {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 16px;
    border-radius: 14px;
    transition: background 0.4s var(--sm-transition-smooth);
    background: rgba(0, 0, 0, 0.03);
}

[data-theme='dark'] .sm-user-info {
    background: rgba(255, 255, 255, 0.06);
}

.sm-user-info:hover {
    background: rgba(0, 0, 0, 0.06);
}

[data-theme='dark'] .sm-user-info:hover {
    background: rgba(255, 255, 255, 0.1);
}

.sm-user-avatar {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 18px;
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.sm-user-name {
    font-size: 16px;
    font-weight: 600;
    font-family: var(--font-text, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif);
    letter-spacing: -0.015em;
    color: #1d1d1f;
}

[data-theme='dark'] .sm-user-name {
    color: #f5f5f7;
}

/* Actions */

.sm-actions {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
}

.sm-theme-btn,
.sm-auth-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 14px 20px;
    border-radius: 12px;
    border: none;
    font-family: var(--font-text, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif);
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.4s var(--sm-transition-smooth);
    letter-spacing: -0.015em;
    width: 100%;
    will-change: transform, background, box-shadow;
}

.sm-theme-btn {
    background: rgba(0, 0, 0, 0.05);
    color: #1d1d1f;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

[data-theme='dark'] .sm-theme-btn {
    background: rgba(255, 255, 255, 0.08);
    color: #f5f5f7;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.sm-theme-btn:hover {
    background: rgba(0, 0, 0, 0.08);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
}

[data-theme='dark'] .sm-theme-btn:hover {
    background: rgba(255, 255, 255, 0.12);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
}

.sm-theme-btn:active {
    transform: translateY(0);
    transition-duration: 0.15s;
}

.sm-theme-icon {
    font-size: 18px;
}

.sm-theme-text {
    font-size: 15px;
}

.sm-auth-btn.login {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #ffffff;
    font-weight: 700;
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}

.sm-auth-btn.login:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 28px rgba(102, 126, 234, 0.5);
}

.sm-auth-btn.logout {
    background: rgba(255, 59, 48, 0.1);
    color: #ff3b30;
    border: 1px solid rgba(255, 59, 48, 0.3);
}

.sm-auth-btn.logout:hover {
    background: rgba(255, 59, 48, 0.15);
    border-color: rgba(255, 59, 48, 0.5);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(255, 59, 48, 0.25);
}

.sm-auth-btn:active {
    transform: translateY(0);
    transition-duration: 0.15s;
}

/* Responsive */

@media (max-width: 1024px) {

    .staggered-menu-panel,
    .sm-prelayers {
        width: 85vw;
        max-width: 420px;
    }
}

@media (max-width: 768px) {
    .staggered-menu-header {
        padding: 1rem 1.5rem;
    }

    .sm-logo {
        gap: 10px;
    }

    .sm-logo-text {
        font-size: 17px;
    }

    .sm-logo-icon {
        width: 150px;
        height: 40px;
    }

    .sm-toggle {
        padding: 8px 14px;
        font-size: 14px;
    }

    .staggered-menu-panel,
    .sm-prelayers {
        width: 100%;
        max-width: 100%;
    }

    .staggered-menu-panel {
        padding: 5rem 1.8rem 2rem;
    }

    .sm-panel-item {
        font-size: clamp(1.8rem, 8vw, 2.4rem);
    }

    .sm-submenu-link {
        font-size: clamp(1.2rem, 5vw, 1.5rem);
    }

    .sm-user-avatar {
        width: 38px;
        height: 38px;
        font-size: 16px;
    }

    .sm-user-name {
        font-size: 15px;
    }

    .sm-theme-btn,
    .sm-auth-btn {
        padding: 13px 18px;
        font-size: 15px;
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
    }
}

.sm-panel-item:focus-visible,
.sm-submenu-link:focus-visible,
.sm-theme-btn:focus-visible,
.sm-auth-btn:focus-visible {
    outline: 2px solid var(--sm-accent);
    outline-offset: 3px;
}

/* ============================================
   СКРЫТЬ FOOTER КОГДА МЕНЮ ОТКРЫТО
============================================ */

/* Когда меню открыто - скрываем footer */
body:has(.staggered-menu-wrapper[data-open="true"]) .footer {
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}


==== FILE: .\frontend\src\styles\VolunteersPage.css ====
/* ==================== VOLUNTEERS PAGE - APPLE PRO STYLE ==================== */

.volunteers-page {
    width: 100%;
    overflow: hidden;
}

/* ==================== HERO SECTION ==================== */

.volunteers-hero {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--spacing-3xl) var(--spacing-md);
    margin-bottom: var(--spacing-2xl);
    overflow: hidden;
    background: transparent;
}

.hero-content-wrapper {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-xl);
    max-width: 1400px;
    width: 100%;
}

.hero-content {
    flex: 1;
    max-width: 600px;
}

.hero-title {
    font-family: var(--font-display);
    font-size: clamp(48px, 6vw, 80px);
    font-weight: 700;
    margin: 0 0 var(--spacing-md) 0;
    color: var(--apple-white);
    line-height: 1.05;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: clamp(17px, 2vw, 21px);
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin: 0;
    font-weight: 400;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
}

/* Hero Illustration - Icon */

.hero-image {
    flex: 0 0 500px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 500px;
}

.hero-illustration {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.icon-wrapper {
    position: relative;
    animation: iconFloat 6s ease-in-out infinite;
}

@keyframes iconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-30px);
    }
}

.main-icon {
    width: 380px;
    height: 380px;
    color: rgba(255, 255, 255, 0.95);
    filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    animation: iconPulse 3s ease-in-out infinite;
    transition: all 0.6s ease;
}

@keyframes iconPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
    }

    50% {
        transform: scale(1.05);
        filter: drop-shadow(0 35px 70px rgba(102, 126, 234, 0.6));
    }
}

.main-icon:hover {
    transform: scale(1.1) !important;
    filter: drop-shadow(0 40px 80px rgba(102, 126, 234, 0.8)) !important;
}

/* ==================== CONTENT SECTION ==================== */

.volunteers-content-section {
    padding: var(--spacing-2xl) var(--spacing-md);
    max-width: 1400px;
    margin: 0 auto;
}

.section-title {
    font-family: var(--font-display);
    font-size: clamp(36px, 4vw, 48px);
    font-weight: 700;
    margin: 0 0 var(--spacing-xl) 0;
    color: var(--apple-text-primary);
    letter-spacing: -0.02em;
    transition: color 0.3s ease;
}

.content-placeholder {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    padding: var(--spacing-xl);
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--glass-shadow);
}

.placeholder-text {
    font-size: 19px;
    color: var(--apple-text-secondary);
    text-align: center;
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px) translateZ(0);
    }

    to {
        opacity: 1;
        transform: translateY(0) translateZ(0);
    }
}

.hero-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.1s both;
}

.hero-subtitle {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.25s both;
}

.hero-image {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.4s both;
}

.section-title {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.2s both;
}

.content-placeholder {
    animation: fadeInUp 0.8s var(--transition-smooth) 0.35s both;
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 1024px) {
    .hero-content-wrapper {
        gap: var(--spacing-lg);
    }

    .hero-image {
        flex: 0 0 400px;
    }

    .main-icon {
        width: 320px;
        height: 320px;
    }
}

@media (max-width: 768px) {
    .volunteers-hero {
        padding: var(--spacing-2xl) var(--spacing-md);
    }

    .hero-content-wrapper {
        flex-direction: column;
        text-align: center;
        gap: var(--spacing-xl);
    }

    .hero-image {
        flex: 0 0 auto;
        height: 400px;
    }

    .main-icon {
        width: 280px;
        height: 280px;
    }
}

/* ==================== ACCESSIBILITY ==================== */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
    }
}

